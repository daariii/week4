(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77429,51798,55378,39395,58789,48061,20506,72913,264,80978,91903,15071,87806,28375],{226501:e=>{var t,o,n,i,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"3d02a815854a4cd4fc94f5c7fc4e7a1e",id:null,metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:"query FollowersControllerQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        username\n        followerCount\n        id\n      }\n    }\n  }\n}\n"}};r.hash="085db880bf812861c72fed5460061cbc",e.exports=r},675600:e=>{var t,o,n,i,r,s={fragment:{argumentDefinitions:t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{cacheID:"20e8523ead27d083bd2750554d0ae59d",id:null,metadata:{},name:"FollowersListDuploPaginationQuery",operationKind:"query",text:"query FollowersListDuploPaginationQuery(\n  $count: Int = 10\n  $cursor: Cursor\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...ProfileFollowersGraphQL_user_1G22uz\n    id\n  }\n}\n\nfragment ProfileFollowersGraphQL_user_1G22uz on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: $count, after: $cursor) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};s.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=s},958045:e=>{var t,o,n,i,r,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:i=[{kind:"Literal",name:"first",value:10}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:10)"},{alias:null,args:i,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},r],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{cacheID:"9bfea921a9728aaf9194efb0947c110e",id:null,metadata:{},name:"ProfileFollowersControllerGraphQLDuploQuery",operationKind:"query",text:"query ProfileFollowersControllerGraphQLDuploQuery(\n  $userId: String!\n) {\n  v3GetUserHandlerQuery(user: $userId) {\n    __typename\n    ... on V3GetUserHandler {\n      data {\n        ...ProfileFollowersGraphQL_user\n        id\n      }\n    }\n  }\n}\n\nfragment ProfileFollowersGraphQL_user on User {\n  followers {\n    __typename\n    ... on UserFollowersConnectionContainer {\n      connection(first: 10) {\n        edges {\n          node {\n            ...ProfileUserRepGraphQL_user\n            id\n            __typename\n          }\n          cursor\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n  id\n}\n\nfragment ProfileUserRepGraphQL_user on User {\n  username\n  fullName\n  imageMediumUrl\n  imageXlargeUrl\n  explicitlyFollowedByMe\n  entityId\n  verifiedIdentity {\n    verified\n  }\n}\n"}};s.hash="790a1cc582da875dd51867ea26d81354",e.exports=s},44438:(e,t,o)=>{var n,i={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:["node"],operation:o(675600),identifierField:"id"}},name:"ProfileFollowersGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowersList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileUserRepGraphQL_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};i.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=i},382375:e=>{var t,o,n,i,r,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"05a0eab4c4529047294d099977481a89",id:null,metadata:{},name:"ProfileUserRepGraphQLFollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLFollowMutation(\n  $followee: String!\n) {\n  v3FollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3FollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};s.hash="80ca7b23e17dc132070cd2e1a348eef3",e.exports=s},200722:e=>{var t,o,n,i,r,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[n={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{cacheID:"82c4b0892e8ed324c4125f0453209bbe",id:null,metadata:{},name:"ProfileUserRepGraphQLUnfollowMutation",operationKind:"mutation",text:"mutation ProfileUserRepGraphQLUnfollowMutation(\n  $followee: String!\n) {\n  v3UnfollowUserMethodMutation(input: {followee: $followee}) {\n    __typename\n    ... on Error {\n      __isError: __typename\n      error {\n        message\n      }\n    }\n    ... on V3UnfollowUserMethod {\n      data {\n        explicitlyFollowedByMe\n        username\n        id\n      }\n    }\n  }\n}\n"}};s.hash="2faed66ab14b45f67a0df0446b21703d",e.exports=s},896355:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQL_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"22d1ebb77d326b5a38c56d478e47ea07"};e.exports=t},453658:(e,t,o)=>{var n={"./":[106860,9],"./CZ":[590685,9,90685],"./CZ.js":[590685,9,90685],"./DA":[237534,9,37534],"./DA.js":[237534,9,37534],"./DE":[159788,9,59788],"./DE.js":[159788,9,59788],"./ENUK":[199555,9,99555],"./ENUK.js":[199555,9,99555],"./ENUS":[326380,9,26380],"./ENUS.js":[326380,9,26380],"./ESAR":[874795,9,74795],"./ESAR.js":[874795,9,74795],"./ESES":[315152,9,15152],"./ESES.js":[315152,9,15152],"./ESMX":[591787,9,91787],"./ESMX.js":[591787,9,91787],"./FI":[684204,9,84204],"./FI.js":[684204,9,84204],"./FR":[197400,9,97400],"./FR.js":[197400,9,97400],"./GR":[938439,9,38439],"./GR.js":[938439,9,38439],"./HI":[144014,9,44014],"./HI.js":[144014,9,44014],"./HU":[843479,9,43479],"./HU.js":[843479,9,43479],"./ID":[111450,9,19798],"./ID.js":[111450,9,19798],"./IT":[259916,9,59916],"./IT.js":[259916,9,59916],"./JP":[65083,9,65083],"./JP.js":[65083,9,65083],"./KR":[576525,9,76525],"./KR.js":[576525,9,76525],"./MS":[347840,9,47840],"./MS.js":[347840,9,47840],"./NL":[689761,9,89761],"./NL.js":[689761,9,89761],"./NO":[693952,9,93952],"./NO.js":[693952,9,93952],"./PL":[383843,9,83843],"./PL.js":[383843,9,83843],"./PTBR":[735826,9,35826],"./PTBR.js":[735826,9,35826],"./PTPT":[578882,9,78882],"./PTPT.js":[578882,9,78882],"./RO":[840316,9,40316],"./RO.js":[840316,9,40316],"./RU":[257367,9,57367],"./RU.js":[257367,9,57367],"./SK":[636295,9,36295],"./SK.js":[636295,9,36295],"./SV":[921501,9,21501],"./SV.js":[921501,9,21501],"./TH":[641767,9,41767],"./TH.js":[641767,9,41767],"./TL":[928578,9,28578],"./TL.js":[928578,9,28578],"./TR":[391953,9,91953],"./TR.js":[391953,9,91953],"./UA":[176010,9,76010],"./UA.js":[176010,9,76010],"./VT":[96894,9,96894],"./VT.js":[96894,9,96894],"./ZHCN":[982436,9,82436],"./ZHCN.js":[982436,9,82436],"./ZHTW":[229518,9,29518],"./ZHTW.js":[229518,9,29518],"./index":[106860,9],"./index.js":[106860,9],"./localeToFilename":[161087,9],"./localeToFilename.js":[161087,9],"./types":[927431,7,27431],"./types.js":[927431,7,27431]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(2).map(o.e)).then((()=>o.t(i,16|t[1])))}i.keys=()=>Object.keys(n),i.id=453658,e.exports=i},701305:e=>{var t=[],o=[];function n(e,t,o,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,s=r.call(e);if(s!=r.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=o.length;l--;)if(o[l]==e)return i[l]==t;o.push(e),i.push(t);var a=0;if("[object Array]"===s){if((a=e.length)!==t.length)return!1;for(;a--;)if(!n(e[a],t[a],o,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!n(e[c[d]],t[c[d]],o,i))return!1}return o.pop(),i.pop(),!0}e.exports=function(e,i){var r=t.length?t.pop():[],s=o.length?o.pop():[],l=n(e,i,r,s);return r.length=0,s.length=0,t.push(r),o.push(s),l}},60139:e=>{function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},663620:(e,t,o)=>{var n=o(60139);e.exports=n},968337:(e,t,o)=>{function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(o){e[o]=t[o]}))})),e}function i(e){return Object.prototype.toString.call(e)}function r(e){return"[object Function]"===i(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var a={"http:":{validate:function(e,t,o){var n=e.slice(t);return o.re.http||(o.re.http=new RegExp("^\\/\\/"+o.re.src_auth+o.re.src_host_port_strict+o.re.src_path,"i")),o.re.http.test(n)?n.match(o.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,o){var n=e.slice(t);return o.re.no_http||(o.re.no_http=new RegExp("^"+o.re.src_auth+"(?:localhost|(?:(?:"+o.re.src_domain+")\\.)+"+o.re.src_domain_root+")"+o.re.src_port+o.re.src_host_terminator+o.re.src_path,"i")),o.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(o.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,o){var n=e.slice(t);return o.re.mailto||(o.re.mailto=new RegExp("^"+o.re.src_email_name+"@"+o.re.src_host_strict,"i")),o.re.mailto.test(n)?n.match(o.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=o(136066)(e.__opts__),n=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var a=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var o=e.__schemas__[t];if(null!==o){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===i(o))return!function(e){return"[object RegExp]"===i(e)}(o.validate)?r(o.validate)?n.validate=o.validate:c(t,o):n.validate=function(e){return function(t,o){var n=t.slice(o);return e.test(n)?n.match(e)[0].length:0}}(o.validate),void(r(o.normalize)?n.normalize=o.normalize:o.normalize?c(t,o):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(o)?c(t,o):a.push(t)}})),a.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function u(e,t){var o=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(o,n);this.schema=e.__schema__.toLowerCase(),this.index=o+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function _(e,t){var o=new u(e,t);return e.__compiled__[o.schema].normalize(o,e),o}function h(e,t){if(!(this instanceof h))return new h(e,t);var o;t||(o=e,Object.keys(o||{}).reduce((function(e,t){return e||l.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},a,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,o,n,i,r,s,l,a;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(i=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||a<this.__index__)&&null!==(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=o.index+o[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=o.index+o[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(r=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=s)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0},h.prototype.match=function(e){var t=0,o=[];this.__index__>=0&&this.__text_cache__===e&&(o.push(_(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)o.push(_(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return o.length?o:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,o){return e!==o[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},136066:(e,t,o)=>{e.exports=function(e){var t={};t.src_Any=o(329369).source,t.src_Cc=o(499413).source,t.src_Z=o(335045).source,t.src_P=o(373189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},288668:(e,t,o)=>{var n=o(883369),i=o(90619),r=o(572385);function s(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,e.exports=s},477412:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}},234963:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,r=[];++o<n;){var s=e[o];t(s,o,e)&&(r[i++]=s)}return r}},829932:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i}},862488:e=>{e.exports=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e}},282908:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},744037:(e,t,o)=>{var n=o(698363),i=o(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},163886:(e,t,o)=>{var n=o(698363),i=o(481704);e.exports=function(e,t){return e&&n(t,i(t),e)}},285990:(e,t,o)=>{var n=o(646384),i=o(477412),r=o(234865),s=o(744037),l=o(163886),a=o(364626),c=o(200278),d=o(318805),u=o(201911),_=o(458234),h=o(946904),p=o(664160),m=o(43824),g=o(529148),f=o(738517),x=o(701469),y=o(644144),v=o(356688),P=o(513218),b=o(472928),A=o(3674),w=o(481704),C="[object Arguments]",E="[object Function]",T="[object Object]",S={};S[C]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[T]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[E]=S["[object WeakMap]"]=!1,e.exports=function e(t,o,I,j,z,R){var D,O=1&o,k=2&o,L=4&o;if(I&&(D=z?I(t,j,z,R):I(t)),void 0!==D)return D;if(!P(t))return t;var N=x(t);if(N){if(D=m(t),!O)return c(t,D)}else{var M=p(t),F=M==E||"[object GeneratorFunction]"==M;if(y(t))return a(t,O);if(M==T||M==C||F&&!z){if(D=k||F?{}:f(t),!O)return k?u(t,l(D,t)):d(t,s(D,t))}else{if(!S[M])return z?t:{};D=g(t,M,O)}}R||(R=new n);var U=R.get(t);if(U)return U;R.set(t,D),b(t)?t.forEach((function(n){D.add(e(n,o,I,n,t,R))})):v(t)&&t.forEach((function(n,i){D.set(i,e(n,o,I,i,t,R))}));var B=N?void 0:(L?k?h:_:k?w:A)(t);return i(B||t,(function(n,i){B&&(n=t[i=n]),r(D,i,e(n,o,I,i,t,R))})),D}},247816:(e,t,o)=>{var n=o(228483),i=o(3674);e.exports=function(e,t){return e&&n(e,t,i)}},297786:(e,t,o)=>{var n=o(671811),i=o(240327);e.exports=function(e,t){for(var o=0,r=(t=n(t,e)).length;null!=e&&o<r;)e=e[i(t[o++])];return o&&o==r?e:void 0}},868866:(e,t,o)=>{var n=o(862488),i=o(701469);e.exports=function(e,t,o){var r=t(e);return i(e)?r:n(r,o(e))}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},690939:(e,t,o)=>{var n=o(902492),i=o(637005);e.exports=function e(t,o,r,s,l){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,r,s,e,l))}},902492:(e,t,o)=>{var n=o(646384),i=o(967114),r=o(518351),s=o(916096),l=o(664160),a=o(701469),c=o(644144),d=o(936719),u="[object Arguments]",_="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,m,g,f){var x=a(e),y=a(t),v=x?_:l(e),P=y?_:l(t),b=(v=v==u?h:v)==h,A=(P=P==u?h:P)==h,w=v==P;if(w&&c(e)){if(!c(t))return!1;x=!0,b=!1}if(w&&!b)return f||(f=new n),x||d(e)?i(e,t,o,m,g,f):r(e,t,v,o,m,g,f);if(!(1&o)){var C=b&&p.call(e,"__wrapped__"),E=A&&p.call(t,"__wrapped__");if(C||E){var T=C?e.value():e,S=E?t.value():t;return f||(f=new n),g(T,S,o,m,f)}}return!!w&&(f||(f=new n),s(e,t,o,m,g,f))}},225588:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},829221:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},880531:(e,t,o)=>{var n=o(562705),i=o(829932),r=o(701469),s=o(733448),l=n?n.prototype:void 0,a=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(s(t))return a?a.call(t):"";var o=t+"";return"0"==o&&1/t==-Infinity?"-0":o}},274757:e=>{e.exports=function(e,t){return e.has(t)}},671811:(e,t,o)=>{var n=o(701469),i=o(115403),r=o(555514),s=o(479833);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:r(s(e))}},257157:(e,t,o)=>{var n=o(274318);e.exports=function(e,t){var o=t?n(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var o=new e.constructor(e.source,t.exec(e));return o.lastIndex=e.lastIndex,o}},540419:(e,t,o)=>{var n=o(562705),i=n?n.prototype:void 0,r=i?i.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},318805:(e,t,o)=>{var n=o(698363),i=o(799551);e.exports=function(e,t){return n(e,i(e),t)}},201911:(e,t,o)=>{var n=o(698363),i=o(151442);e.exports=function(e,t){return n(e,i(e),t)}},967114:(e,t,o)=>{var n=o(288668),i=o(282908),r=o(274757);e.exports=function(e,t,o,s,l,a){var c=1&o,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var _=a.get(e),h=a.get(t);if(_&&h)return _==t&&h==e;var p=-1,m=!0,g=2&o?new n:void 0;for(a.set(e,t),a.set(t,e);++p<d;){var f=e[p],x=t[p];if(s)var y=c?s(x,f,p,t,e,a):s(f,x,p,e,t,a);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!r(g,t)&&(f===e||l(f,e,o,s,a)))return g.push(t)}))){m=!1;break}}else if(f!==x&&!l(f,x,o,s,a)){m=!1;break}}return a.delete(e),a.delete(t),m}},518351:(e,t,o)=>{var n=o(562705),i=o(611149),r=o(977813),s=o(967114),l=o(668776),a=o(321814),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,o,n,c,u,_){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=l;case"[object Set]":var p=1&n;if(h||(h=a),e.size!=t.size&&!p)return!1;var m=_.get(e);if(m)return m==t;n|=2,_.set(e,t);var g=s(h(e),h(t),n,c,u,_);return _.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,o)=>{var n=o(458234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,r,s,l){var a=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!a)return!1;for(var u=d;u--;){var _=c[u];if(!(a?_ in t:i.call(t,_)))return!1}var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var m=!0;l.set(e,t),l.set(t,e);for(var g=a;++u<d;){var f=e[_=c[u]],x=t[_];if(r)var y=a?r(x,f,_,t,e,l):r(f,x,_,e,t,l);if(!(void 0===y?f===x||s(f,x,o,r,l):y)){m=!1;break}g||(g="constructor"==_)}if(m&&!g){var v=e.constructor,P=t.constructor;v==P||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof P&&P instanceof P||(m=!1)}return l.delete(e),l.delete(t),m}},889464:(e,t,o)=>{var n=o(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},458234:(e,t,o)=>{var n=o(868866),i=o(799551),r=o(3674);e.exports=function(e){return n(e,r,i)}},946904:(e,t,o)=>{var n=o(868866),i=o(151442),r=o(481704);e.exports=function(e){return n(e,r,i)}},799551:(e,t,o)=>{var n=o(234963),i=o(770479),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return r.call(e,t)})))}:i;e.exports=l},151442:(e,t,o)=>{var n=o(862488),i=o(385924),r=o(799551),s=o(770479),l=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,r(e)),e=i(e);return t}:s;e.exports=l},900222:(e,t,o)=>{var n=o(671811),i=o(135694),r=o(701469),s=o(565776),l=o(541780),a=o(240327);e.exports=function(e,t,o){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var _=a(t[c]);if(!(u=null!=e&&o(e,_)))break;e=e[_]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&l(d)&&s(_,d)&&(r(e)||i(e))}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var o=e.length,n=new e.constructor(o);return o&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,o)=>{var n=o(274318),i=o(257157),r=o(593147),s=o(540419),l=o(477133);e.exports=function(e,t,o){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return i(e,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,o);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return r(e);case"[object Set]":return new a;case"[object Symbol]":return s(e)}}},115403:(e,t,o)=>{var n=o(701469),i=o(733448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!i(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},668776:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},624523:(e,t,o)=>{var n=o(288306);e.exports=function(e){var t=n(e,(function(e){return 500===o.size&&o.clear(),e})),o=t.cache;return t}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},555514:(e,t,o)=>{var n=o(624523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,o,n,i){t.push(n?i.replace(r,"$1"):o||e)})),t}));e.exports=s},240327:(e,t,o)=>{var n=o(733448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},150361:(e,t,o)=>{var n=o(285990);e.exports=function(e){return n(e,5)}},607187:(e,t,o)=>{var n=o(889464),i=o(479833),r=/[&<>"']/g,s=RegExp(r.source);e.exports=function(e){return(e=i(e))&&s.test(e)?e.replace(r,n):e}},227361:(e,t,o)=>{var n=o(297786);e.exports=function(e,t,o){var i=null==e?void 0:n(e,t);return void 0===i?o:i}},379095:(e,t,o)=>{var n=o(200013),i=o(900222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},618446:(e,t,o)=>{var n=o(690939);e.exports=function(e,t){return n(e,t)}},356688:(e,t,o)=>{var n=o(225588),i=o(307518),r=o(531167),s=r&&r.isMap,l=s?i(s):n;e.exports=l},472928:(e,t,o)=>{var n=o(829221),i=o(307518),r=o(531167),s=r&&r.isSet,l=s?i(s):n;e.exports=l},3674:(e,t,o)=>{var n=o(14636),i=o(400280),r=o(498612);e.exports=function(e){return r(e)?n(e):i(e)}},288306:(e,t,o)=>{var n=o(883369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=o.cache;if(r.has(i))return r.get(i);var s=e.apply(this,n);return o.cache=r.set(i,s)||r,s};return o.cache=new(i.Cache||n),o}i.Cache=n,e.exports=i},875472:(e,t,o)=>{var n=o(882689),i=o(701469);e.exports=function(e,t,o,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(o=r?void 0:o)||(o=null==o?[]:[o]),n(e,t,o))}},770479:e=>{e.exports=function(){return[]}},823493:(e,t,o)=>{var n=o(23279),i=o(513218);e.exports=function(e,t,o){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(o)&&(r="leading"in o?!!o.leading:r,s="trailing"in o?!!o.trailing:s),n(e,t,{leading:r,maxWait:t,trailing:s})}},418601:(e,t,o)=>{var n=o(14841),i=1/0;e.exports=function(e){return e?(e=n(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,o)=>{var n=o(418601);e.exports=function(e){var t=n(e),o=t%1;return t==t?o?t-o:t:0}},479833:(e,t,o)=>{var n=o(880531);e.exports=function(e){return null==e?"":n(e)}},615071:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(654337),i=o(773949),r=o(486186);o(45697);function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=o(667294),a=o(973935);const c=!1;var d=o(500220),u="unmounted",_="exited",h="entering",p="entered",m="exiting",g=function(e){function t(t,o){var n;n=e.call(this,t,o)||this;var i,r=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(i=_,n.appearStatus=h):i=p:i=t.unmountOnExit||t.mountOnEnter?u:_,n.state={status:i},n.nextCallback=null,n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:_}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==h&&o!==p&&(t=h):o!==h&&o!==p||(t=m)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,o,n=this.props.timeout;return e=t=o=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,o=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:o}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===_&&this.setState({status:u})},o.performEnter=function(e){var t=this,o=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[a.findDOMNode(this),n],r=i[0],s=i[1],l=this.getTimeouts(),d=n?l.appear:l.enter;!e&&!o||c?this.safeSetState({status:p},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,s),this.safeSetState({status:h},(function(){t.props.onEntering(r,s),t.onTransitionEnd(d,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(r,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),n=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!c?(this.props.onExit(n),this.safeSetState({status:m},(function(){e.props.onExiting(n),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:_},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:_},(function(){e.props.onExited(n)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(n){o&&(o=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(o&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],r=i[0],s=i[1];this.props.addEndListener(r,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,o=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Z.Provider,{value:null},"function"==typeof o?o(e,n):l.cloneElement(l.Children.only(o),n))},t}(l.Component);function f(){}g.contextType=d.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},g.UNMOUNTED=u,g.EXITED=_,g.ENTERING=h,g.ENTERED=p,g.EXITING=m;const x=g;var y=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.remove(n):"string"==typeof o.className?o.className=s(o.className,n):o.setAttribute("class",s(o.className&&o.className.baseVal||"",n)));var o,n}))},v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,o){var n=t.resolveArguments(e,o),i=n[0],r=n[1];t.removeClasses(i,"exit"),t.addClass(i,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,o)},t.onEntering=function(e,o){var n=t.resolveArguments(e,o),i=n[0],r=n[1]?"appear":"enter";t.addClass(i,r,"active"),t.props.onEntering&&t.props.onEntering(e,o)},t.onEntered=function(e,o){var n=t.resolveArguments(e,o),i=n[0],r=n[1]?"appear":"enter";t.removeClasses(i,r),t.addClass(i,r,"done"),t.props.onEntered&&t.props.onEntered(e,o)},t.onExit=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"appear"),t.removeClasses(o,"enter"),t.addClass(o,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var o=t.resolveArguments(e)[0];t.addClass(o,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"exit"),t.addClass(o,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,o){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,o]},t.getClassNames=function(e){var o=t.props.classNames,n="string"==typeof o,i=n?""+(n&&o?o+"-":"")+e:o[e];return{baseClassName:i,activeClassName:n?i+"-active":o[e+"Active"],doneClassName:n?i+"-done":o[e+"Done"]}},t}(0,r.Z)(t,e);var o=t.prototype;return o.addClass=function(e,t,o){var n=this.getClassNames(t)[o+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===o&&i&&(n+=" "+i),"active"===o&&e&&e.scrollTop,n&&(this.appliedClasses[t][o]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((o=e).classList?o.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(o,n)||("string"==typeof o.className?o.className=o.className+" "+n:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+n)));var o,n}))}(e,n))},o.removeClasses=function(e,t){var o=this.appliedClasses[t],n=o.base,i=o.active,r=o.done;this.appliedClasses[t]={},n&&y(e,n),i&&y(e,i),r&&y(e,r)},o.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return l.createElement(x,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);v.defaultProps={classNames:""},v.propTypes={};const P=v},500220:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(667294).createContext(null)},654337:(e,t,o)=>{function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}o.d(t,{Z:()=>n})},486186:(e,t,o)=>{function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}o.d(t,{Z:()=>n})},773949:(e,t,o)=>{function n(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}o.d(t,{Z:()=>n})},442279:(e,t)=>{function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],o=null,i=null;return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];return null!==o&&o.length===r.length&&r.every((function(e,n){return t(e,o[n])}))||(i=e.apply(void 0,r)),o=r,i}}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var o=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+o+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];var l=0,a=i.pop(),c=r(i),d=e.apply(void 0,[function(){return l++,a.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=c.map((function(o){return o.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,o(s))};return u.resultFunc=a,u.recomputations=function(){return l},u.resetRecomputations=function(){return l=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e);return t(o.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t,n){return e[o[n]]=t,e}),{})}))};var l=t.P1=s(i)},560053:(e,t)=>{function o(e,t){var o=e.length;e.push(t);e:for(;0<o;){var n=o-1>>>1,i=e[n];if(!(0<r(i,t)))break e;e[n]=t,e[o]=i,o=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],o=e.pop();if(o!==t){e[0]=o;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var l=2*(n+1)-1,a=e[l],c=l+1,d=e[c];if(0>r(a,o))c<i&&0>r(d,a)?(e[n]=d,e[c]=o,n=c):(e[n]=a,e[l]=o,n=l);else{if(!(c<i&&0>r(d,o)))break e;e[n]=d,e[c]=o,n=c}}}return t}function r(e,t){var o=e.sortIndex-t.sortIndex;return 0!==o?o:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],u=1,_=null,h=3,p=!1,m=!1,g=!1,f="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,o(c,t)}t=n(d)}}function P(e){if(g=!1,v(e),!m)if(null!==n(c))m=!0,D(b);else{var t=n(d);null!==t&&O(P,t.startTime-e)}}function b(e,o){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var r=h;try{for(v(o),_=n(c);null!==_&&(!(_.expirationTime>o)||e&&!I());){var s=_.callback;if("function"==typeof s){_.callback=null,h=_.priorityLevel;var l=s(_.expirationTime<=o);o=t.unstable_now(),"function"==typeof l?_.callback=l:_===n(c)&&i(c),v(o)}else i(c);_=n(c)}if(null!==_)var a=!0;else{var u=n(d);null!==u&&O(P,u.startTime-o),a=!1}return a}finally{_=null,h=r,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,w=!1,C=null,E=-1,T=5,S=-1;function I(){return!(t.unstable_now()-S<T)}function j(){if(null!==C){var e=t.unstable_now();S=e;var o=!0;try{o=C(!0,e)}finally{o?A():(w=!1,C=null)}}else w=!1}if("function"==typeof y)A=function(){y(j)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,R=z.port2;z.port1.onmessage=j,A=function(){R.postMessage(null)}}else A=function(){f(j,0)};function D(e){C=e,w||(w=!0,A())}function O(e,o){E=f((function(){e(t.unstable_now())}),o)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var o=h;h=t;try{return e()}finally{h=o}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var o=h;h=e;try{return t()}finally{h=o}},t.unstable_scheduleCallback=function(e,i,r){var s=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(e.sortIndex=r,o(d,e),null===n(c)&&e===n(d)&&(g?(x(E),E=-1):g=!0,O(P,r-s))):(e.sortIndex=l,o(c,e),m||p||(m=!0,D(b))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var o=h;h=t;try{return e.apply(this,arguments)}finally{h=o}}}},363840:(e,t,o)=>{e.exports=o(560053)},499413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},373189:e=>{e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},335045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},329369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},653250:(e,t,o)=>{var n=o(667294);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useState,s=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!i(e,o)}catch(n){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),n=r({inst:{value:o,getSnapshot:t}}),i=n[0].inst,d=n[1];return l((function(){i.value=o,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,o,t]),s((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),a(o),o};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},950139:(e,t,o)=>{var n=o(667294),i=o(61688);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,o,n,i){var u=l(null);if(null===u.current){var _={hasValue:!1,value:null};u.current=_}else _=u.current;u=c((function(){function e(e){if(!a){if(a=!0,s=e,e=n(e),void 0!==i&&_.hasValue){var t=_.value;if(i(t,e))return l=t}return l=e}if(t=l,r(s,e))return t;var o=n(e);return void 0!==i&&i(t,o)?t:(s=e,l=o)}var s,l,a=!1,c=void 0===o?null:o;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,o,n,i]);var h=s(e,u[0],u[1]);return a((function(){_.hasValue=!0,_.value=h}),[h]),d(h),h}},61688:(e,t,o)=>{e.exports=o(653250)},552798:(e,t,o)=>{e.exports=o(950139)},17314:(e,t,o)=>{o.d(t,{Z:()=>c});var n,i,r=o(813653),s=o(861470),l=0,a=0;const c=function(e,t,o){var c=t&&o||0,d=t||new Array(16),u=(e=e||{}).node||n,_=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==_){var h=e.random||(e.rng||r.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:a+1,g=p-l+(m-a)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,a=m,i=_;var f=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[c++]=f>>>24&255,d[c++]=f>>>16&255,d[c++]=f>>>8&255,d[c++]=255&f;var x=p/4294967296*1e4&268435455;d[c++]=x>>>8&255,d[c++]=255&x,d[c++]=x>>>24&15|16,d[c++]=x>>>16&255,d[c++]=_>>>8|128,d[c++]=255&_;for(var y=0;y<6;++y)d[c+y]=u[y];return t||(0,s.Z)(d)}},808683:e=>{e.exports={ResponseCodeType:{OK:1,OK_WITH_ERROR:2,ERROR_GENERAL:3,ERROR_NOT_FOUND:4,ERROR_MISSING_FIELD:5,ERROR_LOGIC:6,ERROR_INTERNAL_RESOURCE:7,ERROR_EXTERNAL_RESOURCE:8,ERROR_BAD_FIELD:9,OK_DUPLICATE_ROW_USED_OLD:10},FeedProfileValidationResultCode:{PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},ErrorCode:{DATABASE_SERVER_ERROR:1,INVALID_REQUEST_ERROR:2,ACCESS_DENIED_ERROR:3,MERCHANT_PROFILE_ERROR:100,MERCHANT_EXTERNAL_ID_EXISTED:101,FEED_PROFILE_ERROR:200,PAYMENT_RECEIVER_PROFILE_ERROR:300,OMS_PROFILE_ERROR:400,PRODUCT_GROUP_NAME_ALREADY_EXISTS_ERROR:500,PRODUCT_GROUP_FILTERS_ALREADY_EXISTS_ERROR:501,PRODUCT_GROUP_SOURCE_ID_ALREADY_EXISTS_ERROR:502},MerchantActionType:{CREATE_MERCHANT:1,UPDATE_MERCHANT_COMMON_PROFILE:2,UPDATE_MERCHANT_FEED_PROFILE:3,DELETE_MERCHANT_FEED_PROFILE:4,UPDATE_MERCHANT_OMS_PROFILE:5,DELETE_MERCHANT_OMS_PROFILE:6,UPDATE_MERCHANT_PAYMENT_RECEIVER_PROFILE:7,DELETE_MERCHANT_PAYMENT_RECEIVER_PROFILE:8,UPDATE_MERCHANT_APPROVAL_STATUS:9,ACTIVATE_MERCHANT:10,DEACTIVATE_MERCHANT:11,UPDATE_PRODUCT_PIN_MERCHANT_APPROVAL_STATUS:21,ACTIVATE_PRODUCT_PIN_MERCHANT:22,DEACTIVATE_PRODUCT_PIN_MERCHANT:23,ADD_NOTES:12,DELETE_MERCHANT:13,DISABLE_FEED_PROFILE:14,ENABLE_FEED_PROFILE:15,CREATE_PRODUCT_GROUP:16,EDIT_PRODUCT_GROOUP:17,DISABLE_PRODUCT_GROUP:18,ENABLE_PRODUCT_GROUP:19,DELETE_PRODUCT_GROUP:20,APPLY_SUGGESTED_PRODUCT_GROUP:26,UNAPPLY_SUGGESTED_PRODUCT_GROUP:27,CONNECT_SHOPIFY_MERCHANT:24,DISCONNECT_SHOPIFY_MERCHANT:25},WorkflowStatType:{PRE_INGESTION_VALIDATION_PASSED:1,PRE_INGESTION_FETCH_SAME_SIGNATURE:2,PRE_INGESTION_FETCH_INACTIVE_FEED:3,ORIGINAL_PRODUCT_COUNT:4,INGESTION_PASSED:5,INDEXING_PASSED:6,PRE_INGESTION_VALIDATION_FETCH_ERROR:100,PRE_INGESTION_VALIDATION_ENCODING_ERROR:101,PRE_INGESTION_VALIDATION_DELIMITER_ERROR:102,PRE_INGESTION_VALIDATION_REQUIRED_COLUMNS_MISSING:103,PRE_INGESTION_VALIDATION_IMAGE_LINK_INVALID:104,PRE_INGESTION_VALIDATION_ITEMID_MISSING:105,PRE_INGESTION_VALIDATION_TITLE_MISSING:106,PRE_INGESTION_VALIDATION_DESCRIPTION_MISSING:107,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_MISSING:108,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_INVALID:109,PRE_INGESTION_VALIDATION_PRODUCT_LINK_MISSING:110,PRE_INGESTION_VALIDATION_IMAGE_LINK_MISSING:111,PRE_INGESTION_VALIDATION_AVAILABILITY_INVALID:112,PRE_INGESTION_VALIDATION_PRODUCT_PRICE_INVALID:113,PRE_INGESTION_VALIDATION_TITLE_LENGTH_TOO_LONG:114,PRE_INGESTION_VALIDATION_DESCRIPTION_LENGTH_TOO_LONG:115,PRE_INGESTION_VALIDATION_CONDITION_INVALID:116,PRE_INGESTION_VALIDATION_GENDER_INVALID:117,PRE_INGESTION_VALIDATION_AGE_GROUP_INVALID:118,PRE_INGESTION_VALIDATION_SIZE_TYPE_INVALID:119,PRE_INGESTION_VALIDATION_PARSE_LINE_ERROR:120,PRE_INGESTION_VALIDATION_LINK_FORMAT_WARNING:121,PRE_INGESTION_VALIDATION_LINK_FORMAT_ERROR:122,PRE_INGESTION_VALIDATION_DUPLICATE_PRODUCTS:123,PRE_INGESTION_VALIDATION_DUPLICATE_LINKS:124,PRE_INGESTION_VALIDATION_SALES_PRICE_INVALID:125,PRE_INGESTION_VALIDATION_PRODUCT_CATEGORY_DEPTH_WARNING:126,PRE_INGESTION_VALIDATION_ADWORDS_SAME_AS_LINK:127,PRE_INGESTION_VALIDATION_INTERNAL_SERVICE_ERROR:128,PRE_INGESTION_VALIDATION_DUPLICATE_HEADERS:129,PRE_INGESTION_VALIDATION_TAX_INVALID:130,PRE_INGESTION_VALIDATION_SHIPPING_INVALID:131,PRE_INGESTION_VALIDATION_SHIPPING_WEIGHT_INVALID:132,PRE_INGESTION_VALIDATION_MULTIPACK_INVALID:133,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_WARNING:134,PRE_INGESTION_VALIDATION_ADWORDS_FORMAT_ERROR:135,PRE_INGESTION_IMAGE_LINK_WARNING:136,PRE_INGESTION_ADDITIONAL_IMAGE_LINK_WARNING:137,PRE_INGESTION_FEED_LENGTH:138,PRE_INGESTION_VALIDATION_INVALID_DOMAIN:139,PRE_INGESTION_NO_VERIFIED_DOMAIN:140,PRE_INGESTION_VALIDATION_ADULT_INVALID:141,PRE_INGESTION_LINK_LENGTH_TOO_LONG:142,PRE_INGESTION_MALFORMED_XML:143,PRE_INGESTION_INVALID_EXPIRATION_DATE:144,PRE_INGESTION_INVALID_AVAILABILITY_DATE:145,PRE_INGESTION_INVALID_SALE_DATE:146,PRE_INGESTION_INVALID_WEIGHT_UNIT:147,PRE_INGESTION_INVALID_IS_BUNDLE:148,PRE_INGESTION_INVALID_UPDATED_TIME:149,PRE_INGESTION_INVALID_REDIRECT:150,PRE_INGESTION_PRICE_MISSING:151,PRE_INGESTION_FEED_TOO_SMALL:152,PRE_INGESTION_CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRE_INGESTION_PRODUCT_TYPE_LENGTH_TOO_LONG:154,PRE_INGESTION_TOO_MANY_ADDITIONAL_IMAGE_LINK:155,PRE_INGESTION_SHOPIFY_NO_PRODUCTS:156,PRE_INGESTION_VALIDATION_INVALID_IOS_DEEP_LINK:161,PRE_INGESTION_VALIDATION_INVALID_ANDROID_DEEP_LINK:162,POST_INGESTION_IMAGE_DOWNLOAD_SUCCESS:1e3,POST_INGESTION_IMAGE_DOWNLOAD_ERROR:1001,POST_INGESTION_PIN_CREATON_SUCCESS:1002,POST_INGESTION_PIN_CREATION_ERROR:1003,INVALID_ITEM_FORMAT:1004,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,IMAGE_DOWNLOAD_POLICY_VIOLATION:1009,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_NOT_FOUND:1010,POST_INGESTION_IMAGE_DOWNLOAD_ERROR_FORBIDDEN_ACCESS:1011,PRE_INGESTION_VALIDATION_MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA:1013,POST_INGESTION_PRODUCT_COUNT_LARGE_DELTA_FAILURE:1014},OverallWorkflowStatus:{COMPLETED:0,FAILED:1,PROCESSING:2,COMPLETED_EARLY:3,UNDER_REVIEW:4,DISAPPROVED:5,QUEUED_FOR_PROCESSING:6,UNDER_APPEAL:7},UrsaTaskType:{SHOPIFY_START_BULK_OPS_TASK:1,SHOPIFY_POLL_BULK_OPS_TASK:2,SHOPIFY_START_BULK_OPS_STAGING_TASK:3,SHOPIFY_POLL_BULK_OPS_STAGING_TASK:4,SHOPIFY_START_BULK_OPS_DEV_TASK:5,SHOPIFY_POLL_BULK_OPS_DEV_TASK:6},CatalogProductGroupFeatureableStatusCode:{FEATUREABLE:1,UNFEATURABLE_NOT_ENOUGH_PINS:2,UNFEATURABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATURABLE_EXCEEDED_PINS_LIMIT:4},CatalogProductGroupFilterKey:{ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26},CatalogProductGroupHierarchyType:{GOOGLE_PRODUCT_CATEGORY:1,PRODUCT_TYPE:2},CatalogProductGroupType:{MERCHANT_CREATED:0,ALL_PRODUCTS:1,BEST_DEALS:2,PINNER_FAVORITES:3,TOP_SELLERS:4,BACK_IN_STOCK:5,NEW_ARRIVALS:6,SHOPIFY_COLLECTIONS:7,I2PC:8},CatalogProductGroupFilterLogicalOperator:{AND:0,OR:1},CatalogProductGroupStatus:{ACTIVE:0,INACTIVE:1,SUGGESTED:2},MerchantMetadataField:{ALL:0,FEED_INGESTED_AT_LEAST_ONCE:1,LAST_SUCCESSFUL_INGESTION:2,PREFERENCE_MAP:3,DOMAIN_WHITELIST:4,LAST_LOW_AVAILABILITY_EMAIL_SENT_TIME_DEPRECATED:5},MerchantMetadataPreferenceKey:{DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},MerchantActionUpdatedDataType:{FEED_PROFILE_STATUS:1,MERCHANT_APPROVAL_STATUS:2,PRODUCT_GROUP_ENTITY:3,PRODUCT_GROUP_STATUS:4},CampaignImportingJobRecordType:{FILE_PARSING:1,CONTENT_VALIDATION:2,CAMPAIGN_CREATION:11,AD_GROUP_CREATION:21},CampaignImportingJobStatus:{STARTED:1,SUCCEEDED:2,FAILED:3,OTHER:10},ShopifyBulkOpStatusCode:{NOT_STARTED:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,PAUSED:4,SUPPRESSED:5,DELETED:7,INTERNAL_ERROR:9,OTHER:10,SLOW_RETRY:11},ShopifyBulkOpErrorCode:{NONE:0,FAILED_TO_GET_ACCESS_TOKEN:1001,FAILED_TO_UPDATE_BULK_OP_STATUS:1002,FAILED_TO_GET_BULK_URL:1003,FAILED_TO_INSPECT_INGESTION_STATUS:1101,FAILED_TO_SCHEDULE_INGESTION:1102,FAILED_TO_TRIGGER_INGESTION:1103,FAILED_TO_PROCESS_POLL_RESULT_OVERALL:1201,FAILED_TO_START_BULK_OP:1301,FAILED_TO_POLL_BULK_OP_STATUS:1302},GetBatchedShopifyBulkOpStatusOrderBy:{LAST_SUCCESSFUL_BULK_OP_TIME:1,LAST_BULK_CALL_TIME:2,LAST_POLL_CALL_TIME:3}}},559637:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]"]=function(){return o(337234).Z}},205418:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_created"]=function(){return o(337234).Z}},679875:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_followers"]=function(){return o(337234).Z}},992127:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_following"]=function(){return o(337234).Z}},52193:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_saved"]=function(){return o(337234).Z}},38101:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/_shop"]=function(){return o(337234).Z}},907254:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/story_pins"]=function(){return o(337234).Z}},331137:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/topics"]=function(){return o(337234).Z}},832753:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/tried"]=function(){return o(337234).Z}},333905:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/video_pins"]=function(){return o(337234).Z}},604052:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(784590),i=o(780280),r=o(826067);var s=o(925927);function l({checkExperiments:e,disableFetch:t,viewer:o}){const n=(0,s.TH)(),l=(0,s.$B)(),a=(0,i.B)(),c=function({location:{pathname:e,search:t},match:{params:o,path:n},viewer:i}){return{routeData:{matchPath:n,params:o,parsedSearch:(0,r.mB)(t),pathname:e,search:t},user:{country:i.country||void 0,id:i.id||void 0,isAuth:i.isAuth,isEmployee:!!i.isEmployee||!1,isPartner:!!i.isPartner||!1,username:i.username||void 0}}}({location:n,match:l,viewer:o}),d=!!t&&t(c),u=!(!d&&e)||e(a.experiments);return{args:c,fetchDisabled:d||!u}}var a=o(19121);function c({getOptions:e,checkExperiments:t,disableFetch:o,...i}){const r=function(){const e=(0,a.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0}}(),{args:s,fetchDisabled:c}=l({checkExperiments:t,disableFetch:o,viewer:r}),d=e?e(s):void 0;return(0,n.Z)({dangerouslyDisableFetch:c,options:d,...i})}},402039:(e,t,o)=>{let n;o.d(t,{Z:()=>r}),void 0===n&&(n=o.g);const i=function(e,t){const o=(i=t)===n.setTimeout?function(e,t){return n.setTimeout(e,t)}:i===n.setInterval?function(e,t){return n.setInterval(e,t)}:i===n.clearTimeout?function(e){return n.clearTimeout(e)}:i===n.clearInterval?function(e){return n.clearInterval(e)}:i;var i;return function(e,t,n,...i){return o(e,t,n,...i)}},r={setTimeout:i(0,n.setTimeout),setInterval:i(0,n.setInterval),clearTimeout:i(0,n.clearTimeout),clearInterval:i(0,n.clearInterval)}},105265:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(116303),i=o(883119),r=o(785893);function s({user:e,size:t="md",hasOutline:o}){const{first_name:s,image_medium_url:l,username:a}=e;return(0,r.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${a}/`,children:(0,r.jsx)(n.Z,{size:t,src:null!=l?l:"",name:s||a||"",outline:o})})}},608360:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(333312),r=o(223815),s=o(941646),l=o(898781),a=o(61877),c=o(883119),d=o(785893);const u=({handleBlockUser:e,handleClickReport:t,handleDelete:o,handleOnEdit:u,handleRemoveMention:_,handleHighlight:h,handleRemoveHighlight:p,showHighlightEducator:m,iconColor:g,small:f})=>{const x=(0,l.ZP)(),[y,v]=(0,n.useState)(!1),P=(0,n.useRef)(null),b=e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),v(!y)};if(!(e||t||o||u||_||h))return null;const A={highlight:x._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),remove:x._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:x._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:x._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),report:x._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:x._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),blockUser:x._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')};return(0,d.jsx)(c.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xu,{children:(0,d.jsx)(s.Z,{id:"flyout-toggle",children:(0,d.jsx)(c.hU,{accessibilityExpanded:y,accessibilityHaspopup:!0,accessibilityLabel:x._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:g||void 0,onClick:b,size:f?"sm":"md",ref:P})})}),m&&(0,d.jsx)(c.mh,{zIndex:a.lI,children:(0,d.jsx)(r.Z,{children:(0,d.jsx)(i.default,{anchor:P.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),y&&(0,d.jsxs)(c.Lt,{id:"dropdown-flyout",anchor:P.current,idealDirection:"down",onDismiss:b,isWithinFixedContainer:!0,children:[h&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{h(),b()},option:{label:A.highlight,value:A.highlight},dataTestId:"dropdown-item-highlight"}),p&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{p(),b()},option:{label:A.remove,value:A.remove},dataTestId:"dropdown-item-removeHighlight"}),u&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>u(),option:{label:A.edit,value:A.edit},dataTestId:"dropdown-item-edit"}),o&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>o(),option:{label:A.delete,value:A.delete},dataTestId:"dropdown-item-delete"}),t&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>t(),option:{label:A.report,value:A.report},dataTestId:"dropdown-item-report"}),_&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>{_(),b()},option:{label:A.removeMention,value:A.removeMention},dataTestId:"dropdown-item-removeMention"}),e&&(0,d.jsx)(c.Lt.Item,{onSelect:()=>e(),option:{label:A.blockUser,value:A.blockUser},dataTestId:"dropdown-item-blockUser"})]})]})})};u.defaultProps={handleBlockUser:null,handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null};const _=u},123630:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(182750),r=o(883119),s=o(785893);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.PureComponent{constructor(...e){super(...e),l(this,"parseText",(()=>{const{tags:e,taggedUsers:t,text:o,size:n}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(o,"1");let i=0,l=[];return e.forEach(((e,t)=>{const n=o.substring(i,e.offset);i=e.offset+e.length;const r=o.substring(e.offset,i);l=l.concat(this.renderRegularText(n,`${t}a`)).concat(this.renderTaggedText(r,t,`${t}b`))})),l=l.concat(this.renderRegularText(o.substring(i),"2")),(0,s.jsx)(r.xv,{inline:!0,size:n,overflow:"normal",children:l})})),l(this,"renderRegularText",((e,t)=>(0,s.jsx)(r.xv,{inline:!0,size:this.props.size,overflow:"normal",children:this.props.allowLink?(0,s.jsx)(i.Z,{children:e}):e},t))),l(this,"renderTaggedText",((e,t,o)=>(0,s.jsx)(r.xv,{color:"shopping",inline:!0,size:this.props.size,weight:"bold",overflow:"normal",children:(0,s.jsx)(r.rU,{inline:!0,href:`/${this.props.taggedUsers[t].username}`,underline:"hover",children:e})},o)))}render(){return(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:this.parseText()})}}l(a,"defaultProps",{allowLink:!0,size:"200"})},199939:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(123630),r=o(322741),s=o(986644),l=o(883119),a=o(898781),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||s.lr)+this.revealText.length}),d(this,"showFullText",(()=>this.setState({truncate:!1})))}get revealText(){return this.props.inUnifiedComments?this.props.i18n._('... More', 'click to see more of a long post', 'click to see more of a long post'):this.props.i18n._('... See more', 'click to see more of a long post', 'click to see more of a long post')}render(){const{allowLink:e,allowReveal:t,maxCharLength:o,size:a,tags:d,taggedUsers:u,text:_}=this.props,{truncate:h}=this.state,p=h?_.substring(0,o||s.lr).trim():_;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.Z,{allowLink:e,size:a,taggedUsers:u,tags:d,text:p}),h&&!t&&(0,c.jsx)(l.xv,{inline:!0,weight:"bold",overflow:"normal",children:this.revealText}),h&&t&&(0,c.jsx)(r.Z,{color:"default",handleClick:this.showFullText,text:this.revealText,size:a})]})}}d(u,"defaultProps",{allowLink:!0,allowReveal:!1,size:"200",tags:[],taggedUsers:[],text:""});const _=function(e){const t=(0,a.ZP)();return(0,c.jsx)(u,{...e,i18n:t})}},322741:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({color:e="subtle",handleClick:t,size:o="100",text:r}){return(0,i.jsx)(n.xu,{display:"inlineBlock",children:(0,i.jsx)(n.iP,{onTap:t,rounding:"pill",children:(0,i.jsx)(n.xv,{color:e,size:o,weight:"bold",children:r})})})}},182750:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(954931),r=o(968337),s=o.n(r),l=o(89254),a=o(610248),c=o(883119),d=o(785893);const u=new(s());u.tlds(a),u.add("#",{validate(e,t,o){const n=e.slice(t);return o.re.hashtag||(o.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+o.re.src_ZPCc+")")),o.re.hashtag.test(n)?!(t>=2&&"#"===n[t-2])&&n.match(o.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});const _=({decoratedHref:e,decoratedText:t,index:o,isTrusted:n})=>(0,d.jsx)(c.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:n?null:"blank",children:t},o);class h extends n.PureComponent{parseString(e){if(""===e)return e;const t=(o=e,u.match(o));var o;if(!t)return e;const n=[];let r=0;return t.forEach(((t,o)=>{t.index>r&&n.push(e.substring(r,t.index));let s=t.url;const a=(0,i.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(a){const e=(0,l.Z)(t.url);s=s.replace(e.origin,"")}const c=t.text,u=(0,d.jsx)(_,{decoratedHref:s,decoratedText:c,index:o,isTrusted:a});n.push(u),r=t.lastIndex})),e.length>r&&n.push(e.substring(r)),1===n.length?n[0]:n}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,n.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,n.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map(((e,t)=>this.parse(e,t))):e}render(){return(0,d.jsx)("span",{children:this.parse(this.props.children)})}}},986644:(e,t,o)=>{o.d(t,{A7:()=>i,YD:()=>r,lr:()=>n});const n=170,i=(e,t,o)=>{const n=new Date(e),i=(new Date).getTime()-n.getTime();return Math.floor(i/1e3)<60?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):o(e,!0)},r=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},749385:(e,t,o)=>{o.d(t,{$I:()=>b,$o:()=>h,CC:()=>f,Hr:()=>s,Jo:()=>u,OE:()=>P,Ux:()=>m,XQ:()=>v,XZ:()=>g,Zo:()=>x,aD:()=>y,b2:()=>w,dJ:()=>i,g2:()=>C,g6:()=>c,il:()=>l,lM:()=>a,qN:()=>_,qX:()=>r,s4:()=>p,ym:()=>A});var n=o(966113);const i=546,r={height:136,width:272},s={advertise:n.Z.settings.BUSINESS_SITE_URL+"/advertise",targeting:n.Z.settings.BUSINESS_SITE_URL+"/advertise/#targeting",how_to_make_pins:n.Z.settings.BUSINESS_SITE_URL+"/basics/how-to-make-pins/#best-practices",success_stories:n.Z.settings.BUSINESS_SITE_URL+"/success-stories/"},l={status_page_header_background:"https://i.pinimg.com/originals/76/52/b8/7652b80aac786dac958ce996d9692771.png",additional_resources_business_advertise:"https://i.pinimg.com/originals/58/4d/6f/584d6f9e21d7e95b723c04015a7f3333.png",additional_resources_business_audience:"https://i.pinimg.com/originals/44/3d/67/443d671687e418a4ec23bb56419c509c.png",additional_resources_business_how_to_make_pins:"https://i.pinimg.com/originals/79/f4/99/79f499fedffcfd50ee86ebaac4f34e9a.png",additional_resources_business_success_stories:"https://i.pinimg.com/originals/e0/55/12/e05512dbb012d7bd1861d901dc851b2e.png"},a=["US","GB","CA","AU","DE","FR"],c=["ES","IT","AT","CH","NL","BR","MX"],d=["FR"],u=a.concat(c).filter((e=>!d.includes(e))),_={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},h={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},p=Object.freeze({APPLIED:"APPLIED",IN_REVIEW:"IN_REVIEW",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED",OUTBOUND_LEAD:"OUTBOUND_LEAD"}),m=(e,t)=>{switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"IN_REVIEW":return t._('In review', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently in review to become a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},g=[p.NON_COMPLIANT,p.SUSPENDED],f=Object.freeze({UNSUPPORTED_MARKET:"unsupported_market",TAG_ID_NOT_CREATED:"tag_id_not_created",NO_TAG_TRAFFIC:"no_tag_traffic",HEALTH_SCORE_NOT_AVAILABLE:"health_score_not_available",UNHEALTHY:"unhealthy",ACCEPTABLE:"acceptable",HEALTHY:"healthy"}),x=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"alert",REJECTED:"clear",RECOMMENDED:"info-circle"}),y=Object.freeze({UNSTARTED:"subtle",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),v="https://view.highspot.com/viewer/5e712f05628ba21710e1b606",P="https://help.pinterest.com/contact?current_page=about_you_page&business_issues=visual_search_shopping&visual_search_shopping_issue=shop_issue_vmp",b={status:"APPLIED",userId:"user_undefined",is_approved:!1,last_compliant_at:""},A="Verified merchant program not yet available in this country",w=2e3,C={can_appeal:!0,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]}},969986:(e,t,o)=>{o.d(t,{EL:()=>u,Hn:()=>p,I0:()=>_,QZ:()=>c,UF:()=>h,em:()=>m,kw:()=>a,ye:()=>d});var n=o(487392),i=o(86551),r=o(784590),s=o(19121),l=o(780280);const a=()=>{var e,t;const o=(0,l.B)(),n=(0,r.Z)({name:"AdvertisersResource",options:{ownerUserId:null===(e=o.advertiser)||void 0===e?void 0:e.owner_user_id}});return(0,r.Z)({name:"VerifiedMerchantTagStatusResource",options:{advertisers:null===(t=n.data)||void 0===t?void 0:t.map((({country:e,id:t,name:o})=>({country:e,id:t,name:o})))}})},c=()=>{var e,t;const o=(0,l.B)(),n=(0,s.Z)(),i=n.isAuth?n.id:"";return(0,r.Z)({name:"VerifiedMerchantResource",options:{userId:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:i}})},d=()=>{var e;const t=null===(e=(0,i.Z)().data)||void 0===e?void 0:e.id;return(0,r.Z)({name:"VerifiedMerchantResource",options:{userId:t}})},u=()=>{var e,t;const o=(0,l.B)(),n=(0,s.Z)(),i=n.isAuth?n.id:"";return(0,r.Z)({name:"UserResource",options:{user_id:null!==(e=null===(t=o.advertiser)||void 0===t?void 0:t.owner_user_id)&&void 0!==e?e:i}})},_=()=>{const{merchantId:e}=(0,n.Z)();return(0,r.Z)({name:"CatalogsMerchantMetadataResource",options:{merchantId:e}})},h=()=>{const{merchantId:e}=(0,n.Z)();return(0,r.Z)({name:"CatalogsFeedResource",options:{merchantId:e}})},p=()=>{const{merchantId:e}=(0,n.Z)();return(0,r.Z)({name:"CatalogsMerchantResource",options:{merchantId:e}})},m=()=>{const{merchantId:e}=(0,n.Z)(),t=(0,r.Z)({name:"ApiResource",options:{url:`/v3/merchant_reviews/${e||""}/latest`}});return e?t:null}},283855:(e,t,o)=>{o.d(t,{K:()=>s,Q:()=>r});var n=o(667294);const i=(0,n.createContext)(null),r=i.Provider;function s(){const e=(0,n.useContext)(i);return null==e?void 0:e.featuredCommentId}},964569:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(966338),i=o(6637),r=o(778821),s=o(875495),l=o(195139),a=o(975209),c=o(874934),d=o(107656);const u={[d.o.aggregatedComment]:"AggregatedCommentReplyResource",[d.o.pin]:"AggregatedCommentResource",[d.o.didIt]:"DidItCommentsResource"};function _(){const e=(0,n.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:o}=(0,c.nf)();return async({fromUnifiedComment:n,objectId:c,objectType:d,orbacSubjectId:_,pinId:h,replyToCommentId:p,tags:m,text:g})=>{const f=u[d],x={objectId:c,pinId:h,tags:m,text:g,replyToCommentId:p,..._?{orbacSubjectId:_}:{}};let y=r.DV.AGGREGATED_COMMENTS;n&&(y="pin"===d?r.DV.UNIFIED_COMMENTS:r.DV.AGGREGATED_COMMENT_REPLIES);const v=await i.ZP.create(f,x).callCreate({showError:!1}),P=v.resource_response.data;return t(c,P),e((0,s.vX)({feedType:y,feedId:c,itemIds:[P.id],itemType:P.type})),"pin"===d&&h?e((0,l.R)(h,1)):"aggregatedComment"===d?o(c,1):e((0,a.L8)(c,1)),P.id||v}}},28754:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(966338),i=o(6637),r=o(541776),s=o(778821),l=o(875495),a=o(195139),c=o(975209),d=o(874934);function u(){const e=(0,n.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:o}=(0,d.nf)();return async({aggregatedCommentId:n,aggregatedPinId:d,feedType:u,orbacSubjectId:_,parentId:h,type:p,updateParentCommentCount:m})=>{await i.ZP.create("AggregatedCommentResource",{commentId:n,..._?{orbacSubjectId:_}:{}}).callDelete({showError:!1}),h&&(e((0,l.EX)({feedId:d||h,feedType:u||s.DV.AGGREGATED_COMMENTS,itemIds:[n],itemType:"aggregatedcomment"})),t(h,n),m&&(p||0===p)&&(p===r.Rv.TOP?e((0,a.R)(h,-1)):p===r.Rv.REPLY_TO_AGGREGATED?o(h,-1):e((0,c.L8)(h,-1))))}}},201658:(e,t,o)=>{o.d(t,{Z:()=>X});var n=o(667294),i=o(985913),r=o(91564),s=o(784590),l=o(883119),a=o(966338),c=o(745091),d=o(395141),u=o(6637),_=o(407043),h=o(60598),p=o(391254),m=o(887831),g=o(898781),f=o(785893);function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class y extends n.Component{constructor(...e){super(...e),x(this,"_videoContainerRef",null),x(this,"removeVideoTag",(()=>{this._videoContainerRef&&this._videoContainerRef.childNodes[0]&&this._videoContainerRef.removeChild(this._videoContainerRef.childNodes[0])})),x(this,"clear",(({event:e})=>{e.stopPropagation(),this.removeVideoTag(),this.props.handleRemoveClick()}))}get isPin(){const{display:e,imagePreviewSrc:t,videoUrls:o}=this.props;return!("pin"!==e||!t&&!o)}renderProgressBar(){const{progress:e}=this.props,t=100===e||0===e?"uploadProgressBar transition":"uploadProgressBar";return(0,f.jsx)("div",{className:t,style:{width:`${e}%`}})}renderDropZone(){return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(l.JO,{color:"default",icon:"camera",accessibilityLabel:this.props.i18n._('Add a Photo', 'Add a photo as part of a form', 'Add a photo as part of a form'),size:32})})}),(0,f.jsx)(l.xu,{marginTop:2,paddingX:12,children:(0,f.jsx)(l.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')})})]})}renderImage(){const{height:e,imagePreviewSrc:t,width:o}=this.props,n=this.props.i18n._('Your Upload', 'Image a pinner just uploaded to a form', 'Image a pinner just uploaded to a form');return this.isPin?(0,f.jsx)("img",{alt:n,src:t}):(0,f.jsx)(l.xu,{height:e,width:o,children:(0,f.jsx)(l.Ee,{alt:n,src:t,color:"white",naturalHeight:e,naturalWidth:o})})}renderResetButton(){return(0,f.jsx)(l.xu,{top:!0,left:!0,position:"absolute",margin:2,children:(0,f.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Remove Photo', 'Remove photo from a form', 'Remove photo from a form'),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}renderContent(){const{height:e,imagePreviewSrc:t,isHovering:o,isVideo:i,isVideoComplete:r,isOver:s,thumbnail:a,videoUrls:c,allowReset:d=!0,width:u}=this.props,_=c?(0,f.jsx)("video",{height:this.isPin?"auto":e,width:u,autoPlay:!0,controls:!0,loop:!0,poster:a||"",children:Object.keys(c).map((e=>(0,f.jsx)("source",{src:c[e],type:"hls"===e?"m3u8":"video/mp4"},e)))}):null,h=s?"lightGray":"white";return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(l.zd,{rounding:2,height:"100%",children:(0,f.jsxs)(l.xu,{color:h,height:"100%",width:"100%",justifyContent:"center",alignItems:"center",display:"flex",children:[!t&&!i&&this.renderDropZone(),i&&!c&&(0,f.jsxs)(l.xu,{children:[r&&(0,f.jsx)(l.xv,{align:"center",weight:"bold",children:this.props.i18n._('Processing Video', 'Loading message shown while user video is uploading', 'Loading message shown while user video is uploading')}),(0,f.jsx)(l.xu,{paddingY:4,children:(0,f.jsx)(l.$j,{show:!0,accessibilityLabel:this.props.i18n._('Video uploading', 'Loading spinner while video uploads', 'Loading spinner while video uploads')})})]}),_,t&&this.renderImage()]})}),(t||c)&&d&&o&&this.renderResetButton()]})}render(){const{connectDropTarget:e,height:t,imagePreviewSrc:o,onClick:n,videoUrls:i,width:r,hoverHandlers:{onMouseOver:s,onMouseLeave:a}}=this.props,c=this.isPin?"auto":t,d={width:r,border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:o?"default":"pointer",height:c,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},u=(0,f.jsxs)(l.xu,{position:"relative",children:[(0,f.jsx)(p.Z,{unsafeCSS:"\n.uploadProgressBar {\n  background-color: #e60023;\n  border-radius: 8px;\n  height: 16px;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 85ms ease-in, width 85ms ease-in;\n  z-index: 10;\n\n  &.transition {\n    opacity: 0;\n    transition: opacity 85ms ease-in, width 85ms ease-in;\n  }\n}\n"}),this.renderProgressBar(),o||i?(0,f.jsx)("div",{onMouseEnter:s,onMouseLeave:a,style:{...d},children:this.renderContent()}):(0,f.jsx)("button",{style:d,onClick:n,onMouseEnter:s,onMouseLeave:a,children:this.renderContent()})]});return e((0,f.jsx)("div",{children:u}))}}const v=(0,h.GR)((e=>e.accepts),{drop:(e,t)=>{e.onDrop&&e.onDrop(e,t)}},((e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()})))((function(e){const t=(0,g.ZP)(),{isHovering:o,hoverHandlers:n}=(0,m.Z)();return(0,f.jsx)(y,{...e,i18n:t,isHovering:o,hoverHandlers:n})}));function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const b=["video/quicktime","video/mp4"];class A extends n.Component{constructor(...e){var t;super(...e),t=this,P(this,"state",{imagePreviewSrc:this.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),P(this,"mounted",!1),P(this,"containerRef",null),P(this,"fileInputRef",null),P(this,"xhr",null),P(this,"CHECK_VIDEO_TIMEOUT",null),P(this,"ERROR_MESSAGE",this.props.i18n._('Unable to upload video. Please try again later.', 'Error shown when we can\'t accept video uploads', 'Error shown when we can\'t accept video uploads')),P(this,"handleFileDrop",((e,t)=>{if(t&&(!this.xhr||4===this.xhr.readyState)){const e=t.getItem().files[0];this.handleFile(e)}})),P(this,"handleFile",(e=>{const{onImageUploadStart:t}=this.props;e.size>2e9?this.showError(this.props.i18n._('The video is too large. The maximum size is 2 GB.', 'Error if a user tries to upload a video that is too large', 'Error if a user tries to upload a video that is too large')):(this.props.allowVideo&&b.includes(e.type)&&this.setState({isVideo:!0}),this.loadMedia(e),t&&t())})),P(this,"showError",(e=>{const t=(0,f.jsx)(l.J2,{color:"red",anchor:this.containerRef,idealDirection:this.props.idealErrorDirection,onDismiss:()=>this.setState({errorFlyout:null}),size:"sm",shouldFocus:!1,children:(0,f.jsx)(l.xu,{padding:3,children:(0,f.jsx)(l.xv,{color:"inverse",weight:"bold",children:(0,f.jsx)("span",{children:e})})})});this.removePreview(t)})),P(this,"openFileDialog",(()=>{this.state.imagePreviewSrc||this.state.isVideo||(this.props.logContextEvent({event_type:101,component:192,element:1156}),this.fileInputRef&&this.fileInputRef.click())})),P(this,"openFile",(e=>{const t=e.target.files[0];this.handleFile(t)})),P(this,"removePreview",(e=>{this.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),this.fileInputRef&&(this.fileInputRef.value=""),this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.xhr=null),this.CHECK_VIDEO_TIMEOUT&&clearTimeout(this.CHECK_VIDEO_TIMEOUT),this.props.onReset&&this.props.onReset()})),P(this,"checkForMedia",(async function(e){const o=await u.ZP.create("VIPResource",{upload_ids:[e]}).callGet();if(o.resource_response&&o.resource_response.data&&o.resource_response.data[e]){const n=o.resource_response.data[e],{status:i,signature:r}=n;"processing"===i||"registered"===i?t.CHECK_VIDEO_TIMEOUT=setTimeout((()=>t.checkForMedia(e)),1e3):"succeeded"===i?t.handleMediaUploadSuccess(r,e):t.showError(t.ERROR_MESSAGE)}else t.showError(t.ERROR_MESSAGE)})),P(this,"loadMedia",(e=>{const{isVideo:t}=this.state,o=t?"video":"triedit-image";u.ZP.create("VIPResource",{type:o}).callCreate().then((t=>{var o,n;const{upload_id:i,upload_url:r,upload_parameters:s}=null!==(o=null===(n=t.resource_response)||void 0===n?void 0:n.data)&&void 0!==o?o:{};this.uploadMedia(e,i,r,s)}),(()=>{this.showError(this.ERROR_MESSAGE)}))})),P(this,"uploadMedia",((e,t,o,n)=>{const{isVideo:i}=this.state,r=new XMLHttpRequest;r.open("POST",o,!0),r.onload=()=>{(e=>e>=200&&e<400)(r.status)?this.setState({errorFlyout:null,isVideoComplete:i}):this.showError(this.props.i18n._('Something went wrong. Please try again later.', 'Error if video fails to upload', 'Error if video fails to upload')),this.checkForMedia(t)},r.upload.onprogress=e=>{const t=Math.round(99*e.loaded/e.total);this.setState({progress:t})};const s=new FormData;for(const l in n)s.append(l,n[l]);s.append("file",e),r.send(s),this.xhr=r}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}async handleMediaUploadSuccess(e,t){const{isVideo:o}=this.state,{width:n,height:i}=this.props;if(o){const o=await u.ZP.create("VideoUrlsResource",{signatures:[e]}).callGet();this.handleVideoUploadSuccess(o,e,t)}else{const t=((e,t="1200x")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(e);this.setState({imagePreviewSrc:t,progress:100}),this.props.onImageUploadFinished({image:{url:t,width:n,height:i}})}}handleVideoUploadSuccess(e,t,o){if(!this.mounted)return;const n=e.resource_response.data,i=`https://i.pinimg.com/${n[t].metadata.thumbnail}`,r=n[t].urls;this.setState({videoUrls:r,thumbnail:i,progress:100});const s=new XMLHttpRequest;s.onload=()=>{const e=new FileReader;e.readAsDataURL(s.response),e.onloadend=()=>{var t;this.props.onImageUploadFinished({video:{uploadId:o,imageBase64:null!==(t=e.result)&&void 0!==t?t:""}})}},s.open("GET",i),s.responseType="blob",s.send()}render(){const{FILE:e}=d.hm,{errorFlyout:t,imagePreviewSrc:o,isVideo:n,isVideoComplete:i,progress:r,thumbnail:s,videoUrls:a}=this.state,{allowReset:c,allowVideo:u,display:_,height:h,width:p}=this.props,m=u?"image/*,video/mp4,video/quicktime":"image/*";return(0,f.jsxs)(l.xu,{ref:e=>{this.containerRef=e},children:[(0,f.jsx)(l.xu,{display:"visuallyHidden",children:(0,f.jsx)("input",{accept:m,onChange:this.openFile,ref:e=>{this.fileInputRef=e},type:"file"})}),(0,f.jsx)(v,{allowReset:c,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:o,accepts:[e],onDrop:this.handleFileDrop,height:h,width:p,progress:r,isVideo:n,isVideoComplete:i,videoUrls:a,thumbnail:s,display:_}),t]})}}P(A,"defaultProps",{onImageUploadStart:()=>{}});const w=function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(A,{...e,i18n:o,logContextEvent:t})};var C=o(683365),E=o(499128),T=o(266898),S=o(975209),I=o(343341),j=o(708206);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const R=1e3,D=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class O extends n.PureComponent{constructor(e){super(e),z(this,"setTextAreaRef",(e=>{this._textAreaRef=e})),z(this,"handleTextInputChange",(({value:e})=>{this.setState({notes:e.substring(0,R)}),e.length>R?this.forceUpdate():this.handleHashtagTypeahead(e)})),z(this,"handleHashtagTypeahead",(e=>{const t=D.exec(e),o=t?t[0]:"";!this.state.inTypeahead&&o?this.setState({inTypeahead:!0,typeaheadValue:o}):this.state.inTypeahead&&(o?this.setState({typeaheadValue:o}):this.setState({inTypeahead:!1,typeaheadValue:""}))})),z(this,"addHashtag",(e=>{this.setState((t=>({inTypeahead:!1,notes:t.notes.replace(D,e),typeaheadValue:""})))})),z(this,"uploadImageAndCreateDidIt",(()=>{const e={image_url:this.state.imageUrlToSend};u.ZP.create("DidItImageUploadResource",e).callCreate().then((e=>{const{data:{image_signature:t}}=e.resource_response;return this.createUpdateDidIt(t)})).catch((()=>this.createUpdateDidIt()))})),z(this,"handleImageReset",(()=>this.setState({imageUrlToSend:null}))),z(this,"handleFinishImageUpload",(e=>{e.image&&this.setState({imageUrlToSend:e.image.url})})),z(this,"handleDoneClick",(()=>{const{pinId:e,logContextEvent:t}=this.props;t({event_type:101,view_type:101,component:192,element:1112,object_id_str:e}),this.setState({submitted:!0}),this.handleDoneSubmission()})),z(this,"handleDoneSubmission",(()=>{const{imageUrlToSend:e}=this.state,{pinActivity:t}=this.props;if(e){if(!t||e!==t.oldImageUrl)return this.uploadImageAndCreateDidIt();if(t.imageSignatures&&t.imageSignatures.length>0)return this.createUpdateDidIt(t.imageSignatures[0])}return this.createUpdateDidIt()})),z(this,"handleCancel",(()=>{const{onDoneStateChanged:e}=this.props;e&&e(!1)})),z(this,"handleDeleteConfirmation",(e=>{const{aggregatedPinDataId:t,deleteUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:r,pinId:s,logContextEvent:l}=this.props;this.setState({showDeleteModal:!1}),e&&(l({event_type:101,view_type:101,component:192,element:1264,object_id_str:s}),o({aggregatedPinDataId:t,pinId:s,username:i,id:e,isOwnedByMe:!0}),r&&r(n))})),z(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0})));const t=e.pinActivity||{};this.state={id:t.id||null,imageUrlToSend:t.oldImageUrl||null,inTypeahead:!1,notes:t.notes||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""}}createUpdateDidIt(e){const{aggregatedPinDataId:t,createUserDidItData:o,isDoneByMe:n,loggedInUser:{username:i},onDoneStateChanged:r,pinId:s,toastManagerContext:l,updateUserDidItData:a}=this.props,{id:c,notes:d}=this.state;if(!d)return;n?c&&a({id:c,pinId:s,details:d,image_signatures:e?[e]:[]}):o({aggregatedPinDataId:t,username:i,details:d,image_signatures:e?[e]:[],pin_id:s}),r&&r(!n);-1===window.location.href.indexOf(i+"/tried")&&l.showToast((({hideToast:e})=>(0,f.jsx)(E.ZP,{duration:3e3,href:`/${i}/tried/`,onHide:e,text:this.props.i18n._('Nice work! Pins you\'ve tried live on your profile', 'Congratulations after trying a pin', 'Congratulations after trying a pin')})))}render(){const{imageUrlToSend:e,notes:t,showDeleteModal:o,submitted:n}=this.state,{isDoneByMe:i,pinActivity:r}=this.props,s=!!e&&(r||{}).oldImageUrl!==e,a=!!e,d=r&&r.notes!==t,u=!!t&&""!==t.trim(),_=!a||!u||!d&&!s;return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.xu,{marginTop:4,paddingX:12,children:(0,f.jsx)(l.xu,{column:12,children:(0,f.jsx)(l.xu,{paddingY:e?0:10,dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},children:(0,f.jsx)(l.xu,{display:"flex",column:12,marginBottom:2,color:"transparent",rounding:2,alignItems:"center",justifyContent:"center",children:(0,f.jsx)(w,{display:"image",existingImageSrc:e,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366})})})})}),(0,f.jsx)(l.xu,{height:e?"auto":0,opacity:e?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:e?"visible":"hidden"}},children:(0,f.jsxs)(l.xu,{width:366,margin:3,marginStart:"auto",marginEnd:"auto",children:[(0,f.jsx)(l.xu,{ref:this.setTextAreaRef,children:(0,f.jsx)(l.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._('Add a note or tip', 'Tip input for tried it', 'Tip input for tried it'),value:t})}),this.state.inTypeahead&&this._textAreaRef?(0,f.jsx)(C.Z,{addHashtag:this.addHashtag,anchor:this._textAreaRef,query:this.state.typeaheadValue,idealDirection:"up"}):null,t.length>900&&(0,f.jsx)(l.xu,{paddingY:1,children:(0,f.jsxs)(l.xv,{size:"200",align:"end",children:[" ",t.length,"/",R," "]})})]})}),(0,f.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[o&&(0,f.jsx)(c.Z,{didItData:r,onDeleteConfirmation:this.handleDeleteConfirmation}),n?(0,f.jsx)(l.xu,{marginEnd:2,children:(0,f.jsx)(l.$j,{accessibilityLabel:this.props.i18n._('submit', 'accessible label for loading spinner on submit button', 'accessible label for loading spinner on submit button'),show:!0})}):null,(0,f.jsxs)(l.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[i?(0,f.jsx)(l.xu,{marginEnd:1,children:(0,f.jsx)(l.zx,{onClick:this.handleShowDeleteModal,text:this.props.i18n._('Delete', 'delete button in modal for tried-it info', 'delete button in modal for tried-it info'),size:"md"})}):(0,f.jsx)(l.xu,{marginEnd:1,children:(0,f.jsx)(l.zx,{onClick:this.handleCancel,text:this.props.i18n._('Cancel', 'cancel button in modal for tried-it info', 'cancel button in modal for tried-it info'),size:"md"})}),(0,f.jsx)(l.xu,{children:(0,f.jsx)(l.zx,{color:"red",disabled:_,onClick:this.handleDoneClick,text:this.props.i18n._('Done', 'done button in modal for tried-it info', 'done button in modal for tried-it info'),size:"md"})})]})]})]})}}const k=(0,j.compose)((0,a.connect)(null,((e,t)=>({createUserDidItData:(0,j.bindActionCreators)(S.DD,e),deleteUserDidItData:(0,j.bindActionCreators)(S.lg,e),updateUserDidItData:(0,j.bindActionCreators)(S.IU,e)}))),T.Z)((function(e){const{logContextEvent:t}=(0,_.v)(),o=(0,g.ZP)();return(0,f.jsx)(O,{...e,i18n:o,logContextEvent:t,toastManagerContext:(0,I.F9)()})}));function L(e){if(!e)return null;const{details:t,images:o,image_signatures:n,id:i}=e;return{id:i,imageSignatures:n,notes:t,oldImageUrl:o[0]["200x"].url}}class N extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{onDoneStateChanged:t,pinActivityResource:o}=this.props;t&&t(e),e&&o&&o.refresh&&o.refresh()},(o="onDoneStateChanged")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{onDoneStateChanged:e,pinActivityResource:t,pinTitle:o,userDidItDataId:n,...i}=this.props;return!t||t&&t.isLoaded?(0,f.jsx)(l.xu,{rounding:2,children:(0,f.jsx)(k,{onDoneStateChanged:this.onDoneStateChanged,pinActivity:L(t&&t.data),...i})}):(0,f.jsx)(r.Z,{})}}function M(e){const t=(0,s.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,f.jsx)(N,{...e,pinActivityResource:t})}function F(e){const t=(0,s.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,f.jsx)(N,{...e,pinActivityResource:t})}function U(e){return e.isDoneByMe&&e.userDidItDataId?(0,f.jsx)(F,{...e}):e.isDoneByMe?(0,f.jsx)(M,{...e}):(0,f.jsx)(N,{...e})}var B=o(802933),Z=o(432730);const G=(0,o(307061).Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null}));var H=o(121151);class V extends n.PureComponent{render(){const{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,onHide:s,pinId:a,pinResource:c,pinTitle:d,userDidItDataId:u}=this.props;if(!c.isLoaded)return(0,f.jsx)(r.Z,{});const{title:_}=G((0,Z.Z)((0,B.Z)({pin:c.data})))||{},h=d||_?(0,i.Z)(this.props.i18n._('Add a photo of {{pinTitle}}', 'Adding photo of a pin', 'Adding photo of a pin'),{pinTitle:d||_}):this.props.i18n._('Add a photo', 'Adding a photo', 'Adding a photo');return(0,f.jsx)(H.ZP,{accessibilityModalLabel:h,heading:h,onDismiss:s,size:500,children:(0,f.jsx)(l.xu,{color:"default",rounding:2,display:"flex",justifyContent:"center",children:(0,f.jsx)(U,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:n,pinId:a,pinTitle:d||_,userDidItDataId:u})})})}}function W(e){const t=(0,g.ZP)(),o=(0,s.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,f.jsx)(V,{...e,pinResource:o,i18n:t})}var $=o(946984);function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class K extends n.PureComponent{constructor(...e){super(...e),Y(this,"state",{showModal:!1}),Y(this,"onTriedItButtonClick",this.props.requireAuth((({event:e})=>{e&&e.stopPropagation(),this.handleModalStateChange(!0),this.props.logContextEvent({event_type:101,view_type:101,component:this.props.thriftComponentType,element:1141,object_id_str:this.props.pinId,aux_data:{is_create:!this.props.isDoneByMe}})}))),Y(this,"handleHideModal",(()=>{this.handleModalStateChange(!1),this.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:this.props.pinId})})),Y(this,"onModalDoneStateChanged",(e=>{this.handleModalStateChange(!1,e)})),Y(this,"handleModalStateChange",((e,t)=>{const{onDoneStateChanged:o,onToggleModal:n}=this.props;this.setState({showModal:e},(()=>{e||o&&o("boolean"==typeof t&&t),n&&n(e)}))}))}render(){const{aggregatedPinDataId:e="",isDoneByMe:t=!1,loggedInUser:o={id:"",username:""},pinId:i="",pinTitle:r,userDidItDataId:s}=this.props;return(0,f.jsxs)(n.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,f.jsx)(W,{aggregatedPinDataId:e,isDoneByMe:t,loggedInUser:o,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:i,pinTitle:null!=r?r:"",userDidItDataId:s}):null]})}}function X(e){const{logContextEvent:t}=(0,_.v)(),o=(0,$.Z)();return(0,f.jsx)(K,{...e,requireAuth:o,logContextEvent:t})}},301921:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(667294),i=o(564194),r=o(768559),s=o(868565),l=o(905723),a=o(304515),c=o(883119),d=o(785893);const u={overlay:{__style:{backgroundColor:"#000"}}};function _(e){var t,o,i,r;const{pin:{id:s,images:_,title:h,videos:p,video_status_message:m}}=e,g=m||{},f=_&&_["236x"],x=p&&(null===(t=p.video_list)||void 0===t?void 0:t[l.Z.V_HLSV4]),{duration:y}=x||{};return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.iP,{role:"link",href:`/pin/${s}`,rounding:2,children:[(0,d.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:2,children:[f&&(0,d.jsx)(c.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(o=f.height)&&void 0!==o?o:1,naturalWidth:null!==(i=f.width)&&void 0!==i?i:1,src:null!==(r=f.url)&&void 0!==r?r:""}),!!y&&(0,d.jsx)(c.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(a.Z,{duration:y})}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:u.overlay}),(0,d.jsxs)(c.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(c.X6,{color:"light",overflow:"normal",size:"400",children:g.title}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"light",size:"200",overflow:"normal",children:g.subtitle})})]})]}),(0,d.jsx)(c.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(c.xu,{flex:"grow",children:h&&(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:h})})})})]})})})}var h=o(623568),p=o(802201),m=o(925927),g=o(813401),f=o(883046),x=o(35495);function y({trackingParameters:e,pin:t,pinId:o,...l}){var a,c,u,y;const v=(0,m.TH)(),P=(0,p.S6)(),b=(o?P(o):null)||t,A=!(null===(a=b.story_pin_data)||void 0===a||!a.is_deleted),w=(0,r.Z)(b,v),C=(0,s.Z)(b),E=!!(C&&C.url&&C.height&&C.width)||void 0,T=C&&b.videos?b.videos.id:void 0,[S,I]=(0,n.useState)(!1),j=(0,n.useCallback)((()=>I(!A)),[A]),z=(0,n.useCallback)((()=>I(!1)),[]),R=(0,g.yz)(),{componentType:D,contextLogData:O,impressionAuxFields:k,slotIndex:L,viewData:N,viewParameter:M,viewType:F}=e;return(0,d.jsx)(i.Z,{componentType:D,contextLogData:{pwa_type:R,...O,...(0,x.Kl)(b,O)},impressionAuxFields:{...k||{},isNativeVideoAndWatchable:E,videoIdStr:T,clientTrackingParams:w||`${b.tracking_params||""}-0`,imageURL:null!==(c=null===(u=b.images)||void 0===u||null===(y=u["236x"])||void 0===y?void 0:y.url)&&void 0!==c?c:"",richTypes:(0,x.GT)(b)},impressionType:"Pin",isPaused:!S,loggingId:b.id,slotIndex:L,viewData:N,viewParameter:M,viewType:F,children:(0,h._J)(b)?(0,d.jsx)(_,{pin:b}):(0,d.jsx)(f.Z,{...l,debugImpressionState:S?"started":"paused",onError:z,onLoad:j,pin:b,pinId:o,trackingParameters:{componentType:D,contextLogData:O,slotIndex:L,viewParameter:M,viewType:F}})})}},184451:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(966338),r=o(565733),s=o(620006),l=o(717615),a=o(784590),c=o(19121),d=o(231947),u=o(349700),_=o(407043),h=o(898781),p=o(883119),m=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends n.Component{constructor(...e){super(...e),g(this,"renderScheduledPin",((e,t)=>{const o=Math.floor((e.scheduled_ts-(new Date).getTime()/1e3)/86400),i=(0,u.nk)(this.props.i18n._('{{ timeFromNow }}d', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days', '"d" here stands for "days", the whole string means how many days e.g. 1 day, 2 days'),{timeFromNow:o}),r=`+ ${t}`,s=t>0?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.5,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsx)(p.xu,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",weight:"bold",children:r})})]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.xu,{height:"100%",width:"100%",position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.1,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000"}}}),(0,m.jsxs)(p.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"start",left:!0,paddingX:3,paddingY:2,position:"absolute",width:"100%",children:[(0,m.jsx)(p.JO,{accessibilityLabel:this.props.i18n._('scheduled time', 'Time scheduled for publishing the pin', 'Time scheduled for publishing the pin'),color:"light",icon:"clock",size:12}),(0,m.jsx)(p.xu,{display:"inlineBlock",marginStart:1,children:(0,m.jsx)(p.xv,{color:"inverse",size:"200",children:i})})]})]}),{image:l,title:a=""}=e,c=l&&l["236x"];return(0,m.jsxs)(n.Fragment,{children:[c&&(0,m.jsx)(p.Ee,{alt:a,color:"lightGray",fit:"cover",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),s]})})),g(this,"renderEmtpyPlaceholder",(()=>(0,m.jsx)(p.xu,{color:"secondary",height:"100%",width:"100%"})))}render(){const{username:e,pinResource:{isLoaded:t},pins:o}=this.props;if(!t||!o||0===o.length)return null;const n=o.length;return(0,m.jsx)(p.xu,{marginBottom:10,children:(0,m.jsxs)(p.W2,{children:[(0,m.jsx)(s.Z,{label:this.props.i18n._('Scheduled Pins', 'Title for the scheduled Pin section under the pin tab of profile page', 'Title for the scheduled Pin section under the pin tab of profile page'),sublabel:(0,r.Z)(n,this.props.i18n)}),(0,m.jsx)(p.iP,{role:"link",href:`/${e}/scheduled-pins/`,rounding:4,children:(0,m.jsx)(p.xu,{"data-test-id":"scheduled-pins-nav-link",height:126,marginStart:3,marginEnd:3,overflow:"hidden",rounding:4,children:Array(6).fill().map(((e,t)=>(0,m.jsx)(p.xu,{display:"inlineBlock",height:126,marginEnd:5===t?0:1,overflow:"hidden",position:"relative",width:126,children:t<n?this.renderScheduledPin(o[t],5===t?n-6:0):this.renderEmtpyPlaceholder()},t)))})})]})})}}function x(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,c.Z)(),r=(0,l.Z)(),s={orbac_subject_id:(0,d.lJ)(n,r)||void 0},u=(0,a.Z)({name:"ScheduledPinsResource",options:s}),p=(0,i.useSelector)((e=>e.scheduledPins));return(0,m.jsx)(f,{...e,i18n:o,pinResource:u,pins:p,logContextEvent:t})}},285970:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var n=o(667294),i=o(966338),r=o(898781),s=o(883119),l=o(201658),a=o(785893);function c(e){const t=(0,r.ZP)();return(0,a.jsx)(l.Z,{thriftComponentType:172,...e,children:({onTriedItButtonClick:o})=>(0,a.jsx)(s.zx,{onClick:({event:e})=>o(e),text:t._('Add', 'Add a try to a pin', 'Add a try to a pin'),disabled:e.isDoneByMe})})}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isDoneByMe:!1}),d(this,"handleModalStateChanged",(e=>this.setState({isDoneByMe:e})))}render(){var e,t,o,n,i,r,l,d,u;const{loggedInUser:_,pin:h}=this.props,p=`/pin/${h.id}/`,m=null===(e=h.images)||void 0===e||null===(t=e["136x136"])||void 0===t?void 0:t.url,g=null===(o=h.images)||void 0===o||null===(n=o["136x136"])||void 0===n?void 0:n.height,f=null===(i=h.images)||void 0===i||null===(r=i["136x136"])||void 0===r?void 0:r.width,x=h.rich_summary&&h.rich_summary.display_name||h.description,y={aggregatedPinDataId:null===(l=h.aggregated_pin_data)||void 0===l?void 0:l.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:_,onDoneStateChanged:this.handleModalStateChanged,pinId:h.id,pinTitle:x};return(0,a.jsxs)(s.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,children:[(0,a.jsxs)(s.xu,{column:10,display:"flex",alignItems:"center",children:[(0,a.jsx)(s.xu,{column:2,children:(0,a.jsx)(s.iP,{role:"link",href:p,rounding:2,children:(0,a.jsx)(s.zd,{rounding:2,wash:!0,children:(0,a.jsx)(s.Ee,{alt:null!==(d=h.title)&&void 0!==d?d:"",color:null!==(u=h.dominant_color)&&void 0!==u?u:"#fff",naturalHeight:null!=g?g:1,naturalWidth:null!=f?f:1,src:null!=m?m:""},m)})},p)}),(0,a.jsx)(s.xu,{column:10,paddingX:2,children:(0,a.jsx)(s.xv,{weight:"bold",children:(0,a.jsx)(s.rU,{href:p,children:x})},p)})]}),(0,a.jsx)(s.xu,{column:2,children:(0,a.jsx)(c,{...y})})]})}}var _=o(784590);function h({loggedInUser:e}){const t=(0,r.ZP)(),o=(0,_.Z)({name:"UserPinsResource",options:{prepend:!1,username:e.username,field_set_key:"did_it_grid_item",page_size:10}});t._('Tried any of these? Add a photo:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved');const n=(e=>e.isLoaded?e.data.filter((e=>e.is_whitelisted_for_tried_it)):[])(o).slice(0,5);return(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(s.$j,{show:!o.isLoaded,accessibilityLabel:t._('Pins to try are loading', ' - ', ' -- ')}),o.isLoaded&&(0,a.jsxs)(s.W2,{children:[(0,a.jsxs)(s.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:6,children:[(0,a.jsxs)(s.xv,{align:"center",weight:"bold",children:[" ",t._('Pins you try live here', ' - ', ' -- ')," "]}),(0,a.jsx)(s.xu,{column:12,mdColumn:6,children:(0,a.jsx)(s.xv,{align:"center",color:"subtle",weight:"bold",children:t._('Add notes and photos to recipes you made, places you traveled and other ideas you tried', ' - ', ' -- ')})})]}),!!n.length&&(0,a.jsxs)(s.xu,{column:12,display:"flex",paddingY:6,children:[(0,a.jsx)(s.xu,{display:"none",mdColumn:1,mdDisplay:"flex"}),(0,a.jsxs)(s.xu,{column:12,mdColumn:10,children:[(0,a.jsx)(s.xu,{margin:1,paddingY:2,children:(0,a.jsx)(s.xv,{weight:"bold",children:t._('Tried any of these? Add a photo or note:', 'Text suggesting users to Try a Pin they alread saved', 'Text suggesting users to Try a Pin they alread saved')})}),n.map((t=>(0,a.jsx)(u,{pin:t,loggedInUser:e},t.id)))]})]})]})]})}var p=o(556023),m=o(966113),g=o(700380),f=o(430323),x=o(499128),y=o(407043),v=o(343341),P=o(304903);function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class A extends n.Component{constructor(...e){super(...e),b(this,"removeReportedActivity",(e=>{const{toastManagerContext:t}=this.props;t.showToast((({hideToast:e})=>(0,a.jsx)(x.ZP,{duration:3e3,href:m.Z.settings.POLICY_COMMUNITY_GUIDELINES,onHide:e,text:this.props.i18n._('Thanks! We\u2019ll take this down if it goes against our guidelines.', 'Statement that a tried item has successfully been reported', 'Statement that a tried item has successfully been reported')})))})),b(this,"handleScroll",(0,g.Z)((()=>{const{didItUserFeedResource:{isFetching:e,isAtEnd:t}}=this.props;if(e||t)return;const o=(0,P.Uy)(window);(0,P.aZ)(window)-(0,P.S$)()-200<o&&this.fetchMoreData()}),100))}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.logContextEvent({event_type:13,view_type:4,view_parameter:3071})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}fetchMoreData(){const{didItUserFeedResource:{isFetching:e,isAtEnd:t,fetchMore:o}}=this.props;e||(t?window.removeEventListener("scroll",this.handleScroll):o())}render(){const{feedItems:e,i18n:t,isOwnProfile:o,didItUserFeedResource:{isLoaded:n},triedItUser:i}=this.props;if(!n)return(0,a.jsx)(s.W2,{children:(0,a.jsx)(s.xu,{margin:6,children:(0,a.jsx)("div",{className:"loadingSpinner",children:(0,a.jsx)(s.$j,{accessibilityLabel:this.props.i18n._('Tried it feed', ' - ', ' -- '),show:!0})})})});const r=o?3106:3107;return!e.length&&o?(0,a.jsx)(h,{loggedInUser:i}):(0,a.jsx)(s.W2,{children:(0,a.jsx)(f.Z,{view:4,viewParameter:r,component:212,children:(0,a.jsx)(s.xu,{display:"flex",column:12,justifyContent:"center",children:(0,a.jsxs)(s.xu,{column:12,mdColumn:10,children:[o&&(0,a.jsx)(s.xu,{paddingY:2,children:(0,a.jsx)(s.xv,{align:"center",size:"300",children:t._('Your Tried Pins are only visible to you', 'didItProfileFeed.render.triedItEducation', 'Message letting user know that tried pins are visible only to self')})}),e.map((e=>(0,a.jsx)(s.xu,{children:(0,a.jsx)(p.Z,{didItDataId:e.id,removeReportedActivity:this.removeReportedActivity,viewType:4})},e.id)))]})})})})}}function w(e){const{logContextEvent:t}=(0,y.v)(),o=(0,r.ZP)(),n=(0,v.F9)(),s=(0,i.useSelector)((({feeds:t})=>(t[`userDidItData:${e.triedItUser.username}`]||[]).reduce(((e,t)=>"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e),[]))),l=(0,_.Z)({name:"DidItUserFeedResource",options:{username:e.triedItUser.username,redux_normalize_feed:!0},noCache:!0});return(0,a.jsx)(A,{...e,didItUserFeedResource:l,feedItems:s,toastManagerContext:n,i18n:o,logContextEvent:t})}var C=o(86551),E=o(19121),T=o(925927),S=o(357805);function I(){const e=(0,C.Z)(),t=(0,E.Z)(),{username:o}=(0,T.UO)();return(0,S.S)(o,e.data?e.data.id:null,13671),e.data?(0,a.jsx)(w,{isOwnProfile:!(!t.isAuth||!t.username)&&t.username===o,triedItUser:e.data}):null}},745091:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),r=o(883119),s=o(785893);function l({onDeleteConfirmation:e,didItData:t}){const o=(0,i.ZP)(),l=t&&t.id,a=o._('Are you sure?', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data');return(0,s.jsx)(n.ZP,{accessibilityModalLabel:o._('Are you sure you want to delete the did it photo?', 'Label for a modal showing to confirm deleting a did it photo', 'Label for a modal showing to confirm deleting a did it photo'),heading:a,onDismiss:()=>e(null),size:"sm",role:"alertdialog",footer:(0,s.jsxs)(r.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:()=>e(null),size:"lg",text:o._('Cancel', 'Cancel the deleting data in a modal form', 'Cancel the deleting data in a modal form')})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>e(l),size:"lg",text:o._('Delete', 'Confirmation of deleting data', 'Confirmation of deleting data')})})]}),children:(0,s.jsx)(r.xu,{paddingX:4,paddingY:2,children:(0,s.jsx)(r.xv,{children:o._('This will remove this photo', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data')})})})}},91564:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(883119),r=o(785893);function s(){const e=(0,n.ZP)();return(0,r.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,r.jsx)(i.$j,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},556023:(e,t,o)=>{o.d(t,{Z:()=>Re});var n=o(667294),i=o(966338),r=o(745091),s=o(898781),l=o(201658),a=o(883119),c=o(785893);function d(e){const t=(0,s.ZP)();return(0,c.jsx)(l.Z,{thriftComponentType:193,...e,children:({onTriedItButtonClick:e})=>(0,c.jsx)("button",{style:{background:"none",border:"none",padding:"0"},onClick:e,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,children:(0,c.jsx)(a.xv,{weight:"bold",children:t._('Save', 'comment save button', 'comment save button')})})})})}var u=o(428837),_=o(121151),h=o(6637),p=o(66699);const m="__SafeLinkFlag__",g=({html:e,onClick:t})=>{const o=t||null,n=[],i=(e=(e=e||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,(e=>(n.push({url:`/search/pins/?q=${encodeURIComponent(e)}&rs=hashtag_closeup`,text:e}),m)))).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,((e,t,o)=>(n.push({url:t,text:o}),m)));return(0,c.jsx)(a.xu,{"data-test-id":"safe-link",children:i.split(new RegExp("(__SafeLinkFlag__)")).filter((e=>e.length>0)).map(((e,t)=>{let i=e;if(e===m&&n.length){const{url:e,text:t}=n.shift();i=(0,c.jsx)(a.rU,{onClick:o||void 0,href:e,inline:!0,underline:"hover",children:t})}return(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",inline:!0,children:i},t)}))})};var f=o(807068);function x(e){var t;const{item:{images:o,pin:n}}=e,i=o.length>0,r=i?o[0]["750x"]:null;if(!i||!r)return null;const s=o[0]["750x"].url;return(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!==(t=n.title)&&void 0!==t?t:"",src:s,color:"#efefef",naturalWidth:r.width,naturalHeight:r.height},s)})}var y=o(102243),v=o(19121),P=o(708206),b=o(107656),A=o(105265),w=o(941646);const C=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:o,detail:n,heading:i,onConfirm:r,onDismiss:s})=>(0,c.jsx)(_.ZP,{accessibilityModalLabel:e,heading:i,onDismiss:s,size:"md",children:(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{padding:4,children:(0,c.jsx)(a.xv,{children:n})}),(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(w.Z,{id:"confirm-modal-cancel",children:(0,c.jsx)(a.zx,{fullWidth:!0,onClick:s,text:t})})}),(0,c.jsx)(a.xu,{margin:2,children:(0,c.jsx)(w.Z,{id:"confirm-modal-confirm",children:(0,c.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{r(),s()},text:o})})})]})]})});var E=o(367216),T=o(160380),S=o(266898),I=o(641012),j=o(407043),z=o(36243);function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const D={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class O extends n.Component{constructor(...e){super(...e),R(this,"state",{...D,tags:this.props.tags||[],textValue:this.props.text||"",isEmojiTrayOpen:!1}),R(this,"handleFocus",(()=>{this.props.onEnter()})),R(this,"handleChange",(({text:e,mentions:t})=>{t.length<this.state.tags.length&&this.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});const o=(this.props.text||"")!==e;this.setState({isTextChanged:o,textValue:e,tags:t,userMentionOverLimitError:t.length>I.b7})})),R(this,"handleOnClickEdit",(()=>{const{onEditItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState({submissionInProgress:!1})})),R(this,"handleOnClickPost",(()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),this.handleOnClickPostFinal())})),R(this,"handleOnClickPostFinal",(()=>{const{onAddItem:e}=this.props;let t={};const{textValue:o,tags:n}=this.state;t={contentMarkdown:o,imageSignatures:"",objectIds:[],tags:JSON.stringify(n)},e&&e(t),this.setState(D)})),R(this,"handleOnFinalDiscardItem",(()=>{const{onCancelItem:e}=this.props;this.setState(D),e()})),R(this,"isSubmitEditDisabled",(()=>{const{isTextChanged:e}=this.state;return!e})),R(this,"toggleShowConfirmDiscardModal",(()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e,isEmojiTrayOpen:!1})})),R(this,"renderConfirmDiscardModal",(()=>{const{statusType:e}=this.props;let t,o;return"textInFlightEdit"===e?(t=this.props.i18n._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'),o=this.props.i18n._('Discard changes', 'Clear edits', 'Clear edits')):(t=this.props.i18n._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),o=this.props.i18n._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment')),(0,c.jsx)(C,{accessibilityModalLabel:this.props.i18n._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),heading:this.props.i18n._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:this.props.i18n._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:o,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})})),R(this,"getReplyToEntity",(e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]))}get isAggregatedComment(){const{objectType:e}=this.props;return e===b.o.pin||e===b.o.didIt||e===b.o.aggregatedComment}render(){const{avatarSize:e,replyToObject:t,privatePin:o,statusType:n,viewingUser:i}=this.props,{isTextChanged:r,isEmojiTrayOpen:s,showConfirmDiscardModal:l,submissionInProgress:d,tags:u,textValue:_,userMentionOverLimitError:h}=this.state,p={background:"transparent",border:"0",display:r?"inline-block":"block",minHeight:"textStaticDisplay"===n?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[m,g]=this.getReplyToEntity(t),f=(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{color:"error",size:"100",align:"end",children:(0,z.bl)(!1,this.props.i18n)})});let x,y;x=this.isAggregatedComment&&o?this.props.i18n._('Add a public comment', 'Add a comment', 'Add a comment'):this.isAggregatedComment?this.props.i18n._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'):this.props.i18n._('Reply', 'Adding text to a community comment', 'Adding text to a community comment'),y=this.isAggregatedComment?this.props.i18n._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):this.props.i18n._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment');const v=r;return"textInflightCreation"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(A.Z,{user:i,size:e})}),(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(T.Z,{focusOnMount:!0,initialMentions:g,initialText:m,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:s,placeholder:x,privatePin:o})})]}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(w.Z,{id:"activity-item-create-cancel",children:(0,c.jsx)(a.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')})}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(w.Z,{id:"activity-item-create-submit",children:(0,c.jsx)(a.zx,{color:"red",disabled:!r||d||!_.length,onClick:this.handleOnClickPost,text:y})})})]})]}),l&&this.renderConfirmDiscardModal()]}):"textInFlightEdit"===n?(0,c.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,c.jsxs)(a.xu,{width:"100%",children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(a.xu,{borderStyle:"sm",padding:3,rounding:4,flex:"grow",children:(0,c.jsx)(T.Z,{focusOnMount:!0,initialMentions:u,initialText:_,onAddMention:()=>{this.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:()=>{this.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{this.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:x})})}),h&&f,(0,c.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,c.jsx)(a.zx,{color:"gray",onClick:v?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,c.jsx)(a.xu,{marginStart:2,children:(0,c.jsx)(a.zx,{color:"red",disabled:this.isSubmitEditDisabled()||d,onClick:this.handleOnClickEdit,text:this.props.i18n._('Save', 'comment save button', 'comment save button')})})]})]}),l&&this.renderConfirmDiscardModal()]}):(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,c.jsx)("div",{"aria-label":this.props.i18n._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,c.jsxs)(a.xu,{column:12,display:"flex",children:[(0,c.jsx)(a.xu,{width:48,children:(0,c.jsx)(A.Z,{user:i,size:e})}),(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm",children:[(0,c.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:x,rows:1,style:p}),(0,c.jsx)(E.Z,{isEmojiTrayOpen:s,onClick:()=>{this.setState({isEmojiTrayOpen:!s})}})]})]})})})}}R(O,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});const k=(0,S.Z)((function(e){const{logContextEvent:t}=(0,j.v)(),o=(0,s.ZP)(),n=(0,v.Z)(),i=n.isAuth?{image_medium_url:n.imageMediumUrl,type:"user",username:n.username,full_name:n.fullName,first_name:"",id:""}:{};return(0,c.jsx)(O,{...e,i18n:o,viewingUser:i,logContextEvent:t})}));var L=o(608360),N=o(814449),M=o(298361),F=o(986644);function U({createdAt:e,user:t,isHighlighted:o}){const n=(0,s.ZP)(),i=(0,M.Z)(),r=(0,c.jsx)(a.xv,{color:"subtle",size:"200",children:(0,F.A7)(e,n,i)}),l=(0,c.jsxs)(a.xv,{color:"subtle",size:"200",children:["· ",n._('Highlighted', 'pin.comments.highlight', 'Identifier for highlighted comments')]});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(a.xu,{paddingX:1,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:(0,c.jsx)(a.rU,{href:`/${t.username}/`,children:(0,F.YD)(t)})})}),(0,c.jsx)(a.xu,{paddingX:1,children:r}),o&&(0,c.jsx)(a.xu,{paddingX:1,children:l})]})}var B=o(857079),Z=o(482664),G=o(947599),H=o(123630),V=o(402039),W=o(199939),$=o(784590),Y=o(283855);const K=(0,n.lazy)((()=>o.e(1921).then(o.bind(o,301921))));function X({allowLink:e=!1,avatarSize:t="sm",commentCount:o,contentImage:i,contentImageSignature:r,contentText:l,flyout:d,handleOnEditCancel:u,handleOnEdited:_,handleHelpfulClick:h,handleLikeClick:p,handleLikeCountClick:m,handleReplyClick:g,handleReplyCountClick:f,helpfulCount:x,hideAddObjects:y,hideReplyCount:v,inEditMode:P,isHighlighted:b,isLikedByMe:C,isMarkedHelpfulByMe:E,isPlainComment:T,parentObject:S,pins:I,reactionCounts:j,responsePin:z,slotIndex:R,taggedUsers:D,tags:O,truncateText:L,commentId:N,createdAt:M,commentAuthor:F,type:X,isORBACProfileManager:q}){const Q=(0,Y.K)(),J=(0,s.ZP)(),[ee,te]=(0,n.useState)(N===Q),{isLoaded:oe}=(0,$.Z)({name:"PinResource",dangerouslyDisableFetch:!z,options:{id:null==z?void 0:z.id,field_set_key:"detailed"}});(0,n.useEffect)((()=>{N===Q&&V.Z.setTimeout((()=>{te(!1)}),1500)}),[]);const ne=oe&&!!z;return(0,c.jsx)(w.Z,{id:"canonical-comment",children:(0,c.jsxs)(a.xu,{display:"flex",marginBottom:T?4:0,children:[(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(A.Z,{user:F,size:t})}),(0,c.jsxs)(a.xu,{flex:"grow",marginStart:2,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderColor:P?"transparent":void 0,transition:"1000ms",backgroundColor:ee?"lightGray":null}},borderStyle:"sm",padding:P?0:3,rounding:4,children:P?(0,c.jsx)(k,{addedObjects:I,addedImage:i,hideAddObjects:y,imageSignature:r,objectType:X,onAddItem:()=>{},onCancelItem:u,onEditItem:_,onEnter:()=>{},parentObjectId:S.id,statusType:"textInFlightEdit",tags:O,text:l,widthAuto:!0}):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(U,{createdAt:M,user:F,isHighlighted:b}),L?(0,c.jsx)(W.Z,{allowLink:e,allowReveal:!0,size:"100",taggedUsers:D,tags:O,text:l}):(0,c.jsx)(H.Z,{allowLink:e,size:"100",tags:O,taggedUsers:D,text:l}),z&&ne&&(0,c.jsx)(G.Z,{fallback:(0,c.jsx)(B.Z,{accessibilityLabel:J._('Loading comment reply Pin preview', 'Loading pin previews for comment reply comments component', 'Loading pin previews for comment reply comments component')}),children:(0,c.jsx)(a.xu,{marginTop:1,maxWidth:"21%",children:(0,c.jsx)(K,{pinId:z.id,surface:"CommentReply",trackingParameters:{slotIndex:R}})})})]})}),!q&&!ne&&!P&&!T&&(0,c.jsx)(a.xu,{padding:1,children:(0,c.jsx)(Z.Z,{commentCount:o,flyout:P?null:d,hideReplyCount:v,isLikedByMe:C,onLikeClick:p,onLikeCountClick:m,onReplyClick:g,onReplyCountClick:f,reactionCounts:j,isMarkedHelpfulByMe:E,onHelpfulClick:h,helpfulCount:x,small:!0})})]})]})})}var q=o(499128),Q=o(964569),J=o(28754),ee=o(395129),te=o(482546),oe=o(541776),ne=o(379725),ie=o(366428),re=o(349700),se=o(623568),le=o(802201),ae=o(2361),ce=o(844949),de=o(343341),ue=o(874934);const _e=({aggregatedCommentId:e,apdId:t,creatorId:o,depth:r,didItOwnerId:l,isManagedView:d,objectType:u,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,slotIndex:x,viewerId:y,showHighlightEducator:v,numHighlights:P,canSetHighlight:A,isORBACProfileManager:w})=>{const{logContextEvent:E}=(0,j.v)(),T=(0,s.ZP)(),{isLoaded:S}=(0,$.Z)({name:"PinResource",options:{id:f,field_set_key:"detailed"}}),{showToast:I}=(0,de.F9)(),{reportComment:z}=(0,ce.f)(),R=(0,ue.lV)(),{aggregatedCommentsHiddenForUser:D,deleteCommentMention:O,toggleAggregatedCommentHelpful:M,toggleAggregatedCommentHighlight:F,toggleAggregatedCommentLike:U,updateAggregatedComment:B}=(0,ue.nf)(),Z=(0,Q.Z)(),G=(0,J.Z)(),H=R[e],{nativeEngagementsHiddenForUser:V}=(0,ae.G)(),[W,Y]=(0,n.useState)(!1),[K,_e]=(0,n.useState)(!1),[he,pe]=(0,n.useState)(!1),[me,ge]=(0,n.useState)(!1),[fe,ye]=(0,n.useState)(!1),[ve,be]=(0,n.useState)(!1),Ae=(0,i.useDispatch)();(0,n.useEffect)((()=>{Ae((0,ne.U2)("AggregatedCommentResource",{options:{commentId:e}}))}),[Ae,e]),(0,n.useEffect)((()=>{h&&h()}),[h]);const we=(0,le.S6)();let Ce="";if(f){const e=we(f);if(Ce="pin",e){const t=(0,se.iR)(e.videos);e.story_pin_data_id?Ce="story":t&&(Ce="video")}}if(!H||!H.user)return null;const{comment_response_pin:Ee,comment_count:Te,created_at:Se,helpful_count:Ie,marked_helpful_by_me:je,reaction_by_me:ze,reaction_counts:Re,tagged_users:De,tags:Oe,text:ke,user:{id:Le,username:Ne},highlighted_by_pin_owner:Me}=H,Fe=r===xe,Ue=Re[1],Be=()=>{U({aggregatedCommentId:e,isLikedByMe:!!ze})},Ze=()=>{M({aggregatedCommentId:e,isMarkedHelpfulByMe:!!je})},Ge=t=>(0,c.jsx)(a.zx,{text:T._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{F({aggregatedCommentId:e,pinId:f,isHighlighted:t})}},"button-key"),He=()=>{P&&P>=3?I((({hideToast:e})=>(0,c.jsx)(q.ZP,{onHide:e,text:T._('Only 3 comments can be highlighted', 'closeup.pinActionDropDown.commentHighlightMaxNumberToast', 'Toast that tells user that at most 3 comments can be highlighted.')}))):(F({aggregatedCommentId:e,pinId:f,isHighlighted:!1}),I((({hideToast:e})=>(0,c.jsx)(q.ZP,{onHide:e,text:T._('Comment highlighted', 'closeup.pinActionDropDown.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.'),button:Ge(!0)}))))},Ve=()=>{F({aggregatedCommentId:e,pinId:f,isHighlighted:!0}),I((({hideToast:e})=>(0,c.jsx)(q.ZP,{onHide:e,text:T._('Highlight removed', 'closeup.pinActionDropDown.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'),button:Ge(!1)})))},We=()=>{pe(!he)},$e=()=>{Y(!0)},Ye=()=>{Y(!1)},Ke=t=>{B({commentId:e,tags:t.tags,text:t.contentMarkdown}),Y(!1)},Xe=()=>{O(e),E({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:y,tag_type:1}}),I((({hideToast:e})=>(0,c.jsx)(q.ZP,{onHide:e,text:T._('@mention removed!', 'closeup.pinActionDropDown.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in another user\'s Pin description')})))},qe=()=>{ge(!0)},Qe=()=>{ye(!0)},Je=()=>{be(!0)},et=()=>{ge(!1),ye(!1),be(!1)},tt=()=>{z(e,null,null)},ot=()=>{const e=[Le,o,l,g].includes(y),t=y===Le,n=y!==Le,i=y!==Le,r=De.filter((({id:e})=>e===y)).length>0;return(0,c.jsx)(L.Z,{handleBlockUser:i?Je:null,handleClickReport:n?tt:null,handleDelete:e?qe:null,handleOnEdit:t?$e:null,handleRemoveMention:r?Xe:null,handleHighlight:A&&!Me?He:null,handleRemoveHighlight:A&&Me?Ve:null,showHighlightEducator:v,small:!0})};return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(ie.F,{contextLogData:{objectId:H.id},impressionAuxFields:{commentId:H.id,pinId:f,pinType:Ce,parentId:m,parentType:u,commentType:b.o.aggregatedComment},componentType:u===b.o.pin?13696:13697,impressionType:"Comment",isPaused:!S,loggingId:H.id,slotIndex:x,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,c.jsx)(X,{avatarSize:Fe?"sm":"md",commentAuthor:H.user,commentCount:Te,commentId:e,contentText:ke,createdAt:Se,flyout:ot(),handleHelpfulClick:Ze,handleLikeClick:Be,handleLikeCountClick:Qe,handleOnEditCancel:Ye,handleOnEdited:Ke,handleReplyClick:We,helpfulCount:Ie,hideAddObjects:!0,hideReplyCount:!0,inEditMode:W,isHighlighted:Me,isLikedByMe:!!ze,isMarkedHelpfulByMe:je,parentObject:{id:m},reactionCounts:Re,responsePin:Ee,slotIndex:x,taggedUsers:De,tags:Oe,truncateText:!0,type:b.o.aggregatedComment,isORBACProfileManager:w})})}),he&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:Fe?0:48}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,c.jsx)(a.xu,{display:"flex",marginTop:2,children:(0,c.jsx)(a.xu,{flex:"grow",children:(0,c.jsx)(k,{avatarSize:"sm",hideAddObjects:!0,onAddItem:async({contentMarkdown:t,tags:o})=>{let n,i=e;We(),_e(!0),Fe&&(i=m,n=e),await Ae(Z({objectType:b.o.aggregatedComment,objectId:i,tags:o,text:t,replyToCommentId:n})),_e(!1)},onCancelItem:We,onEnter:()=>{},objectType:b.o.aggregatedComment,parentObjectId:m,replyToObject:Fe?H:null,statusType:"textInflightCreation"})})})}),Te>0&&(0,c.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,c.jsx)(Pe,{baseIndex:x+1,commentCount:Te,creatorId:o,didItOwnerId:l,depth:r,isManagedView:d,objectId:e,objectType:b.o.aggregatedComment,onUpdate:h,parentObjectId:m,pinDomainOwnerId:g,pinId:f,variant:"legacy",isORBACProfileManager:w}),(0,c.jsx)(a.$j,{accessibilityLabel:T._('Comments loading', ' - ', ' -- '),show:K})]}),me&&(0,c.jsx)(C,{accessibilityModalLabel:T._('Deleting a comment', 'closeup.deleteCommentModal.label', 'Label for deleting a comment'),heading:T._('Are you sure?', 'closeup.deleteCommentModal.heading', 'Are you sure to remove post or comment'),cancelButtonText:T._('Cancel', 'closeup.deleteCommentModal.cancelButton', 'Cancel deleting comment'),confirmButtonText:T._('Delete', 'closeup.deleteCommentModal.confirmButton', 'Delete comment'),detail:T._('This comment will be deleted', 'closeup.deleteCommentModal.detailText', 'confirmation before deleting comment'),onConfirm:()=>{Ae(G({aggregatedCommentId:e,aggregatedPinId:t,feedType:"aggregatedComments",type:Fe?oe.Rv.REPLY_TO_AGGREGATED:oe.Rv.TOP,parentId:m,updateParentCommentCount:!0}))},onDismiss:et}),fe&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:T._('Users who have liked this.', 'closeup.comment.showLikeListModal.label', 'Label for a modal showing a list of users who have liked a Tried Item Comment'),heading:(0,p.Z)(T.ngettext('{{count}} Like', '{{count}} Likes', Ue, 'closeup.comment.showLikeListModal.heading', 'Number of likes a comment has'),{count:Ue.toString()}),onDismiss:et,size:"md",children:(0,c.jsx)(ee.Xd,{id:e})}),ve&&(0,c.jsx)(N.Z,{firstName:Ne,onBlockUser:()=>{Ae((0,te.Ge)(Le)),D(Le),V(Le),et(),I((({hideToast:e})=>(0,c.jsx)(q.ZP,{onHide:e,text:(0,re.nk)(T._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:Ne}).join("")})))},onClearModal:et})]})};var he=o(322741),pe=o(829407),me=o(826067),ge=o(925927),fe=o(778821);const xe=2,ye=({baseIndex:e=0,commentCount:t,creatorId:o,depth:i=0,didItOwnerId:r,feedItems:l,feedResourceName:d,initialLoadCount:u,isManagedView:_,objectId:h,objectType:p,onUpdate:m,parentObjectId:g,pinDomainOwnerId:f,pinId:x,privatePin:y,shouldFeatureComment:P=!1,variant:A,isORBACProfileManager:w})=>{var C,E;const{logContextEvent:T}=(0,j.v)(),S=(0,s.ZP)(),[I,z]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),O=(0,v.Z)(),L=(0,Y.K)(),N=(0,ge.TH)(),{comment_is_hidden:M="0"}=(0,me.mB)(N.search),F=1===parseInt(M,10),{showOneToast:U}=(0,de.F9)(),B=(0,Q.Z)();(0,pe.Z)((()=>{if(L&&F&&P){const e=S._('Sorry, the comment has been hidden', 'AggregatedCommentList.featuredComment.isHidden', 'Error message for featured comment is unavailable');U((({hideToast:t})=>(0,c.jsx)(q.ZP,{onHide:t,text:e})))}}));const{fetchMore:Z,isAtEnd:G,isLoaded:H}=(0,$.Z)({name:d,options:{objectId:h,page_size:u||2,redux_normalize_feed:!0,featured_ids:P&&L&&!F?[L]:null}}),V=(0,le.S6)()(null!=x?x:""),W=V&&V.pinner?V.pinner.id:"",K=!!V&&V.story_pin_data_id,X=null!==(C=null==V||null===(E=V.aggregated_pin_data)||void 0===E?void 0:E.id)&&void 0!==C?C:"";(0,n.useEffect)((()=>{H&&m&&m()}),[H,m]);const J=()=>{z(!I)},ee=!!l&&H&&t>l.length&&!G,te=l?t-l.length:0,oe=(0,re.nk)(S.ngettext('{{commentCount}} comment', '{{commentCount}} comments', te, 'Show comments link with count', 'Show comments link with count'),{commentCount:String(te)}).join(""),ne=p===b.o.aggregatedComment,ie=p===b.o.pin&&(l&&0===l.length||0===t)&&H&&!R,se="default"===A,ae=0===i,ce=ae&&V&&V.highlighted_aggregated_comments?V.highlighted_aggregated_comments:[],ue=ae&&O.isAuth&&O.id===W;let fe=ue;return(0,c.jsxs)(a.xu,{"data-test-id":"aggregated-comment-list",marginTop:ne&&!se?2:0,paddingY:ne||se?0:2,children:[!!x&&ce.map(((t,n)=>(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:i+1,didItOwnerId:r,isManagedView:_,objectType:p,onUpdate:m,parentObjectId:p===b.o.pin?x:h,pinDomainOwnerId:f,pinId:x,slotIndex:e+n,variant:A,viewerId:O.isAuth?O.id:"",canSetHighlight:ue,isORBACProfileManager:w})},t))),!!x&&(null==l?void 0:l.filter((e=>!ce.includes(e.id))).map((({id:t},n)=>{const s=fe;return fe=!1,(0,c.jsx)(a.xu,{marginBottom:2,children:(0,c.jsx)(_e,{aggregatedCommentId:t,apdId:X,creatorId:o,depth:i+1,didItOwnerId:r,isManagedView:_,objectType:p,onUpdate:m,parentObjectId:p===b.o.pin?x:h,pinDomainOwnerId:f,pinId:x,slotIndex:e+ce.length+n,variant:A,viewerId:O.isAuth?O.id:"",showHighlightEducator:s,numHighlights:ce.length,canSetHighlight:ue,isORBACProfileManager:w})},t)}))),(0,c.jsx)(a.$j,{accessibilityLabel:S._('Comments loading', ' - ', ' -- '),show:!H||R}),ee&&(0,c.jsx)(a.xu,{marginTop:3,children:(0,c.jsx)(he.Z,{handleClick:Z,text:oe})}),ie&&(0,c.jsx)(a.xu,{paddingY:se?0:2,children:(0,c.jsx)(a.xv,{size:se?"100":"200",children:S._('Share feedback, ask a question or give a high five', ' - ', ' -- ')})}),!w&&p!==b.o.aggregatedComment&&!_&&(0,c.jsx)(a.xu,{display:"flex",marginTop:6,children:(0,c.jsx)(a.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,c.jsx)(k,{hideAddObjects:!0,objectType:p,onAddItem:async({contentMarkdown:e,tags:t})=>{J(),D(!0);try{B({objectType:p,objectId:h,pinId:x,tags:t,text:e}),p===b.o.pin&&T({event_type:7,object_id_str:x,aux_data:{num_user_mention_tags:(t?JSON.parse(t):[]).length,...K?{creator_id:o,story_pin_data_id:K}:{}}})}catch(n){}D(!1)},onCancelItem:J,onEnter:J,parentObjectId:g||"",privatePin:y,replyToObject:null,statusType:I?"textInflightCreation":"textStaticDisplay"})})})]})},ve=e=>(0,i.useSelector)((({feeds:t})=>t[`${fe.DV.AGGREGATED_COMMENTS}:${e}`])),Pe=e=>{var t;return(0,c.jsx)(ye,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"})},be=e=>{var t;return(0,c.jsx)(ye,{...e,feedItems:null!==(t=ve(e.objectId))&&void 0!==t?t:[],feedResourceName:"DidItCommentsResource"})};var Ae=o(129274),we=o(837727),Ce=o(782534),Ee=o(946984),Te=o(975209);function Se(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ie={background:"none",border:"none",padding:"0",width:"100%"},je=({isLikedByMe:e,onClick:t})=>{const o=(0,s.ZP)(),n=(0,Ee.Z)({shouldStopEventPropagation:!1});return(0,c.jsx)(a.hU,{accessibilityLabel:o._('Like', ' - ', ' -- '),icon:"heart",iconColor:e?"red":"gray",onClick:n((()=>t())),size:"md"})};class ze extends n.PureComponent{constructor(...e){super(...e),Se(this,"state",{isLikedByMe:this.props.item.liked_by_me,isReportedByMe:!1,likeCount:this.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),Se(this,"handleClickthrough",(()=>{const{handlePinClickLogging:e,logContextEvent:t,item:{id:o}}=this.props;e&&e(),t({event_type:101,component:172,element:1263,object_id_str:o})})),Se(this,"handleClickHashTag",(()=>{const{logContextEvent:e,item:{id:t}}=this.props;e({event_type:101,component:172,element:10194,object_id_str:t})})),Se(this,"handleToggleLikesListModal",(()=>this.setState((({showLikesListModal:e})=>({showLikesListModal:!e}))))),Se(this,"handleClickLike",(()=>{const{item:{id:e},viewType:t,logContextEvent:o}=this.props,{isLikedByMe:n,likeCount:i}=this.state;o({event_type:101,component:172,element:1353,object_id_str:e,view_type:t});const r=h.ZP.create("DidItLikeResource",{didItDataId:e});var s,l;return this.setState({isLikedByMe:!n,likeCount:(s=i,l=n,l?s-1:s+1)}),n?r.callDelete({showError:!1}):r.callCreate()})),Se(this,"handleToggleFlyout",(()=>this.setState((({showFlyout:e})=>({showFlyout:!e,showShareFlyout:!1}))))),Se(this,"handleShowShareFlyout",(()=>this.setState({showShareFlyout:!0}))),Se(this,"handleDismissFlyout",(()=>{this.state.showEditModal||this.setState({showFlyout:!1,showShareFlyout:!1})})),Se(this,"handleShowReportModal",(()=>this.setState({showReportModal:!0}))),Se(this,"handleHideReportModal",(e=>()=>{const{item:{id:t},removeReportedActivity:o}=this.props;this.setState({showReportModal:!1}),o&&this.state.isReportedByMe&&e&&o(t)})),Se(this,"handleShowDeleteModal",(()=>this.setState({showDeleteModal:!0}))),Se(this,"handleDeleteConfirmation",(e=>{const{item:{id:t,pin:{aggregated_pin_data:o={},id:n},user:i},deleteUserDidItData:r,logContextEvent:s}=this.props;if(this.setState({showDeleteModal:!1}),!e||!i)return;const{username:l}=i;s({event_type:101,view_type:101,component:192,element:1264,object_id_str:n}),r({aggregatedPinDataId:null==o?void 0:o.id,id:t,isOwnedByMe:this.isOwnedByCurrentUser,pinId:n,username:l})})),Se(this,"handleToggleEditModal",(e=>this.setState({showEditModal:e,showFlyout:e}))),Se(this,"handleClickHelpful",(()=>{const{didItDataId:e,item:{marked_helpful_by_me:t},toggleHelpful:o}=this.props;o({didItDataId:e,isMarkedHelpfulByMe:!!t})})),Se(this,"handleDeleteMouseEnter",(()=>this.setState({isDeleteHover:!0}))),Se(this,"handleDeleteMouseLeave",(()=>this.setState({isDeleteHover:!1}))),Se(this,"handleReportMouseEnter",(()=>this.setState({isReportHover:!0}))),Se(this,"handleReportMouseLeave",(()=>this.setState({isReportHover:!1}))),Se(this,"renderFlyout",(()=>{var e,t,o;const{creatorId:n,item:{details:i,id:r,images:s,pin:l,privacy:u,user:_},viewer:h}=this.props,{aggregated_pin_data:p={},id:m,images:g={},link_domain:x={},rich_metadata:y={},title:v}=l||{},{showFlyout:P,showShareFlyout:b}=this.state,A=(x||{}).official_user||{},w=(y||{}).title,C={description:i,id:r,imageUrl:s.length>0?null==s||null===(e=s[0])||void 0===e||null===(t=e["550x"])||void 0===t?void 0:t.url:null===(o=g["136x136"])||void 0===o?void 0:o.url,name:w||this.props.i18n._('this idea', ' - ', ' -- '),type:we.d.DID_IT,url:`/pin/${m}/activity/tried/${r}`},E=this.isOwnedByCurrentUser||h.isAuth&&h.id===A.id||h.isAuth&&h.id===n;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xu,{ref:e=>{this.flyoutAnchor=e},children:(0,c.jsx)(a.hU,{accessibilityExpanded:P,accessibilityHaspopup:!0,accessibilityLabel:this.props.i18n._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",onClick:this.handleToggleFlyout,size:"sm"})}),P&&(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{alignSelf:"end",children:(0,c.jsx)(a.J2,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.handleDismissFlyout,size:b?"lg":"xs",children:b?(0,c.jsx)(f.Z,{onHide:this.handleToggleFlyout,sendType:we.d.DID_IT,sharedObject:C}):(0,c.jsx)(a.xu,{display:"flex",column:12,color:"default",position:"relative",rounding:2,alignSelf:"start",children:(0,c.jsxs)(a.sg,{span:12,children:["public"===u&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowShareFlyout,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Share', ' - ', ' -- ')})})}),(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:this.pinURL,children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Go to Pin', ' - ', ' -- ')})},this.pinURL)}),_&&(this.isOwnedByCurrentUser||E)?(0,c.jsxs)(a.xu,{children:[this.isOwnedByCurrentUser&&(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,c.jsx)(d,{aggregatedPinDataId:null==p?void 0:p.id,isDoneByMe:this.isOwnedByCurrentUser,loggedInUser:_,onToggleModal:this.handleToggleEditModal,pinId:m,pinTitle:v,userDidItDataId:r})}),E&&(0,c.jsx)("button",{style:Ie,onClick:this.handleShowDeleteModal,children:(0,c.jsx)(a.xu,{"data-test-id":"flyout-delete-button",paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})]}):(0,c.jsx)("button",{style:Ie,onClick:this.handleShowReportModal,children:(0,c.jsx)(a.xu,{paddingY:1,paddingX:2,display:"flex",children:(0,c.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Report this content', ' - ', ' -- ')})})})]})})})})})]})})),Se(this,"renderStatsBar",(()=>{const{item:{comment_count:e,done_at:t,pin:{link_domain:o},marked_helpful_by_me:n,helpful_count:i},isManagedView:r,viewer:s}=this.props,{isLikedByMe:l,likeCount:d,isDeleteHover:u,isReportHover:_}=this.state,h=(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', d, ' - ', ' -- '),{likeCount:d}),m=(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', e, ' - ', ' -- '),{commentCount:e}),g=(o||{}).official_user||{},f=this.isOwnedByCurrentUser||s.isAuth&&s.id===g.id,x=this.props.getHumanizedTimeSince(t,!0);return(0,c.jsxs)(a.xu,{column:12,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(a.xv,{size:"200",children:r?x:(0,c.jsx)(Ce.Z,{value:new Date(t),dateFormatType:Ce.k.LONG,useUTC:!1})}),e>0&&(0,c.jsx)(a.xu,{marginStart:6,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:m})}),d>0&&(0,c.jsx)(a.xu,{marginStart:6,"data-test-id":"did_it_show_likes_tap_area",children:(0,c.jsx)(a.iP,{onTap:this.handleToggleLikesListModal,children:(0,c.jsx)(a.xv,{size:"200",weight:"bold",children:h})})})]}),(0,c.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,c.jsx)(a.xu,{marginBottom:1,marginTop:1,display:"flex",justifyContent:d>0?"between":"end",children:s.isAuth&&(0,c.jsx)(je,{isLikedByMe:l,onClick:this.handleClickLike})}),(0,c.jsx)(a.xu,{display:"flex",paddingY:3,children:(0,c.jsx)(Z.N,{helpfulCount:i,isMarkedHelpfulByMe:n,onHelpfulClick:this.handleClickHelpful})})]}),r&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleReportMouseEnter,onMouseLeave:this.handleReportMouseLeave,onTap:this.handleShowReportModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:_?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Report', ' - ', ' -- ')})})})}),r&&f&&(0,c.jsx)(a.kC,{alignItems:"stretch",flex:"none",children:(0,c.jsx)(a.iP,{onMouseEnter:this.handleDeleteMouseEnter,onMouseLeave:this.handleDeleteMouseLeave,onTap:this.handleShowDeleteModal,rounding:"pill",children:(0,c.jsx)(a.xu,{padding:2,children:(0,c.jsx)(a.xv,{color:u?"default":"subtle",size:"200",weight:"bold",children:this.props.i18n._('Delete', ' - ', ' -- ')})})})})]})})),Se(this,"renderPinInfoBar",(()=>{var e,t;const{item:{images:o,pin:n,user:i},isManagedView:r}=this.props,{full_name:s}=i||{},{dominant_color:l,images:d={},rich_metadata:u={},title:_}=n,h=(u||{}).title;let p;p=this.isOwnedByCurrentUser&&h?(0,re.nk)(this.props.i18n._('You tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{pinTitleForTriedByText:h}):h?(0,re.nk)(this.props.i18n._('{{fullName}} tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{fullName:s,pinTitleForTriedByText:h}):this.isOwnedByCurrentUser?this.props.i18n._('See the Pin you tried', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'):this.props.i18n._('See the Pin that inspired it', 'call to action - navigating to a Pin from a try', 'call to action - navigating to a Pin from a try');return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:o.length?2:0,children:(0,c.jsx)(a.iP,{role:"link",onTap:this.handleClickthrough,href:this.pinURL,children:(0,c.jsxs)(a.xu,{paddingX:o.length?3:0,paddingY:3,display:"flex",alignItems:"center",children:[(0,c.jsxs)(a.xu,{marginEnd:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center",children:[(0,c.jsx)(a.xu,{width:60,marginEnd:3,children:(0,c.jsx)(a.zd,{rounding:2,wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=_?_:"",color:null!=l?l:"transparent",naturalHeight:60,naturalWidth:60,src:null!==(e=null===(t=d["136x136"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})})}),(0,c.jsxs)(a.xv,{color:o.length?"inverse":"default",size:r?"100":"300",weight:"bold",children:[" ",p," "]})]}),(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('See pin', ' - ', ' -- '),color:o.length?"inverse":"default",icon:"arrow-forward",size:32})]})},this.pinURL)})}))}get isOwnedByCurrentUser(){const{viewer:e,item:t}=this.props;return!(!e.isAuth||!t.user||e.id!==t.user.id)}get pinURL(){return`/pin/${this.props.item.pin.id}/`}render(){var e;const{creatorId:t,isManagedView:o,item:n,viewType:i}=this.props,{likeCount:s,showDeleteModal:l,showLikesListModal:d,showReportModal:h}=this.state,{comment_count:m,details:f,id:v,images:P,pin:A,user:w,videos:C}=n,{aggregated_pin_data:E={},id:T}=A||{},{full_name:S,id:I,image_medium_url:j,username:z}=w||{},R=`/${z}/`;(0,p.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', s, ' - ', ' -- '),{likeCount:s}),(0,p.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', m, ' - ', ' -- '),{commentCount:m});const D=!!(C&&C.length>0&&C[0].video_list&&C[0].video_list.V_HLSV4),O=!!(P.length>0&&P[0]&&P[0]["750x"]),k=O||D,L=82!==i,N=O&&L;return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"stretch",justifyContent:"between",paddingY:7,children:[(0,c.jsxs)(a.xu,{display:"flex",column:12,alignItems:"center",children:[(0,c.jsx)(a.kC,{alignItems:"center",children:(0,c.jsx)(a.xu,{width:o?36:42,marginEnd:3,children:(0,c.jsx)(a.iP,{role:"link",rounding:"circle",onTap:this.handleClickthrough,href:R,children:(0,c.jsx)(a.zd,{rounding:"circle",wash:!0,children:(0,c.jsx)(a.Ee,{alt:null!=z?z:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:null!=j?j:""},j)})},R)})}),(0,c.jsx)(a.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,c.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,c.jsx)(a.xv,{size:o?"200":"300",children:(0,c.jsx)(a.rU,{onClick:this.handleClickthrough,href:R,children:S||""},R)}),!o&&this.renderFlyout()]})]}),(0,c.jsx)(a.xu,{marginTop:2,marginBottom:o?0:1,children:k&&(0,c.jsxs)(a.xu,{column:12,position:"relative",children:[D?(0,c.jsx)(y.Z,{item:n,viewType:i}):(0,c.jsx)(x,{item:n}),N&&(0,c.jsx)(a.xu,{column:12,position:"absolute",bottom:!0,children:this.renderPinInfoBar()})]})}),(0,c.jsxs)(a.xu,{marginStart:1,children:[O&&this.renderStatsBar(),f&&(0,c.jsx)(a.xu,{column:10,marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,c.jsx)(a.xv,{size:o?"100":"300",children:(0,c.jsx)(g,{html:f,onClick:this.handleClickHashTag})})}),!O&&(0,c.jsxs)(a.xu,{children:[L&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,c.jsx)(a.xu,{column:12,children:(0,c.jsx)(be,{commentCount:m,creatorId:t,didItOwnerId:I,objectId:v,objectType:b.o.didIt,pinId:A.id,variant:"legacy"})})]}),l&&(0,c.jsx)(r.Z,{didItData:{id:v},onDeleteConfirmation:this.handleDeleteConfirmation}),d&&(0,c.jsx)(_.ZP,{accessibilityModalLabel:this.props.i18n._('Users who have liked this.', 'Label for a modal showing a list of users who have liked a Tried Item', 'Label for a modal showing a list of users who have liked a Tried Item'),allowScroll:!0,heading:(0,p.Z)(this.props.i18n.ngettext('{{count}} Like', '{{count}} Likes', s, ' - ', ' -- '),{count:s.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,c.jsx)(ee.Jo,{id:v})}),h&&w&&(0,c.jsx)(Ae.N,{children:(0,c.jsx)(u.Z,{aggregatedPinDataId:null!==(e=null==E?void 0:E.id)&&void 0!==e?e:"",didItDataId:v,pinId:T,onClose:this.handleHideReportModal,username:z,users:[w]})})]})}}function Re(e){const{logContextEvent:t}=(0,j.v)(),o=(0,s.ZP)(),n=(0,M.Z)(),r=(0,i.useDispatch)(),l={deleteUserDidItData:(0,P.bindActionCreators)(Te.lg,r),toggleHelpful:(0,P.bindActionCreators)(Te.YH,r),updateUserDidItDataCommentCount:(0,P.bindActionCreators)(Te.L8,r)},a=(0,i.useSelector)((({didItData:t})=>t[e.didItDataId]));return(0,c.jsx)(ze,{...e,...l,item:a,viewer:(0,v.Z)(),i18n:o,getHumanizedTimeSince:n,logContextEvent:t})}},395129:(e,t,o)=>{o.d(t,{Jo:()=>g,Xd:()=>m});var n=o(667294),i=o(700380),r=o(56291),s=o(784590),l=o(19121),a=o(281180),c=o(898781),d=o(883119),u=o(304903),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),h(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),h(this,"handleScroll",(0,i.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,u.Uy)(this.list);(0,u.aZ)(this.list)-(0,u.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:o,viewer:n}=this.props;if(!t)return(0,_.jsx)("div",{className:"loadingSpinner",children:(0,_.jsx)(d.$j,{accessibilityLabel:this.props.i18n._('Loading spinner for like list', 'Accessibility label for loading spinner for like list', 'Accessibility label for loading spinner for like list'),show:!0})});const i=e&&e.map((e=>e.id?{...e,...o[e.id]}:e));return(0,_.jsx)(d.xu,{"data-test-id":"liked-by-list",maxHeight:400,ref:this.setRef,children:i&&i.map((e=>(0,_.jsx)(d.xu,{paddingX:4,paddingY:3,children:(0,_.jsx)(r.Z,{isSelf:Boolean(n.isAuth&&n.id&&e.id===n.id),user:e})},e.id)))})}}function m(e){const t=(0,c.ZP)(),o=(0,l.Z)(),n=(0,a.kW)(),i=(0,s.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}function g(e){const t=(0,c.ZP)(),o=(0,l.Z)(),n=(0,a.kW)(),i=(0,s.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,_.jsx)(p,{...e,feedResource:i,users:n,viewer:o,i18n:t})}},102243:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(572260),r=o(366284),s=o(898781),l=o(780280),a=o(883119),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),d(this,"handleTouch",(({event:e})=>{e.stopPropagation(),this.setState((e=>({isPlaying:!e.isPlaying})))})),d(this,"handleShowControls",(()=>this.setState({showControls:!0}))),d(this,"handleHideControls",(()=>this.setState({showControls:!1}))),d(this,"handleEnded",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePause",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!1})})),d(this,"handlePlay",(e=>{e.event.stopPropagation(),this.setState({isPlaying:!0})})),d(this,"handleToggleFullscreen",(e=>{const{event:t,fullscreen:o}=e;t.stopPropagation(),this.setState({isFullscreen:o})})),d(this,"handleVolumeChange",(e=>{const{event:t,volume:o}=e;t.stopPropagation(),this.setState({volumeLevel:o})}))}render(){const{item:e,requestContext:t,viewType:o}=this.props,{videos:n}=e;if(!n||0===n.length)return null;const s=n[0],{showControls:l,isFullscreen:d,isPlaying:u,volumeLevel:_}=this.state,{V_HLSV4:h}=s.video_list;if(!h)return null;const{height:p,width:m,thumbnail:g,url:f}=h||{},x=[{type:"video/m3u8",src:f}];return(0,c.jsx)(a.iP,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(a.zd,{rounding:2,willChangeTransform:!((0,r.G6)(t.userAgent.browserName)&&d),wash:!0,children:(0,c.jsx)(i.ZP,{isAutoPlay:!1,contextLogData:{view:o,viewParameter:3071,component:172,objectId:e.id,video_id:s.id},accessibilityMaximizeLabel:this.props.i18n._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:this.props.i18n._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:this.props.i18n._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:this.props.i18n._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:this.props.i18n._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:this.props.i18n._('Progress bar', 'trieditvideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:this.props.i18n._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:Math.max((null!=m?m:1)/(null!=p?p:1),1),captions:"",controls:l,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:g,src:x,volume:_})})})}}function _(e){const t=(0,s.ZP)(),o=(0,l.B)();return(0,c.jsx)(u,{...e,i18n:t,requestContext:o})}},890328:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var n=o(667294),i=o(300267),r=o(966338),s=o(572551),l=o(301921),a=o(730320),c=o(104258),d=o(898781),u=o(883119),_=o(785893);function h({feed:e,isOwnProfile:t,pinsResource:o,surface:i,user:h}){var p;const m=(0,d.ZP)(),{fetchMore:g,isAtEnd:f,isFetching:x,isLoaded:y}=o,v=(null!==(p=o.data)&&void 0!==p?p:[]).filter((e=>"pin"===(null==e?void 0:e.type))),P=h&&h.id,b=(0,r.useSelector)((({feeds:t})=>P?t[`${e}:${P}`]:[]));if(y&&!t&&(!v||!v.length))return null;const A=t?3106:3107;return(0,_.jsxs)(n.Fragment,{children:[y&&(b&&0!==b.length?null:(0,_.jsx)(a.Z,{marginTop:t?0:5,textSize:t?"400":"500",children:(0,_.jsx)(c.Z,{subject:"pins",surface:"profile",user:h})})),y&&b?(0,_.jsx)(s.default,{flexible:!0,columnWidth:236,comp:({data:e,itemIdx:t})=>(0,_.jsx)(l.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:i,trackingParameters:{slotIndex:t,viewParameter:A,viewType:4}}),isAtEnd:f,isFetching:x,isLoaded:y,items:b,loadItems:()=>{x||f||g()},serverRender:!1,virtualize:!1}):null,x&&(0,_.jsx)(u.xu,{paddingY:3,position:"relative",children:(0,_.jsx)(u.$j,{accessibilityLabel:m._('Loading Pins on profile', 'profile.createdTab.loadingSpinner', 'Loading Pins on profile'),show:x})})]})}var p=o(620006),m=o(717615),g=o(86551),f=o(784590),x=o(184451),y=o(19121),v=o(778821),P=o(349700),b=o(407043),A=o(578722),w=o(357805),C=o(925927),E=o(231947),T=o(217468);function S(e){var t,o,r,s,l,a,c,S;const{logContextEvent:I}=(0,b.v)(),j=(0,d.ZP)(),{params:{username:z,userId:R}}=(0,C.$B)(),D=(0,y.Z)(),{anyEnabled:O}=(0,T.a)("web_story_pin_creator"),k=["holdout","holdout_2"].includes((0,T.t)("story_pin_longterm_holdout")({dangerouslySkipActivation:!0}).group),L=(0,T.t)("web_created_tab_for_all")({dangerouslySkipActivation:!0}).anyEnabled,N=(0,m.Z)(),M=(0,g.Z)(),F=(0,i.Z)({user:M.data,viewer:D}),U=(0,E.D3)(D,null!==(t=null!=R?R:null===(o=M.data)||void 0===o?void 0:o.id)&&void 0!==t?t:"",N),B=(0,f.Z)({name:"UserResource",options:{username:D.isAuth&&(null===(r=M.data)||void 0===r?void 0:r.username),field_set_key:"quick_create"},dangerouslyDisableFetch:F||!(k&&L)}),Z=(0,f.Z)({name:"UserActivityPinsResource",options:{data:{filter_version:1},exclude_add_pin_rep:!F,field_set_key:D.isPartner&&F?"partner_grid_item":"grid_item",is_own_profile_pins:F,redux_normalize_feed:!0,user_id:null!=R?R:null===(s=M.data)||void 0===s?void 0:s.id,username:z}}),G=(0,A.s_)(),H=(0,f.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},exclude_add_pin_rep:!F,field_set_key:D.isPartner&&F?"partner_grid_item":G?"grid_item_ip_plays":"grid_item",is_own_profile_pins:F,redux_normalize_feed:!0,user_id:null!=R?R:null===(l=M.data)||void 0===l?void 0:l.id,username:z}}),V=()=>I({event_type:101,element:10949,component:13777,view_type:4,view_parameter:3106});(0,w.S)(z,M.data?M.data.id:null,13668);const{anyEnabled:W}=(0,T.t)("web_m10n_business_access_orbac_www")(),{isAtEnd:$}=H,Y=M.data,{first_name:K}=Y||{},{scheduled_pin_count:X=0}=W?{scheduled_pin_count:(0,E.DX)(D,Y,N)}:Y||{},q=(W?U:F)&&D.isPartner&&X>0,Q=H.isLoaded&&H.data&&H.data.length>0,J=Z.isLoaded&&Z.data&&Z.data.length>0,ee=J&&$,te=Q&&!k||Q&&k&&!(null===(a=B.data)||void 0===a||!a.quick_create_pin_count),oe=j._('No created Pins yet', 'profile.createdTab.notEligibleForCreatedPin', 'text letting user know there are no created pins');return(0,_.jsxs)(n.Fragment,{children:[q&&(0,_.jsx)(x.Z,{username:null!=z?z:""}),Q&&F&&!L&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(p.Z,{label:j._('Your Idea Pins', 'profile.createdTab.ideaPinHeader', 'title for the Idea Pin section under the Created Tab on the profile page')})}),H.isLoaded&&(te?(0,_.jsx)(u.xu,{"data-test-id":"story-pin-feed",children:(0,_.jsx)(h,{isOwnProfile:F,feed:v.DV.CREATED_TAB_STORY_PINS_FEED,pinsResource:H,surface:"CreatorProfileStoryPinGrid",user:M.data})}):F&&O&&!L&&(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,children:[(0,_.jsx)(u.xv,{children:j._('Nothing to show...yet! Idea Pins you create will live here.', 'profile.createdTab.emptyIdeaPinState', 'text prompting creator that they do not have Idea Pins to display')}),(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{role:"link",href:"/idea-pin-builder/",onClick:V,size:"lg",text:j._('Create Idea Pin', 'profile.createdTab.createButton', 'Button that will re-direct user to Idea Pin Builder')})})]})),L&&k&&!F&&!(null!==(c=B.data)&&void 0!==c&&c.quick_create_pin_count)&&!J&&(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsx)(u.xu,{"data-test-id":"empty-story-pin-state",display:"flex",justifyContent:"center",paddingY:12,children:(0,_.jsx)(u.X6,{size:"500",children:oe})})}),L&&!te&&!1===(null===(S=M.data)||void 0===S?void 0:S.has_published_pins)&&0===M.data.story_pin_count&&(F?(0,_.jsx)(u.xu,{paddingY:12,children:(0,_.jsxs)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:[(0,_.jsx)(u.X6,{size:"500",children:O?j._('Inspire with an Idea Pin', 'profile.createdTab.selfEmptyPinState', 'text prompting creator to create an idea pin'):oe}),O&&(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.zx,{color:"red",href:"/idea-pin-builder/",onClick:V,role:"link",size:"lg",text:j._('Create', 'profile.createdTab.emptyStateCreateButton', 'Create button that will re-direct user to Idea Pin Builder')})})]})}):(0,_.jsx)(u.xu,{alignItems:"center","data-test-id":"empty-story-pin-state",direction:"column",display:"flex",marginBottom:2,paddingY:12,children:(0,_.jsx)(u.xu,{maxWidth:362,paddingY:12,children:(0,_.jsx)(u.X6,{align:"center",size:"500",children:j._('No Idea Pins yet, but there\'s tons of potential', 'profile.createdTab.otherEmptyPinState', 'text indicating where idea pins would display if they were created')})})})),ee&&te&&(F?(0,_.jsx)(p.Z,{showHeading:!0,label:j._('Other Pins', 'profile.createdTab.nonStoryPinHeaderAlt', 'header for non story pins section of user profile viewed by owner')}):(0,_.jsx)(u.xu,{"data-test-id":"public-view-pins-section-header",display:"flex",justifyContent:"center",marginTop:6,paddingY:4,children:(0,_.jsx)(u.X6,{size:"400",children:(0,P.nk)(j._('More by {{ firstName }}', 'profile.createdTab.nonStoryPinHeader', 'header for non story pins section of user profile viewed by public'),{firstName:K})})})),($||!$&&H.data&&0===H.data.length||L&&!te)&&J&&(0,_.jsx)(u.xu,{"data-test-id":"other-pins-feed",children:(0,_.jsx)(h,{feed:v.DV.CREATED_TAB_ACTIVITY_PINS_FEED,isOwnProfile:F,pinsResource:Z,surface:"CreatorProfileActivityPinGrid",user:M.data})})]})}},620006:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r(e){const{showHeading:t,label:o,sublabel:r}=e;return(0,i.jsxs)(n.xu,{alignContent:"center",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,children:[t?(0,i.jsx)(n.X6,{size:"400",children:o}):(0,i.jsx)(n.xv,{weight:"bold",children:o}),(0,i.jsx)(n.xu,{marginTop:1,children:(0,i.jsx)(n.xv,{color:"subtle",size:"100",children:r})})]})}},774026:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(300267),i=o(850071),r=o(86551),s=o(19121),l=o(81636),a=o(785893);function c(e){const t=(0,r.Z)(),o=(0,s.Z)(),c=(0,n.Z)({user:t.data,viewer:o});let d;return o.isAuth&&c&&(d=o.id),(0,l.Q)({object_id_str:d,view_type:4,view_parameter:c?3106:3107}),t&&t.data?(0,a.jsx)(i.default,{}):null}},410004:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n=o(667294),i=o(976849),r=o(730320),s=o(104258),l=o(907301),a=o(898781),c=o(784590),d=o(883119),u=o(785893);function _({user:e}){const t=(0,a.ZP)(),{data:o,fetchMore:n,isAtEnd:_,isFetching:h,isLoaded:p}=(0,c.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:e.username}});return(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.gr,{isAtEnd:_,isFetching:h,fetchMore:n}),p&&(o&&o.length?(0,u.jsx)(l.Z,{itemWidth:317,children:o.map(((e,t)=>(0,u.jsx)(d.xu,{width:317,paddingX:1,paddingY:4,children:(0,u.jsx)("div",{className:"item",style:{position:"relative"},children:(0,u.jsx)(i.Z,{board:e,slotIndex:t,layout:"wide"})})},e.id)))}):(0,u.jsx)(r.Z,{children:(0,u.jsx)(s.Z,{subject:"boards",surface:"following",user:e})})),(0,u.jsx)(d.$j,{accessibilityLabel:t._('Loading additional boards', 'Label for the loading state spinner in the Boards section of the Following page', 'Label for the loading state spinner in the Boards section of the Following page'),show:h||!p})]})}var h=o(966338),p=o(116303),m=o(985913),g=o(70598),f=o(499128),x=o(19121),y=o(343341),v=o(5226);const P=()=>window;const b=(0,h.connect)(((e,{isFollowed:t,data:o})=>{const n=e.users[o.id];return{isFollowed:n?n.explicitly_followed_by_me:t}}),(e=>({followUser:t=>e((0,v.ZN)(t)),unfollowUser:t=>e((0,v.fv)(t))})))((function({data:e,followUser:t,inFollowExp:o,isFollowed:i,unfollowUser:r}){var s,l,c;const _=(0,a.ZP)(),h=(0,x.Z)(),{showOneToast:v}=(0,y.F9)(),P=`/${e.username}/`,b=h.isAuth&&h.id!==e.id,A=Boolean(null===(s=e.verified_identity)||void 0===s?void 0:s.verified),w=(0,m.Z)(_._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!==(l=e.full_name)&&void 0!==l?l:""});return(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:2,"data-test-id":"profile-following",children:[(0,u.jsx)(d.xu,{width:72,children:(0,u.jsx)(d.rU,{accessibilityLabel:w,href:P,children:(0,u.jsx)(p.Z,{accessibilityLabel:"",name:null!==(c=e.full_name)&&void 0!==c?c:"",src:e.image_xlarge_url||void 0,verified:A})},`${P}:avatar`)}),(0,u.jsx)(d.xu,{width:332,paddingX:2,children:(0,u.jsx)(d.rU,{accessibilityLabel:w,href:P,children:(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})},`${P}:name`)}),(0,u.jsx)(d.xu,{column:3,display:"flex",justifyContent:"center",children:(0,u.jsx)(d.xu,{flex:"shrink",children:b&&(0,u.jsx)(g.Z,{followEventType:45,id:e.id,isFollowed:i,isUserMe:!1,onFollow:o=>{t(o),v((({hideToast:t})=>(0,u.jsx)(f.ZP,{onHide:t,text:(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(d.xv,{children:_._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,u.jsx)(d.xv,{weight:"bold",children:e.full_name})]}),href:P,imageUrl:e.image_medium_url||e.image_large_url||void 0})))},onUnfollow:e=>{r(e)},textType:"FollowFollowing",unfollowEventType:46,viewType:4})})})]})}));function A({user:e,following:t}){const o=(0,a.ZP)(),{data:n,fetchMore:i,isFetching:r,isLoaded:s}=t;return e.isLoaded?(0,u.jsxs)(d.W2,{children:[(0,u.jsx)(d.Rk,{columnWidth:600,comp:b,gutterWidth:0,items:n||[],layout:"uniformRow",loadItems:i,minCols:1,scrollContainer:P,virtualize:!0}),s&&n&&0===n.length&&(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.$j,{accessibilityLabel:o._('Loading additional followers', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:r||!s})})]}):null}var w=o(86551),C=o(925927);const E=function(){const{params:e}=(0,C.$B)(),t=(0,c.Z)({name:"UserFollowingResource",options:{username:e.username}}),o=(0,w.Z)();return(0,u.jsx)(A,{following:t,user:o})};var T=o(301732),S=o(430323),I=o(407043),j=o(81636);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class R extends n.PureComponent{constructor(e){super(e),z(this,"getOptions",(()=>Object.keys(this.options).map((e=>({label:this.options[e]?this.options[e].label:"",value:this.options[e]?this.options[e].value:""}))))),z(this,"handleSelectChange",(({value:e})=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:this.options[e].elementType}),this.setState({selectedOption:e})})),z(this,"initOptions",(()=>({People:{elementType:1226,label:this.props.i18n._('People', 'The label for the People tab on the Following page', 'The label for the People tab on the Following page'),render:this.renderPeopleTab,value:"People"},Boards:{elementType:1225,label:this.props.i18n._('Boards', 'The label for the Boards tab on the Following page', 'The label for the Boards tab on the Following page'),render:this.renderBoardsTab,value:"Boards"},Topics:{elementType:1227,label:this.props.i18n._('Topics', 'The label for the Topics tab on the Following page', 'The label for the Topics tab on the Following page'),render:this.renderTopicsTab,value:"Topics"}}))),z(this,"renderPeopleTab",(()=>(0,u.jsx)(E,{}))),z(this,"renderBoardsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(_,{user:e}):null})),z(this,"renderTopicsTab",(()=>{const{user:{data:e}}=this.props;return e?(0,u.jsx)(T.ZP,{user:e}):null})),this.state={selectedOption:"People"},this.options=this.initOptions()}render(){const{user:e,username:t,viewer:o}=this.props,{isLoaded:n}=e;if(!n)return null;const{selectedOption:i}=this.state,r=this.options[i].render(),s=o.isAuth&&t===o.username?3106:3107;return(0,u.jsx)(S.Z,{view:4,viewParameter:s,component:224,children:(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.W2,{children:(0,u.jsx)(d.xu,{column:12,display:"flex",justifyContent:"end",paddingY:2,children:(0,u.jsx)(d.xu,{flex:"shrink",children:(0,u.jsx)(d.EI,{id:"ProfileFollowingOptions",label:this.props.i18n._('Following', 'profile.profileFollowingContainer.profileFollowingOptions.label', 'Label for profile following options (i.e. people, boards, topics)'),labelDisplay:"hidden",onChange:this.handleSelectChange,options:this.getOptions(),size:"lg",value:i})})})}),(0,u.jsx)(d.W2,{children:r})]})})}}function D(){const{logContextEvent:e}=(0,I.v)(),t=(0,a.ZP)(),o=(0,x.Z)(),{username:n}=(0,C.UO)(),i=(0,w.Z)();let r;return o.isAuth&&o.username===n&&(r=o.id),(0,j.Q)({object_id_str:r,view_type:4,view_parameter:51}),(0,u.jsx)(R,{user:i,username:n,viewer:o,i18n:t,logContextEvent:e})}},390007:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(85719),r=o(880601),s=o(590908),l=o(966113),a=o(898781),c=o(946984),d=o(545062),u=o(349700),_=o(407043),h=o(925927),p=o(780280),m=o(81636),g=o(121151),f=o(883119),x=o(290095),y=o(785893);const v=new f.H3([g.b7]);function P({isOwnProfile:e,onDismiss:t,onToggleFollow:P,setShowMessageFlyout:b,user:A}){var w,C;const{logContextEvent:E}=(0,_.v)(),T=(0,a.ZP)(),S=(0,c.Z)(),I=(0,h.k6)(),j=(0,p.B)().isRTL,z=(0,x.V)(e,(null===(w=A.partner)||void 0===w?void 0:w.profile_place)||{},T._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied'));(0,m.Q)({view_type:548,view_parameter:e?3106:3107});const R=e=>{E({event_type:101,element:e,view_type:548,view_parameter:3107})},[D,O]=(0,n.useState)(),k=async()=>{const e=await o.e(55302).then(o.bind(o,755302));O((()=>e.parsePhoneNumberFromString))};(0,n.useEffect)((()=>{D||k()}),[D]);const{about:L,full_name:N,is_primary_website_verified:M,is_verified_merchant:F,partner:U,website_url:B}=A,{contact_email:Z="",contact_phone:G="",contact_phone_country:H={},enable_profile_address:V,enable_profile_message:W,profile_place:$}=null!=U?U:{},Y=G?null==D?void 0:D(G,{defaultCallingCode:H&&"0"!==H.phone_code?H.phone_code:null}):null,K=(0,y.jsx)(f.xu,{height:444,marginStart:6,marginEnd:10,children:(0,y.jsxs)(f.kC,{direction:"column",gap:9,children:[(0,y.jsxs)(f.kC,{direction:"column",gap:6,children:[F&&(0,y.jsx)(i.Z,{accessibilityLabel:T._('Verified merchant icon', 'profileHeader.aboutDrawer.verifiedMerchantIcon', 'Icon showing that user is a verified merchant'),color:"shopping",icon:"workflow-status-ok",info:(0,y.jsx)(f.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,y.jsx)(f.rU,{href:l.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:T._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})}),B&&(0,y.jsx)(i.Z,{accessibilityLabel:T._('Website icon', 'profileHeader.aboutDrawer.websiteIcon', 'Icon next to user\'s website'),icon:M?"globe-checked":"globe",info:(0,y.jsx)(f.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(f.rU,{rel:"nofollow",target:"blank",href:B,inline:!0,underline:"hover",children:(0,s.Z)(B)})})}),(0,y.jsx)(r.Z,{isAboutDrawerVariant:!0,user:A}),V&&(0,y.jsx)(i.Z,{accessibilityLabel:T._('Location icon', 'profileHeader.aboutDrawer.locationIcon', 'Icon next to user\'s address'),icon:"location",info:(0,y.jsx)(f.iP,{onTap:z,children:(0,y.jsx)(f.xv,{weight:"bold",children:(0,x.T)($||{})})})})]}),(0,y.jsx)(f.xv,{children:(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.4"}},children:L})})]})}),X=(0,y.jsx)(f.kC,{justifyContent:"end",children:(0,y.jsx)(f.zx,{size:"lg",text:T._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:S((()=>{E({event_type:101,element:94,view_type:548,view_parameter:3106}),I.push("/settings#profile")}))})}),q=(0,y.jsxs)(f.kC,{justifyContent:"between",children:[(0,y.jsxs)(f.kC,{children:[W&&(0,y.jsx)(f.u,{idealDirection:"up",text:T._('Message', 'profileHeader.aboutDrawer.message', 'Menu option to message the user'),zIndex:v,children:(0,y.jsx)(f.hU,{accessibilityLabel:T._('Send message', 'profileHeader.aboutDrawer.messageIconButton', 'Button to send message to profile owner'),icon:"speech-ellipsis",iconColor:"darkGray",onClick:()=>{R(11956),b(!0),t()},padding:5,size:"lg"})}),(Y||G)&&(0,y.jsx)(f.u,{idealDirection:"up",text:T._('Call', 'profileHeader.aboutDrawer.phoneNumber', 'Menu option to call the user'),zIndex:v,children:(0,y.jsx)(f.hU,{accessibilityLabel:T._('Call', 'profileHeader.aboutDrawer.phoneIconButton', 'Button to call profile owner'),href:`tel:${Y?Y.getURI():G}`,icon:"phone",iconColor:"darkGray",onClick:()=>{R(11955)},rel:"nofollow",role:"link",padding:5,size:"lg",target:"blank"})}),Z&&(0,y.jsx)(f.u,{idealDirection:"up",text:(0,u.nk)(T._('Email {{ contactEmail }}', 'profileHeader.aboutDrawer.email', 'Menu option to send an email to the user'),{contactEmail:Z}).join(""),zIndex:v,children:(0,y.jsx)(f.hU,{accessibilityLabel:T._('Send email', 'profileHeader.aboutDrawer.emailIconButton', 'Button to send email to profile owner'),href:`mailto:${Z}`,icon:"gmail",iconColor:"darkGray",onClick:()=>{R(11954)},role:"link",rel:"nofollow",padding:5,size:"lg",target:"blank"})})]}),(0,y.jsx)(d.Z,{button:({followText:e,onClick:t})=>(0,y.jsx)(f.xu,{"data-test-id":A.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,y.jsx)(f.zx,{color:"red",onClick:t,selected:A.explicitly_followed_by_me,size:"lg",text:e})}),fullName:N,id:A.id,imageUrl:null!==(C=A.image_large_url)&&void 0!==C?C:"",isOwnProfile:!1,onUserFollow:P,profileUrl:`/${A.username}/`,userFollowed:A.explicitly_followed_by_me,viewType:548})]}),Q=(0,y.jsxs)(f.xu,{marginEnd:9,padding:8,children:[(0,y.jsx)(f.X6,{size:"500",children:(0,u.nk)(T._('About {{ name }}', 'profileHeader.aboutDrawer.heading', 'Heading for modal that shows a user\'s profile information'),{name:N})}),(0,y.jsx)(f.xu,{left:j,padding:8,position:"absolute",right:!j,top:!0,children:(0,y.jsx)(f.hU,{accessibilityLabel:T._('Close', 'profileHeader.aboutDrawer.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})})]});return(0,y.jsx)(g.ZP,{accessibilityModalLabel:T._('About the user', 'profileHeader.aboutDrawer.modal', 'Accessibility label for modal that shows a user\'s profile information'),footer:e?X:q,heading:Q,onDismiss:t,size:"sm",children:K})}},45347:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(285970),i=o(890328),r=o(774026),s=o(410004),l=o(850071),a=o(821343),c=o(117855),d=o(958754),u=o(375553),_=o(256883),h=o(460465),p=o(134679),m=o(785893);function g({businessProfileTab:e}){const t={[p.u.CREATED]:i.default,[p.u.FOLLOWERS]:_.default,[p.u.FOLLOWING]:s.default,[p.u.PINS]:h.default,[p.u.SAVED]:l.default,[p.u.SHOP]:a.default,[p.u.STORY_PINS]:c.default,[p.u.TOPICS]:d.default,[p.u.TRIED]:n.default,[p.u.VIDEO_PINS]:u.default,[p.u.DECIDER]:r.default},o=e?t[e]:null;return o?(0,m.jsx)(o,{}):null}},880601:(e,t,o)=>{o.d(t,{Z:()=>F});var n=o(27255),i=o(319915),r=o(667294),s=o(85719),l=o(939106),a=o(694379),c=o(898781),d=o(19121),u=o(349700),_=o(883119),h=o(785893);function p({count:e,onClick:t,variant:o}){const n=(0,c.ZP)(),{isAuth:i}=(0,d.Z)(),r=e<=0,s={followers:(0,u.nk)(n.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(n.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,h.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return i?(0,h.jsx)(_.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,h.jsx)(_.iP,{disabled:r,onTap:()=>t(o),children:(0,h.jsx)(_.xv,{inline:!0,weight:r?"normal":"bold",children:s[o]})})}):(0,h.jsx)(_.xv,{inline:!0,children:s[o]})}function m({headingText:e,itemIndex:t,onDismiss:o,setItemIndex:n,showSegmentedController:i}){const s=(0,c.ZP)(),l=[s._('People', 'FollowersModalHeading.tabs.people', 'Tab for displaying Pinner follows'),s._('Boards', 'FollowersModalHeading.tabs.boards', 'Tab for displaying board follows')];return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(_.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,h.jsx)(_.X6,{size:"500",children:(0,h.jsx)(_.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,h.jsx)(_.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,h.jsx)(_.hU,{accessibilityLabel:s._('Close modal', 'FollowersModal.closeModalButton', 'Accessibility label for button to close the modal'),icon:"cancel",onClick:o})})]}),i&&(0,h.jsx)(_.xu,{paddingX:6,marginBottom:2,children:(0,h.jsx)(_.sY,{selectedItemIndex:t,items:l,onChange:({activeIndex:e})=>n(e)})})]})}var g=o(976849),f=o(907301),x=o(784590),y=o(132893);function v({layout:e,user:t}){const o=(0,c.ZP)(),n=(0,y.m)(e),i=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:t.username}}),{data:s,fetchMore:l,isAtEnd:a,isFetching:d,isLoaded:u}=i;return(0,h.jsxs)(r.Fragment,{children:[u&&s&&(0,h.jsx)(f.Z,{itemWidth:n,children:s.map(((t,o)=>(0,h.jsx)(_.xu,{width:n,padding:2,children:(0,h.jsx)(g.Z,{board:t,slotIndex:o,layout:e})},t.id)))}),(0,h.jsx)(_.$j,{accessibilityLabel:o._('Loading additional boards', 'FollowingBoards.spinner.accessibilityLabel', 'Label for the loading state spinner in the Boards section of the Following page'),show:d||!u}),!a&&!d&&(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:o._('See more', 'FollowingBoards.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:d,onClick:l,text:o._('See more', 'FollowingBoards.moreButton.text', 'Button text to see more')})})]})}var P=o(121151),b=o(56291);const A="square",w=(0,y.m)(A),C="number"==typeof w?2*w+48:"md";function E({accessibilityModalLabel:e,followersResource:t,headingText:o,onDismiss:n,showSegmentedController:i,user:s}){const l=(0,c.ZP)(),{data:a,fetchMore:u,isAtEnd:p,isFetching:g}=t,[f,x]=(0,r.useState)(0),{id:y}=(0,d.Z)(),w=a&&a.length>0&&0===f&&a.map((e=>(0,h.jsx)(b.Z,{showVerified:!0,user:e,isSelf:e.id===y},e.id)));return(0,h.jsxs)(P.ZP,{accessibilityModalLabel:e,heading:(0,h.jsx)(m,{headingText:o,onDismiss:n,itemIndex:f,showSegmentedController:i,setItemIndex:x}),onDismiss:n,size:C,children:[(0,h.jsxs)(_.xu,{paddingX:6,paddingY:2,children:[(0,h.jsx)(r.Fragment,{children:w}),1===f&&(0,h.jsx)(v,{user:s,layout:A})]}),p||0!==f?null:(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,h.jsx)(_.zx,{accessibilityLabel:l._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:g,onClick:u,text:l._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})})]})}var T=o(300267),S=o(81636);function I({followersResource:e,onDismiss:t,totalFollowersCount:o,user:n,variant:i}){const s=(0,c.ZP)(),l="following"===i;(0,S.Q)({view_type:4,view_parameter:l?51:50});const _=(0,d.Z)(),p=(0,x.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:n.username}}),m=!!p.data&&p.data.length>0,g={followers:s._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),following:s._('Following', 'FollowersModal.accessibilityModalLabel.following', 'Accessibility label for modal showing what of a given entity is following')},f={followers:null,following:s._('Following', 'FollowersModal.heading.following', 'Header text for modal showing what given entities a user is following')},y={followers:(0,u.nk)(s.ngettext('{{ count }} Follower', '{{ count }} Followers', o, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:o},"totalFollowersCount")}),following:null},v=(0,h.jsx)(r.Fragment,{children:[f[i],y[i]].filter(Boolean).reduce(((e,t,o)=>[...e,0!==o?" • ":null,t]),[])}),P=(0,T.Z)({user:n,viewer:_}),b=m&&P&&l;return(0,h.jsx)(E,{accessibilityModalLabel:g[i],headingText:v,showSegmentedController:b,onDismiss:t,followersResource:e,user:n})}var j=o(580496),z=o(256883);function R({onDismiss:e,totalFollowersCount:t}){const o=(0,c.ZP)(),n=(0,r.useRef)(null),i=o._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),s=!!t&&(0,h.jsx)(r.Fragment,{children:(0,u.nk)(o.ngettext('{{ count }} Follower', '{{ count }} Followers', t, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,h.jsx)(a.Z,{value:t},"totalFollowersCount")})});return(0,h.jsx)(P.ZP,{accessibilityModalLabel:i,heading:(0,h.jsx)(m,{headingText:s,onDismiss:e,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:e,size:550,_dangerouslyDisableScrollBoundaryContainer:!0,children:(0,h.jsx)(_.xu,{"data-test-id":"profile-followers-feed",height:700,overflow:"auto",ref:n,children:(0,h.jsx)(z.default,{scrollContainer:()=>n.current||window})})})}var D=o(793937);function O({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:n,user:i}){const[a,d]=(0,r.useState)(null),u=(0,c.ZP)(),m=()=>{d(null)},g=(0,j.Z)(i);return(0,h.jsxs)(r.Fragment,{children:[n?(0,h.jsxs)(_.kC,{direction:"column",gap:6,children:[!!e&&e>=0&&(0,h.jsx)(s.Z,{accessibilityLabel:u._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,h.jsx)(l.Z,{items:[(0,h.jsx)(p,{count:e,onClick:d,variant:"followers"},"followersDisplay"),g?(0,h.jsx)(D.Z,{user:i}):null]})}),o>=0&&(0,h.jsx)(s.Z,{accessibilityLabel:u._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,h.jsx)(p,{count:o,onClick:d,variant:"following"})})]}):(0,h.jsx)(l.Z,{items:[e&&e>=0?(0,h.jsx)(p,{count:e,onClick:d,variant:"followers"}):null,o>=0?(0,h.jsx)(p,{count:o,onClick:d,variant:"following"}):null]}),"followers"===a&&(0,h.jsx)(R,{onDismiss:m,totalFollowersCount:e}),"following"===a&&(0,h.jsx)(I,{followersResource:t,onDismiss:m,totalFollowersCount:o,variant:a,user:i})]})}var k,L=o(947599),N=o(167912);function M({isAboutDrawerVariant:e=!1,user:t}){var i;const r=(0,d.Z)(),{id:s}=t,l=void 0!==k?k:k=o(226501),a=(0,N.useLazyLoadQuery)(l,{userId:s}),{following_count:c=0,interest_following_count:u=0}=t,{data:_}=null!==(i=a.v3GetUserHandlerQuery)&&void 0!==i?i:{},{followerCount:p,username:m}=_||{},g=(0,T.Z)({user:t,viewer:r}),f=(0,x.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:n.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!_)return null;const y=c-(null!=u?u:0);return(0,h.jsx)(O,{followersTotalCount:p,followingResource:f,followingTotalCount:y,isAboutDrawerVariant:e,user:t})}function F(e){const t=(0,c.ZP)();return(0,h.jsx)(i.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,h.jsx)(L.Z,{fallback:(0,h.jsx)(_.xu,{padding:5,children:(0,h.jsx)(_.$j,{accessibilityLabel:t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner'),show:!0})}),children:(0,h.jsx)(M,{...e})})})}},529821:(e,t,o)=>{o.d(t,{Z:()=>A});var n=o(667294),i=o(172071),r=o(898781),s=o(91214),l=o(934523),a=o(642345),c=o(349700),d=o(407043),u=o(217468),_=o(883119),h=o(752403),p=o(785893);const m=new _.H3([new _.Ry(s.HW),new _.Ry(l.fe)]),g="/settings/account-settings/",f=({text:e})=>{const t=(0,n.useRef)(null),[o,r]=(0,n.useState)(!1);return o&&i.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,p.jsxs)(n.Fragment,{children:[o&&(0,p.jsx)(_.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>r(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsx)(_.xv,{color:"inverse",align:"center",size:"200",children:e})})}),(0,p.jsx)(_.xu,{width:32,height:32,children:(0,p.jsx)(_.iP,{onFocus:()=>r(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,p.jsx)(_.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm"})})})]})},x=({badgeLabel:e,disabled:t,eligible:o,isChecked:n,setSelectedBadge:i})=>{const r=(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:h.QP[0],color:o?"black":"gray"}},children:e.label})})})});return(0,p.jsxs)(_.kC,{alignItems:"start",direction:"row",children:[(0,p.jsx)(_.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,p.jsx)(_.XZ,{checked:n,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>i(e.id,t)},e.id)}),e.controlsTooltip?(0,p.jsx)(_.u,{text:e.controlsTooltip,idealDirection:"right",children:r}):r]},e.id)};function y({inspirationalSignal:e,onDismiss:t,onSubmit:o}){var s;const{logContextEvent:l}=(0,d.v)(),y=(0,r.ZP)(),v=y._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),P=y._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),b=y._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),A=y._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),w=y._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),C=y._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),E=y._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),T=(0,h.eT)(e),S=(0,h.hm)(e),I=(0,h.I)(y,T,e.badge_details),j=(0,h.I)(y,S,e.badge_details),z=I.filter((e=>h.yQ.includes(e.id))),R=I.filter((e=>h.Dm.includes(e.id))),D=I.map((e=>e.id)),O=j.map((e=>e.id)),k=(null===(s=e.inspirational_badge_selection)||void 0===s?void 0:s.badgeColor)||h.QP[0],[L,N]=(0,n.useState)(O),[M,F]=(0,n.useState)(!1),[U,B]=(0,n.useState)(k),Z=(0,n.useRef)(null),G=Boolean((0,a.oo)(U)),H=G?U.toUpperCase():h.QP[0],V=H===h.QP[0]?`${H} (${E})`:H,{anyEnabled:W}=(0,u.a)(h.Fp),{anyEnabled:$}=(0,u.a)(h.lz),Y=L.filter((e=>h.Dm.includes(e))),K=D.filter((e=>!L.includes(e))),X=O.length!==L.length||!L.every((e=>O.includes(e)))||U!==k,q=(e,t)=>{N(t?[...L,e]:L.filter((t=>t!==e)));l({event_type:t?9675:9676,component:13911})};return i.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,p.jsx)(_.mh,{zIndex:m,children:(0,p.jsx)(_.yo,{accessibilityDismissButtonLabel:y._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilitySheetLabel:y._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),heading:y._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,p.jsxs)(_.kC,{direction:"row",justifyContent:"between",children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:y._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,p.jsx)("br",{}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:(0,p.jsx)(_.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:P,inline:!0,underline:"hover",children:P})})]}),(0,p.jsx)(_.xu,{children:(0,p.jsxs)(_.hE,{children:[(0,p.jsx)(_.zx,{color:"gray",text:y._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges'),onClick:e}),(0,p.jsx)(_.zx,{color:"red",text:y._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges'),disabled:!X,onClick:()=>o({badgeColor:U,badgeOptOut:K})})]})})]}),size:"sm",children:(0,p.jsx)(_.kC,{direction:"column",gap:12,children:(0,p.jsxs)(_.kC,{direction:"column",gap:4,children:[(0,p.jsxs)(_.xu,{children:[(0,p.jsxs)(_.xv,{inline:!0,children:[y._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),y._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]})," ",(0,p.jsx)(_.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(_.rU,{href:h._f,accessibilityLabel:v,target:"blank",inline:!0,onClick:()=>{l({event_type:9677,component:13911})},underline:"hover",children:v})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:b}),(0,p.jsx)(f,{text:A})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:b,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:z.map((e=>{const t=L.includes(e.id),o=L.length>=h.S4&&!t;return(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:q},e.id)}))})})})]}),R.length>0&&(0,p.jsxs)(_.kC,{direction:"column",children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[(0,p.jsx)(_.xv,{size:"200",overflow:"noWrap",inline:!0,children:w}),(0,p.jsx)(f,{text:C})]}),(0,p.jsx)(_.xu,{paddingY:1,children:(0,p.jsx)(_.pg,{legend:w,legendDisplay:"hidden",children:(0,p.jsx)(_.kC,{direction:"column",gap:3,children:R.map((e=>{const t=L.includes(e.id);let o;return o=$?L.length>=h.S4&&!t:(L.length>=h.S4||Y.length>=h.st)&&!t,(0,p.jsx)(x,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:q},e.id)}))})})}),(0,p.jsx)(_.xv,{color:"subtle",size:"200",inline:!0,children:(0,c.nk)(y._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,p.jsx)(_.rU,{inline:!0,href:g,underline:"hover",children:(0,p.jsx)(_.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:y._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},g)})})]}),(0,p.jsxs)(_.kC,{direction:"column",children:[W&&(0,p.jsxs)(_.xu,{children:[(0,p.jsx)(_.xu,{marginTop:4,marginBottom:4,children:(0,p.jsx)(_.__,{htmlFor:"color-menu",children:(0,p.jsx)(_.xv,{size:"200",children:y._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,p.jsx)(_.zx,{accessibilityControls:"color-menu",accessibilityExpanded:M,accessibilityHaspopup:!0,selected:M,onClick:()=>{l({event_type:9674,component:13911}),F(!0)},text:V,iconEnd:"arrow-down",size:"lg"})]}),(0,p.jsx)(_.xu,{ref:Z}),M&&(0,p.jsx)(_.mh,{children:(0,p.jsx)(_.J2,{anchor:Z.current,idealDirection:"down",onDismiss:()=>F(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,p.jsxs)(_.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,p.jsx)(_.kC,{alignItems:"start",gap:4,children:h.QP.map((e=>(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:U===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,p.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>B(e)})},e)))}),(0,p.jsxs)(_.kC,{alignItems:"start",gap:4,children:[(0,p.jsx)(_.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:G&&!h.QP.includes(U.toUpperCase())?"black":void 0,backgroundColor:H}}}),(0,p.jsx)(_.nv,{id:"selected-color",value:U,onChange:({value:e})=>B(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var v=o(6637),P=o(969986);const b=new _.Ry(10);function A({isOwnProfile:e,userId:t}){var o;const{logContextEvent:s}=(0,d.v)(),l=(0,r.ZP)(),a=l._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),c=l._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),m=l._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),g=l._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),{anyEnabled:f}=(0,u.a)(h.k$),{anyEnabled:x}=(0,u.a)(h.Fp),A=(0,P.ye)(),w=A.data||{},C=(0,h.Bu)({areBadgesEnabled:f,verifiedMerchant:w}),E=(0,n.useRef)(),[T,S]=(0,n.useState)(h.Xe),[I,j]=(0,n.useState)(!1),[z,R]=(0,n.useState)(!0),D=C?(0,h.hm)(T):[],O=(0,h.I)(l,D,T.badge_details),k=x&&(null===(o=T.inspirational_badge_selection)||void 0===o?void 0:o.badgeColor)||h.QP[0];(0,n.useEffect)((()=>{S(w.inspirational_signal||h.Xe)}),[w.inspirational_signal]),(0,n.useEffect)((()=>{s({event_type:9667,component:13910})}));const L=()=>{j(!0),R(!1),s({event_type:9671,component:13911})},N=()=>{s({event_type:9668,component:13910})},M=()=>{s({event_type:9670,component:13910})};return C&&i.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:e,num_badges:O.length,badge_color:k,user_id:w.id}),C?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(_.kC,{alignItems:"center",children:[O.map((e=>(0,p.jsx)(_.u,{link:(0,p.jsx)(_.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,p.jsx)(_.rU,{href:h.NG,accessibilityLabel:a,target:"blank",onClick:M,children:(0,p.jsx)(_.xv,{color:"inverse",size:"100",weight:"bold",children:a})})}),text:e.description,zIndex:b,children:(0,p.jsx)(_.xv,{overflow:"noWrap",children:(0,p.jsx)(_.iP,{onMouseEnter:N,children:(0,p.jsx)(_.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,h.ym)(k)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),e&&(0,p.jsxs)(n.Fragment,{children:[z&&(0,p.jsx)(_.mh,{zIndex:b,children:(0,p.jsx)(_.J2,{anchor:E.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{R(!1),s({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,p.jsx)(_.xu,{padding:3,children:(0,p.jsxs)(_.xv,{color:"inverse",align:"center",size:"200",children:[(0,p.jsx)("strong",{children:c})," ",m]})})})}),0===O.length&&(0,p.jsx)(_.xu,{display:"inlineBlock",children:(0,p.jsx)(_.iP,{onTap:L,fullWidth:!0,children:(0,p.jsx)(_.xv,{color:"subtle",children:g})})}),(0,p.jsx)(_.hU,{accessibilityLabel:g,icon:"edit",onClick:L,size:"sm",ref:E})]})]}),I&&(0,p.jsx)(y,{inspirationalSignal:T,onDismiss:()=>j(!1),onSubmit:({badgeColor:e,badgeOptOut:o})=>{j(!1),v.ZP.create("VerifiedMerchantResource",{userId:t,inspirational_badge_selection:{badgeColor:e,badgeOptOut:o}}).callUpdate().then((()=>A.refresh()));const n={...T,inspirational_badge_selection:{badgeColor:e,badgeOptOut:o}};S(n),s({event_type:9672,component:13911})}})]}):(0,p.jsx)(n.Fragment,{})}},668369:(e,t,o)=>{o.d(t,{Z:()=>Q});var n=o(667294),i=o(966338),r=o(390007),s=o(766911),l=o(245635),a=o(348070),c=o(939106),d=o(319915),u=o(333312),_=o(880601),h=o(590908),p=o(529821),m=o(300267),g=o(580496),f=o(263116),x=o(110293),y=o(456141),v=o(624389),P=o(601785),b=o(409828),A=o(631466),w=o(883561),C=o(781212),E=o(966113),T=o(941646),S=o(497529),I=o(898781),j=o(717615),z=o(946984),R=o(794493),D=o(545062),O=o(19121),k=o(993786),L=o(793937),N=o(231947),M=o(482546),F=o(752403),U=o(407043),B=o(925927),Z=o(992732),G=o(217468),H=o(883119),V=o(890087),W=o(785893);const $=(0,f.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(63663).then(o.bind(o,85832)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 85832}}),Y={PARTNER:656,PINNER:488},K=170,X=312,q=Object.freeze({504214:"/settings#profile",504821:"/settings/personal-information#community-information"});function Q({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:f,selectedTab:Q,user:J}){var ee;const{logContextEvent:te}=(0,U.v)(),oe=(0,i.useDispatch)(),ne=(0,I.ZP)(),ie=(0,O.Z)(),re=(0,n.useRef)(null),se=(0,n.useRef)(null),[le,ae]=(0,n.useState)(null),[ce,de]=(0,n.useState)(!1),[ue,_e]=(0,n.useState)(!1),he=(0,j.Z)(),pe=(0,z.Z)(),me=(0,B.k6)(),{experienceForPlacement:ge}=(0,S.Z)(19);(0,R.Z)((e=>{ae(e.clientHeight)}),re);const fe=(0,G.t)("web_profile_pronouns")().anyEnabled,xe=!!J.show_suggested_creator_recs,ye=(0,Z.n)(),[ve,Pe]=(0,n.useState)(!1);(0,n.useEffect)((()=>{xe&&ye&&Pe(!0)}),[xe,ye]);const{about:be,is_primary_website_verified:Ae,full_name:we,impressum_url:Ce,is_verified_merchant:Ee,username:Te,verified_identity:Se,website_url:Ie,id:je,pronouns:ze}=J,{anyEnabled:Re}=(0,G.t)("web_m10n_business_access_orbac_ga")(),De=(0,m.Z)({user:J,viewer:ie})||Re&&(0,N.N1)(ie,J,he),Oe=!(0,N.N1)(ie,J,he),ke=(0,g.Z)(J),Le=ie.isLimitedLogin,Ne=(0,V.j3)()&&Boolean(Ce),Me=(null==Se?void 0:Se.verified)||Ee,Fe=ze?ze.join("/"):"",{anyEnabled:Ue}=(0,G.a)(F.k$),Be=(0,G.t)("web_about_drawer")().anyEnabled,Ze=(0,G.t)("hfp_profile_post_follow_suggested_creators_web"),Ge=!!Oe&&Ze().anyEnabled,He=(0,G.a)("makeathon_2022_profile_follower_count_private",!(0,m.Z)({user:J,viewer:ie})).anyEnabled,Ve=(null==Ie?void 0:Ie.length)||0,We=(null==Ce?void 0:Ce.length)||0,$e=K-Ve-We,Ye=()=>be?Be?(0,W.jsxs)(n.Fragment,{children:[(0,W.jsx)(H.xv,{inline:!0,children:(0,w.ZP)(be,$e)}),be.length>$e&&(0,W.jsx)(H.xu,{display:"inlineBlock",children:(0,W.jsx)(H.iP,{accessibilityLabel:ne._('Expand about section', 'profile.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to expand profile about section'),onTap:()=>{te({event_type:101,component:14011,view_type:4,view_parameter:(0,m.Z)({user:J,viewer:ie})?3106:3107}),de(!0)},children:(0,W.jsx)(H.xv,{inline:!0,weight:"bold",children:ne._('more', 'profile.profileHeader.moreText', 'Clickable text to expand profile about section')})})})]}):(0,W.jsx)(H.xv,{inline:!0,children:be}):null,Ke=Ne?(0,W.jsx)(H.rU,{href:Ce,inline:!0,underline:"hover",children:(0,W.jsx)(V.$m,{inline:!0,weight:"bold"})}):null,Xe=Ie?(0,W.jsxs)(n.Fragment,{children:[Ae&&!Me&&(0,W.jsx)(H.xu,{dangerouslySetInlineStyle:{__style:{bottom:Be?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,W.jsx)(l.Z,{})}),(0,W.jsx)(H.xv,{inline:!0,weight:"bold",children:(0,W.jsx)(H.rU,{rel:"nofollow",target:"blank",href:Ie,inline:!0,onClick:()=>{te({event_type:101,component:13056,element:12890,view_type:4,view_parameter:(0,m.Z)({user:J,viewer:ie})?3106:3107,aux_data:{website_link:Ie}})},underline:"hover",children:(0,h.Z)(Ie)})})]}):null;return(0,W.jsxs)(n.Fragment,{children:[(0,W.jsx)(H.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:re,children:(0,W.jsx)(H.xu,{marginTop:ke?void 0:3,maxWidth:ke?Y.PARTNER:Y.PINNER,width:"100%",children:(0,W.jsxs)(H.kC,{alignItems:"center",direction:"column",gap:2,justifyContent:"center",children:[(0,W.jsxs)(H.xu,{width:ke?Y.PARTNER:void 0,children:[ke&&!Le&&(0,W.jsx)($,{user:J}),(0,W.jsx)(H.kC,{alignItems:"stretch",justifyContent:"center",children:(0,W.jsx)(s.Z,{onTouch:t,user:J,viewer:ie})})]}),(0,W.jsxs)(H.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,W.jsxs)(H.X6,{align:"center",size:"600",accessibilityLevel:1,children:[we,Me&&(0,W.jsx)(H.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,W.jsx)(k.Z,{hasVerifiedIdentity:Boolean(null==Se?void 0:Se.verified),isVerifiedMerchant:Ee,size:"lg"})})]}),Be&&(0,W.jsx)(H.xu,{marginTop:2,children:(0,W.jsx)(c.Z,{color:"subtle",inline:!0,items:[Ee?(0,W.jsx)(H.xu,{display:"inlineBlock",children:(0,W.jsx)(H.rU,{href:E.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,W.jsx)(H.xv,{color:"shopping",inline:!0,underline:!0,size:"200",children:ne._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,W.jsx)(H.xv,{color:"subtle",inline:!0,size:"200",children:`@${Te}`},Te),Fe?(0,W.jsx)(H.xv,{color:"subtle",inline:!0,size:"200",children:Fe}):null]})}),fe&&!Be&&(0,W.jsx)(H.xv,{children:Fe})]}),Ue&&!!J.is_inspirational_merchant&&(0,W.jsx)(d.Z,{name:"InspirationalBadges",children:(0,W.jsx)(p.Z,{isOwnProfile:(0,m.Z)({user:J,viewer:ie}),userId:J.id})}),Xe||Ke||!Be||Ye()?(0,W.jsx)(H.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,W.jsx)(c.Z,{inline:!0,items:[Xe,Ke,Be?null:(0,W.jsx)(H.xv,{inline:!0,children:`@${Te}`}),Ye()]})}):void 0,!He&&(0,W.jsx)(_.Z,{user:J}),ke&&-1!==J.profile_views&&(0,W.jsx)(L.Z,{hideFollowers:He,user:J}),Oe&&(0,W.jsx)(H.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,W.jsxs)(H.kC,{gap:7,children:[(0,W.jsx)(A.Z,{shownWithinProfileHeader:!0,user:J}),(0,W.jsxs)(H.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n}=null!==(e=J.partner)&&void 0!==e?e:{};return!t&&!o||J.blocked_by_me?!n&&ke||J.blocked_by_me?null:(0,W.jsx)(v.Z,{setShowMessageFlyout:_e,showMessageFlyout:ue,userId:je,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,W.jsx)(x.Z,{showSendMessageFlyout:e,userId:je})}):(0,W.jsx)(d.Z,{name:"ContactMenuButton",children:(0,W.jsx)(a.Z,{isOwnProfile:(0,m.Z)({user:J,viewer:ie}),setShowMessageFlyout:_e,showMessageFlyout:ue,user:J})})})(),J.blocked_by_me?(0,W.jsx)(H.zx,{onClick:o,size:"lg",text:ne._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,W.jsx)(D.Z,{button:({followText:e,onClick:t})=>(0,W.jsx)(H.xu,{"data-test-id":J.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,W.jsx)(H.zx,{color:"red",onClick:t,selected:J.explicitly_followed_by_me,size:"lg",text:e})}),fullName:we,id:J.id,imageUrl:null!==(ee=J.image_large_url)&&void 0!==ee?ee:"",isOwnProfile:!1,onUserFollow:e=>{f(),e&&(Pe(!0),oe((0,M.Vw)(J.id)))},profileUrl:`/${J.username}/`,userFollowed:J.explicitly_followed_by_me})]}),(0,W.jsx)(b.Z,{userId:J.id,children:({showSendMessageFlyout:t})=>(0,W.jsx)(P.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:J})})]})}),Oe&&ve&&Ge&&(0,W.jsx)(C.Z,{fullName:we,id:J.id,viewType:4,viewParameter:(0,m.Z)({user:J,viewer:ie})?3106:3107}),De&&(0,W.jsx)(H.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,W.jsxs)(H.kC,{gap:2,children:[(0,W.jsx)(A.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:J}),(0,m.Z)({user:J,viewer:ie})&&(0,W.jsx)(T.Z,{id:"edit-button",children:(0,W.jsx)(H.zx,{ref:se,size:"lg",text:ne._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:pe((()=>{te({event_type:101,element:94}),me.push("/settings#profile")}))})})]})})]})})}),(0,W.jsx)(y.Z,{headerHeight:le,selectedTab:Q,user:J,viewer:ie}),ce&&(0,W.jsx)(r.Z,{isOwnProfile:(0,m.Z)({user:J,viewer:ie}),onDismiss:()=>{de(!1)},onToggleFollow:f,setShowMessageFlyout:_e,user:J}),se&&(0,W.jsx)(u.default,{anchor:se.current,experienceIds:[504214,504821],flyoutSize:X,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{me.push(q[null==ge?void 0:ge.experience_id])},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]})}},376451:(e,t,o)=>{o.d(t,{Z:()=>he,x:()=>ue});var n=o(667294),i=o(966338),r=o(319915),s=o(124237),l=o(48061),a=o(121093),c=o(898781),d=o(217468),u=o(883119),_=o(785893);function h(e){const t=(0,c.ZP)(),{group:o}=(0,d.t)("advertiser_growth_pinner_upgrade_to_business_banner")(),{handleComplete:n,handleDismiss:i}=e;return(0,_.jsx)(u.xu,{width:"55%",marginStart:"auto",marginEnd:"auto",marginTop:2,marginBottom:2,children:(0,_.jsx)(u.QH,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:i},imageData:{component:(0,_.jsx)(u.JO,{dangerouslySetSvgPath:{__path:"M8.6,0.2C4,0.2,0.2,4,0.2,8.6s3.8,8.5,8.5,8.5s8.5-3.8,8.5-8.5S13.3,0.2,8.6,0.2z M6.5,11.9c0,0.1-0.1,0.2-0.2,0.2H4.8  c-0.1,0-0.2-0.1-0.2-0.2V7.8c0-0.1,0.1-0.2,0.2-0.2h1.3c0.2,0,0.3,0.1,0.3,0.2V11.9z M9.5,11.9c0,0.1-0.1,0.2-0.2,0.2H8  c-0.1,0-0.2-0.1-0.2-0.2V4.6c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2v7.3H9.5z M12.7,11.9c0,0.1-0.1,0.2-0.2,0.2H11  c-0.1,0-0.2-0.1-0.2-0.2V6.8c0-0.1,0.1-0.2,0.2-0.2h1.4c0.1,0,0.2,0.1,0.2,0.2V11.9z"},accessibilityLabel:"graph",color:"default",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n},title:"enabled_variant_b"===o?t._('Get more clicks, traffic and sales!', 'PinnerUpgradeToBusinessBanner.title.variant_b', 'Title of the Banner to upgrade pinners to business account'):t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}const p=({placementId:e})=>(0,_.jsx)(a.Z,{placementId:e,eligibleIds:[503755],children:({complete:e,dismiss:t})=>(0,_.jsx)(h,{handleComplete:e,handleDismiss:t})});var m=o(227361),g=o.n(m),f=o(580496),x=o(965261),y=o(497529),v=o(826067),P=o(925927);function b({children:e,experience:t,isOwnProfile:o}){const n=(0,P.TH)(),i=(0,y.Z)(),r=!!(0,v.mB)(n.search).skipFac,s=t&&500980===t.experience_id&&!r;return o&&s&&i.dismissExperience(19,500980),e}var A=o(742656),w=o(668369),C=o(19121),E=o(874934),T=o(2361),S=o(281180),I=o(121151),j=o(349700);function z({firstName:e,onClearModal:t}){const o=(0,c.ZP)(),n=o._('User blocked', 'BlockConfirmation.heading', 'Heading of confirmation modal after blocking a user');return(0,_.jsx)(I.ZP,{accessibilityModalLabel:n,heading:n,onDismiss:t,size:"sm",footer:(0,_.jsx)(u.xu,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1,children:(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",onClick:t,text:o._('OK', ' - ', ' -- ')})})}),children:(0,_.jsx)(u.xu,{padding:4,children:(0,_.jsx)(u.xv,{children:(0,j.nk)(o._('You\'ve blocked {{name}}', 'BlockConfirmation.message', 'Confirmation message after blocking a user'),{name:(0,_.jsx)("strong",{children:e})})})})})}var R=o(814449),D=o(672643),O=o(529758),k=o(966113);function L({onDismiss:e}){const t=(0,c.ZP)();return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.rU,{href:k.Z.settings.POLICY_COPYRIGHT_URL,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my copyright', 'Copyright infringement statement', 'Copyright infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to copyright infringement', ' - ', ' -- '),color:"default"})})]})}),(0,_.jsx)(u.iz,{}),(0,_.jsx)(u.rU,{href:k.Z.settings.ABOUT_TRADEMARK_FORM,target:"blank",onClick:({dangerouslyDisableOnNavigation:t})=>{t(),e()},children:(0,_.jsxs)(u.xu,{alignItems:"center",justifyContent:"between",display:"flex",direction:"row",paddingY:6,children:[(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.xv,{weight:"bold",children:t._('This infringes my trademark', 'Trademark infringement statement', 'Trademark infringement statement')})}),(0,_.jsx)(u.xu,{paddingX:6,children:(0,_.jsx)(u.JO,{icon:"arrow-forward",accessibilityLabel:t._('Go to trademark infringement', ' - ', ' -- '),color:"default"})})]})})]})}var N=o(281216);function M({reason:e,user:t,userBlocked:o,onChangeBlocked:i}){const r=(0,c.ZP)(),s={[N.b.SPAM]:{title:r._('Report spam?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Misleading content or behavior', 'Example of spam', 'Example of spam'),r._('Repetitive posts', 'Example of spam', 'Example of spam'),r._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[N.b.PORN]:{title:r._('Report nudity or pornography?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Sexualized nudity', 'Example of porn', 'Example of porn'),r._('Depictions of sexual acts', 'Example of porn', 'Example of porn'),r._('Fetish content', 'Example of porn', 'Example of porn')]},[N.b.SELF_INJURY]:{title:r._('Report self-harm?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Encouraging self-mutilation, eating disorders and drug abuse', 'Example of self-injury', 'Example of self-injury'),r._('Graphic depictions of self-harm', 'Example of self-injury', 'Example of self-injury')]},[N.b.MEDICAL_MISINFORMATION]:{title:r._('Report medical misinformation?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),r._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[r._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),r._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[N.b.HATE_SPEECH]:{title:r._('Report hateful speech?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),r._('People or groups that advocate hate speech', 'Example of hate speech', 'Example of hate speech')],nonRemovals:[r._('Profanity', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),r._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),r._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[N.b.HARASSMENT]:{title:r._('Report harassment?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Attacks directed at a specific private individual', 'Example of harassment', 'Example of harassment'),r._('Personally identifiable information', 'Example of harassment', 'Example of harassment')],nonRemovals:[r._('Attacks on public figures', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),r._('Criticism of government, political or religious leaders', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]},[N.b.VIOLENCE]:{title:r._('Report graphic violence?', 'Confirm report profile reason title', 'Confirm report profile reason title'),removals:[r._('Extreme graphic violence', 'Example of violence', 'Example of violence'),r._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),r._('Threats of physical harm', 'Example of violence', 'Example of violence')],nonRemovals:[r._('Historical, educational or newsworthy content', 'Example of a profile we will not remove', 'Example of a profile we will not remove'),r._('Political protests, advocacy or other social causes', 'Example of a profile we will not remove', 'Example of a profile we will not remove')]}},{full_name:l,username:a,id:d}=t,h=l?`${l} (${a})`:a,p=(0,_.jsx)(u.xu,{paddingX:2,paddingY:2,children:(0,_.jsxs)(u.xu,{alignItems:"center",display:"flex",direction:"row",paddingX:2,children:[(0,_.jsxs)(u.xu,{paddingX:2,children:[(0,_.jsx)(u.X6,{size:"500",children:(0,j.nk)(r._('Block {{ name }}', 'Block a user heading', 'Block a user heading'),{name:l||t.username})}),(0,_.jsx)(u.xu,{marginTop:2,marginEnd:2,children:(0,_.jsx)(u.xv,{children:(0,j.nk)(r._('If you block {{ names }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'Explanation of blocking a user', 'Explanation of blocking a user'),{names:(0,_.jsx)(u.rU,{href:`/${a}`,inline:!0,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:h},"blockUserLink")})})})]}),(0,_.jsx)(u.xu,{paddingX:2,children:(0,_.jsx)(u.rs,{id:"blockUser",onChange:i(d,h),switched:o})})]})}),m=s[e],{removals:g,nonRemovals:f}=m;return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsxs)(u.xu,{paddingX:6,"data-test-id":"detail-text",children:[(0,_.jsx)(u.xu,{paddingY:4,children:(0,_.jsx)(u.X6,{children:m.title})}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:g.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`removals-${t}`)))})}),f&&(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:"bold",children:r._('We don\u2019t remove things like', 'Title for list of content we do not remove', 'Title for list of content we do not remove')}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(n.Fragment,{children:f.map(((e,t)=>(0,_.jsx)(u.xv,{children:"• "+e},`nonRemovals-${t}`)))})})]}),m.notes&&(0,_.jsx)(u.xv,{children:(0,j.nk)(r._('Note: {{ notes }}', 'Note to the user', 'Note to the user'),{notes:m.notes})})]}),(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.iz,{})}),p]})})}var F=o(6637),U=o(499128),B=o(343341);function Z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const G="cover-image",H="cover-video",V="report-type-step",W="reason-step",$="confirm-step";class Y extends n.Component{constructor(...e){var t;super(...e),t=this,Z(this,"state",{reason:null,reportType:null,step:V,showUserBlockedToastText:null}),Z(this,"handleChangeReason",(e=>()=>this.setState({reason:e}))),Z(this,"handleChangeReportType",(e=>()=>this.setState({reportType:e}))),Z(this,"handleExperimentReportSpam",(e=>()=>this.setState({reason:"spam",reportType:e}))),Z(this,"handleCopyrightReportClick",(()=>{const{user:{username:e},history:t}=this.props;t.push({pathname:`/copyright-reporting/${e}/`})})),Z(this,"handleChangeStep",(e=>()=>{this.setState({step:e})})),Z(this,"handleSubmitReport",(async function(){const{onClearModal:e,username:o,toastManagerContext:n}=t.props,{reportType:i,reason:r}=t.state,s={username:o,reason:r,reportObject:i};await F.ZP.create("UserReportProfileResource",s).callCreate(),e(),n.showToast((({hideToast:e})=>(0,_.jsx)(U.ZP,{text:t.props.i18n._('Thanks! Your feedback helps us improve Pinterest.', 'profileHeader.reportProfile.reportSentToast', 'User profile report was sent'),onHide:e})))})),Z(this,"handleChangeBlocked",((e,t)=>()=>{const{isUserBlocked:e,blockUser:o,unblockUser:n,user:i}=this.props,{id:r}=i;e?(n(r),this.showChangeBlock({name:t,showBlocked:!1})):(o(r),this.showChangeBlock({name:t,showBlocked:!0}))})),Z(this,"showChangeBlock",(({name:e,showBlocked:t})=>{const o=t?(0,j.nk)(this.props.i18n._('{{ name }} blocked', 'Toast text for blocking user', 'Toast text for blocking user'),{name:e}):(0,j.nk)(this.props.i18n._('Unblocked {{ name }}', 'Toast text for unblocking user', 'Toast text for unblocking user'),{name:e});this.setState({showUserBlockedToastText:o.join("")})})),Z(this,"hideUserBlockedToast",(()=>this.setState({showUserBlockedToastText:null})))}renderFooter(){const{onClearModal:e}=this.props,{reportType:t,reason:o,step:n}=this.state,i=n!==$,r=!t&&n===V||!o&&n===W,s=!(n===$&&o===N.b.INTELLECTUAL_PROPERTY),l=i?this.props.i18n._('Next', 'Button to progress to next screen in report flow', 'Button to progress to next screen in report flow'):this.props.i18n._('Report', 'Button text to submit a report profile', 'Button text to submit a report profile');let a,c;n===V?(a=this.handleChangeStep(W),c=e,"name"===t&&(a=this.handleChangeStep($)),"BulkDmca"===t&&(a=this.handleCopyrightReportClick)):n===W?(a=this.handleChangeStep($),c=this.handleChangeStep(V)):(a=this.handleSubmitReport,c=this.handleChangeStep(W),"name"===t&&(c=this.handleChangeStep(V)));const d=n===V?this.props.i18n._('Cancel', 'Cancel button', 'Cancel button'):this.props.i18n._('Back', 'Back button', 'Back button');return(0,_.jsxs)(u.xu,{display:"flex",direction:"row",justifyContent:"end",marginStart:-1,marginEnd:-1,children:[(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{onClick:c,text:d})}),s&&(0,_.jsx)(u.xu,{paddingX:1,children:(0,_.jsx)(u.zx,{color:"red",disabled:r,onClick:()=>{a()},text:l})})]})}renderReportTypes(){const{reportType:e}=this.state,{user:t,inBulkDmcaToolExp:o}=this.props,i=t.profile_cover&&t.profile_cover.source,r=[];return"video"===i?r.push({key:H,title:this.props.i18n._('Inappropriate cover video', 'Cover video of profile', 'Cover video of profile')}):"image"===i&&r.push({key:G,title:this.props.i18n._('Inappropriate cover image', 'Cover image of profile', 'Cover image of profile')}),(0,_.jsxs)(u.xu,{maxHeight:"60vh",overflow:"auto",children:[(0,_.jsx)(u.xu,{paddingY:2,children:(0,_.jsx)(u.xv,{align:"center",color:"subtle",size:"200",children:this.props.i18n._('Why are you reporting this account?', 'What is the reason for reporting', 'What is the reason for reporting')})}),(0,_.jsx)(u.iz,{}),(0,_.jsxs)(u.xu,{"data-test-id":"report-spam-option",children:[(0,_.jsx)(u.__,{htmlFor:"ReportSpam",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"name"===e,id:"ReportSpam",name:"reportPinOptions",onChange:this.handleExperimentReportSpam("name"),value:"ReportSpam"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Spam', 'Report user for spam', 'Report user for spam')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-ReportSpam"),o&&(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:"BulkDmca",children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:"BulkDmca"===e,id:"BulkDmca",name:"reportPinOptions",onChange:this.handleChangeReportType("BulkDmca"),value:"BulkDmca"})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:this.props.i18n._('Copyright infringement', 'Report users pins for copyright infringement', 'Report users pins for copyright infringement')})})})]})}),(0,_.jsx)(u.iz,{})]},"Option-BulkDmca")}),r.map(((t,o)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:t.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:t.key===e,id:t.key,name:"reportPinOptions",onChange:this.handleChangeReportType(t.key),value:t.key})}),(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:t.title})})})]})}),r.length>o+1&&(0,_.jsx)(u.iz,{})]},`Option-${t.key}`)))]})}renderReasons(){const{reason:e}=this.state,t=[{key:N.b.SPAM,title:this.props.i18n._('Spam', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Misleading or repetitive posts', 'Report profile option description', 'Report profile option description')},{key:N.b.PORN,title:this.props.i18n._('Nudity or pornography', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Sexually explicit content', 'Report profile option description', 'Report profile option description')},{key:N.b.SELF_INJURY,title:this.props.i18n._('Self-harm', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Eating disorders, cutting, suicide', 'Report profile option description', 'Report profile option description')},{key:N.b.MEDICAL_MISINFORMATION,title:this.props.i18n._('Medical misinformation', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Harmful or misleading content about health and safety', 'Report profile option description', 'Report profile option description')},{key:N.b.HATE_SPEECH,title:this.props.i18n._('Hate speech or symbols', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Attacks directed at protected groups', 'Report profile option description', 'Report profile option description')},{key:N.b.HARASSMENT,title:this.props.i18n._('Harassment or privacy violations', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Threats, blackmail, personal attacks', 'Report profile option description', 'Report profile option description')},{key:N.b.VIOLENCE,title:this.props.i18n._('Graphic violence', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Violent images or promotion of violence', 'Report profile option description', 'Report profile option description')},{key:N.b.INTELLECTUAL_PROPERTY,title:this.props.i18n._('My intellectual property', 'Report profile option', 'Report profile option'),subtitle:this.props.i18n._('Copyright or trademark infringement', 'Report profile option description', 'Report profile option description')}];return(0,_.jsx)(u.xu,{maxHeight:"60vh",overflow:"auto",children:t.map(((o,n)=>(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.__,{htmlFor:o.key,children:(0,_.jsxs)(u.xu,{alignItems:"center",paddingY:2,display:"flex",direction:"row",children:[(0,_.jsx)(u.xu,{paddingX:4,children:(0,_.jsx)(u.EU,{checked:o.key===e,id:o.key,name:"reportPinOptions",onChange:this.handleChangeReason(o.key),value:o.key})}),(0,_.jsxs)(u.xu,{flex:"grow",children:[(0,_.jsx)(u.xu,{marginBottom:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:o.title})}),(0,_.jsx)(u.xv,{size:"200",children:o.subtitle})]})]})}),t.length>n+1&&(0,_.jsx)(u.iz,{})]},`Option-${o.key}`)))})}render(){const{onClearModal:e,user:t,isUserBlocked:o}=this.props,{step:n,reason:i,showUserBlockedToastText:r}=this.state,s=this.props.i18n._('Report account', 'Modal heading for report profile flow', 'Modal heading for report profile flow');let l;return l=n===V?this.renderReportTypes():n===W?this.renderReasons():n===$&&i===N.b.INTELLECTUAL_PROPERTY?(0,_.jsx)(L,{onDismiss:e}):(0,_.jsx)(M,{reason:i,user:t,userBlocked:o,onChangeBlocked:this.handleChangeBlocked}),(0,_.jsxs)(I.ZP,{accessibilityModalLabel:s,onDismiss:e,heading:s,footer:this.renderFooter(),children:[l,(0,_.jsx)(u.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:r&&(0,_.jsx)(U.ZP,{duration:2e3,onHide:this.hideUserBlockedToast,text:r})})]})}}function K(e){const t=(0,c.ZP)(),{anyEnabled:o}=(0,d.a)("web_creators_bulk_dmca_tool");return(0,_.jsx)(Y,{...e,i18n:t,history:(0,P.k6)(),inBulkDmcaToolExp:o,toastManagerContext:(0,B.F9)()})}function X({blockUser:e,currentModal:t,handleBlockUser:o,handleHideConfirmationModal:n,handleHideModal:i,isUserBlocked:r,unblockUser:s,user:l}){var a,c;switch(t){case"blockConfirmation":return(0,_.jsx)(z,{firstName:null!==(a=l.first_name)&&void 0!==a?a:"",onClearModal:n});case"blockUser":return(0,_.jsx)(R.Z,{firstName:null!==(c=l.first_name)&&void 0!==c?c:"",onBlockUser:o,onClearModal:i});case"reportProfile":return(0,_.jsx)(K,{onClearModal:i,username:l.username,user:l,isUserBlocked:r,blockUser:e,unblockUser:s});case"createPincode":const t=280;return(0,_.jsx)(O.Z,{onHide:i,objectId:l.id,children:(0,_.jsx)(D.ZP,{id:l.id,images:[{height:t,url:l.image_xlarge_url||"",width:t}]})});default:return null}}var q=o(946984),Q=o(482546);function J(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class ee extends n.Component{constructor(...e){super(...e),J(this,"state",{currentModal:null,currentUserDetails:this.props.user}),J(this,"handleClickCreatePincode",this.props.requireAuth((()=>this.setState({currentModal:"createPincode"})))),J(this,"handleClickReportProfile",this.props.requireAuth((()=>this.setState({currentModal:"reportProfile"})))),J(this,"handleHideModal",(()=>this.setState({currentModal:null}))),J(this,"handleHideConfirmationModal",(()=>{this.refreshPage()})),J(this,"refreshPage",(()=>{window.location.reload(!0)})),J(this,"handleToggleBlock",this.props.requireAuth((()=>{const{isUserBlocked:e}=this.props;e?this.unblockUser():this.setState({currentModal:"blockUser"})}))),J(this,"unblockUser",(()=>{const{unblockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!1}),e(t).then((()=>this.refreshPage()))})),J(this,"handleBlockUser",(()=>{const{blockUser:e,user:{id:t}}=this.props;this._updateUserDetails({blocked_by_me:!0}),e(t),this.setState({currentModal:"blockConfirmation"})})),J(this,"handleToggleFollow",(()=>{const{currentUserDetails:{explicitly_followed_by_me:e}}=this.state,t=!e;this._updateUserDetails({explicitly_followed_by_me:t})})),J(this,"_updateUserDetails",(e=>{const{currentUserDetails:t}=this.state,o={...t,...e};this.setState({currentUserDetails:o})}))}static getDerivedStateFromProps(e,t){return e.user.id!==t.currentUserDetails.id?{...t,currentUserDetails:e.user}:null}renderModal(){const{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:n,blockUser:i}=this.props;return(0,_.jsx)(X,{blockUser:i,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideConfirmationModal:this.handleHideConfirmationModal,handleHideModal:this.handleHideModal,isUserBlocked:o,unblockUser:n,user:t})}render(){const{minimalPartnerHeader:e,tab:t,user:o}=this.props,{currentModal:i}=this.state;return e?(0,_.jsx)(A.Z,{avatarUrl:o.image_medium_url,merchantName:o.full_name,text:o.full_name,username:o.username}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(w.Z,{onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,selectedTab:t,user:o}),i&&this.renderModal()]})}}function te(e){var t,o,n,r;const s=(0,i.useDispatch)(),l=(0,S.kW)(),a=l&&l[null!==(t=null===(o=e.user)||void 0===o?void 0:o.id)&&void 0!==t?t:""]?l[null!==(n=null===(r=e.user)||void 0===r?void 0:r.id)&&void 0!==n?n:""]:e.user,c=(0,C.Z)(),d=(0,q.Z)(),{aggregatedCommentsHiddenForUser:u}=(0,E.nf)(),{nativeEngagementsHiddenForUser:h}=(0,T.G)();return(0,_.jsx)(ee,{...e,blockUser:e=>{s((0,Q.Ge)(e)),u(e),h(e)},isUserBlocked:Boolean(null==a?void 0:a.blocked_by_me),unblockUser:e=>s((0,Q.h2)(e)),user:a,viewer:c,requireAuth:d})}var oe=o(430323),ne=o(86551),ie=o(784450),re=o(920005),se=o(806986),le=o(407043),ae=o(480622),ce=o(868065),de=o(134679);const ue=({tab:e,userData:t})=>{const o={2:de.u.SHOP,1:de.u.CREATED,0:de.u.SAVED,3:de.u.TRIED};if(t&&e===de.u.DECIDER){var n;const e=null===(n=t.eligible_profile_tabs)||void 0===n?void 0:n.find((e=>e.is_default));return o[null==e?void 0:e.tab_type]||de.u.SAVED}return e};const _e=(0,ie.ZP)(19,(({clickedFollowingButton:e},t)=>({clickedFollowingButton:e,profile_ownership:t.profile_ownership,profile_user_id:t.profile_user_id})))((function({children:e,clickedFollowingButton:t,experience:o,history:i,minimalPartnerHeader:a,renderError:d,setPlacementExtraContext:h,showPulsar:m,tab:y,unsetError:v,username:P,pins:A}){const{logContextEvent:w}=(0,le.v)(),E=(0,c.ZP)(),T=(0,C.Z)(),S=0!==((e,t)=>Object.keys(t).filter((o=>{const n=t[String(o)];return(n.pinner||{}).id===e.id&&!n.is_repin})).map((e=>t[e])))(T,A).length,I=(0,n.useRef)(!1),z=(0,n.useRef)(t),R=(0,n.useRef)(S),D=(0,ne.Z)(),O=(0,ae.f)().id,k=T&&T.isAuth&&D.data&&T.id===D.data.id;if((0,n.useEffect)((()=>{(0,x.Z)()}),[]),(0,n.useEffect)((()=>{"v3_get_board"!==g()(d,"apiHandler")||404!==g()(d,"http_status")||I.current||!D.data||D.error?D.error&&404===D.error.httpStatus&&i.replace("/?show_error=true"):(I.current=!0,s.Z.showHtmlError((0,j.nk)(E._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:D.data.full_name}).join(""),v(),E._('We couldn\'t find that page.', ' - ', ' -- ')))})),(0,n.useEffect)((()=>{w({event_type:13,view_type:4,aux_data:{pin_id:O}})}),[w,O]),(0,n.useEffect)((()=>{if(D.isLoaded){var e;let o={profile_ownership:k?"own":"other",profile_user_id:(null===(e=D.data)||void 0===e?void 0:e.id)||""};t&&t!==z.current&&(o={...o,clickedFollowingButton:!0}),h(o)}}),[t,D.isLoaded]),!D||!D.isLoaded||!D.data)return null;const L=T.isAuth&&P===T.username,N=ue({tab:y,userData:D.data}),M=L?3106:3107,F=(0,f.Z)(D.data),U=(0,_.jsx)(se.aG,{children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(p,{placementId:19}),(0,_.jsx)(l.default,{placementId:19}),(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(r.Z,{name:"ProfileHeaderContainer",children:(0,_.jsx)(re.c,{children:e=>(0,_.jsx)(te,{minimalPartnerHeader:a,tab:N,top:e,user:D.data})})}),(0,_.jsx)(r.Z,{name:"ProfileContent",children:(0,_.jsx)(u.xu,{children:e})})]})]})}),B=F?(0,_.jsx)(b,{experience:o,initialViewerCreatedPins:R.current,isOwnProfile:L,username:P,children:U}):U;return(0,_.jsx)(oe.Z,{view:4,viewParameter:M,objectId:D.data.id,children:(0,_.jsx)(n.Fragment,{children:B})})}));function he(e){const t=(0,i.useSelector)((({pins:e})=>e)),o=(0,ce.X2)(),n=o&&Object.keys(o).map((e=>o[e])).filter((e=>e.showTooltip)).length>0;return(0,_.jsx)(_e,{...e,clickedFollowingButton:n,pins:t})}},850071:(e,t,o)=>{o.r(t),o.d(t,{default:()=>lt});var n=o(667294),i=o(333312);function r({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:n,requestContext:i,updatedBoardOrder:r}){if(!o)return"last_pinned_to";if(r)return r;if(n)return n;const s=null==i?void 0:i.experiments.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&s?"group_boards_at_top":"last_pinned_to"}var s=o(300267),l=o(2819),a=o(6637),c=o(898781),d=o(717615),u=o(784590),_=o(19121),h=o(883119),p=o(217468),m=o(407043),g=o(231947),f=o(330899),x=o(785893);const y={alphabetical:10430,last_pinned_to:10431,custom:10434};function v({user:e,setVisibilityControlsModalOpen:t}){var o;const i=(0,f.x)(),{logContextEvent:s}=(0,m.v)(),v=(0,c.ZP)(),P=(0,_.Z)(),b=(0,d.Z)(),A=(0,g.Ms)(P,b),{data:w}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:A}}}),C=null==i?void 0:i.profileBoardView,E=null!==(o=null==i?void 0:i.boardSortOrder.get(A||""))&&void 0!==o?o:"",T=null==i?void 0:i.profilePinDensity,S=r({hasCustomOrder:Boolean(e.has_custom_board_sorting_order),isOwnProfile:!0,mostRecentBoardSortOrder:null==w?void 0:w.most_recent_board_sort_order,updatedBoardOrder:E});(0,n.useEffect)((()=>{if(w&&(!C||"list"===C)){const{profile_board_rep_view_type:e}=w,t=e&&"list"!==e?e:"wide";null==i||i.setProfileBoardView(t)}}),[w,C]);(0,n.useEffect)((()=>{if(w&&""===T){const{board_pin_rep_view_type:e}=w;null==i||i.setProfilePinDensity(null!=e?e:"regular")}}),[w,T]);const I=e=>()=>{s({event_type:101,component:13149,element:y[e]});a.ZP.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,g.lJ)(P,b)}).callUpdate(),null==i||i.updateBoardSortOrder((0,g.Ms)(P,b),e)},{group:j}=(0,p.t)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),z=["enabled","enabled_no_experience"].includes(j),R=[{label:z?v._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'):v._('Sort boards by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy.deprecated', 'Category heading on Organize menu on user profile, to be deprecated'),items:[{label:v._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===S,clickHandler:I("alphabetical")},{label:z?v._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'):v._('Drag and drop', 'profileHeader.actionBar.organizeFlyout.dragAndDrop.deprecated', 'Organize menu option to sort boards by drag-and-drop, to be deprecated'),isSelected:"custom"===S,clickHandler:I("custom")},{label:v._('Last saved to', 'profileHeader.actionBar.organizeFlyout.lastSavedTo', 'Organize menu option to sort boards by last saved to'),isSelected:"last_pinned_to"===S,clickHandler:I("last_pinned_to")}]},z&&t?{label:v._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:v._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),s({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map((e=>e)).filter(Boolean);return(0,x.jsx)(l.Z,{icon:"filter",label:v._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>R.map((({items:t,label:o})=>(0,x.jsx)(h.Lt.Section,{label:o,children:t.map((({clickHandler:t,isSelected:o,label:n})=>(0,x.jsx)(h.Lt.Item,{onSelect:()=>{e(),t()},option:{label:n,value:n},selected:o?{label:n,value:n}:null},n)))},o)))})}var P=o(966338),b=o(121093),A=o(806986);const w=110;function C({boardThumbs:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,x.jsx)(h.zd,{height:w,rounding:4,width:w,children:(0,x.jsx)(h.gM,{columns:2,cover:!0,height:w,gutter:1,renderImage:({index:t,width:o,height:n})=>{var i,r,s;const l=e[0],a=e.slice(1),c=0===t?l:a[t-1];return(0,x.jsx)(h.zd,{width:o,height:n,children:(0,x.jsx)(h.Ee,{alt:"",src:null!==(i=c.url)&&void 0!==i?i:"",color:"#EFEFEF",naturalHeight:null!==(r=c.height)&&void 0!==r?r:1,naturalWidth:null!==(s=c.width)&&void 0!==s?s:1,fit:"cover"})})},width:w})})})}function E(){const e=(0,c.ZP)(),t=(0,A.JI)();return(0,x.jsx)(b.Z,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:n,experience:{display_data:i}})=>{const{button_text:r,images:s,subtitle:l,title:a}=i,c=s.map((e=>e["170x"]));return(0,x.jsx)(h.kC,{justifyContent:"center",children:(0,x.jsx)(h.xu,{maxWidth:960,paddingY:4,children:(0,x.jsx)(h.QH,{title:a,imageData:{component:(0,x.jsx)(C,{boardThumbs:c})},message:l,primaryAction:{label:r,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:n}})})})}})}var T=o(572551),S=o(301921),I=o(444445);const j=(0,n.lazy)((()=>Promise.all([o.e(67228),o.e(89181),o.e(95653)]).then(o.bind(o,395653))));function z({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,isOwnProfile:i,userId:r}){const s=(0,c.ZP)(),l=(0,A.JI)(),a=(0,A.Fj)(),d=i&&e.length>=5&&!o,{fetchMore:u,isAtEnd:_,isFetching:p,isLoaded:m}=t;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(h.xu,{padding:o?0:3,children:[o&&e.length>0&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(h.xu,{marginTop:5,marginBottom:i?0:7,children:(0,x.jsx)(h.iz,{})}),i&&(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:5,paddingY:7,children:[(0,x.jsx)(h.X6,{size:"400",children:s._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),(0,x.jsx)(h.zx,{onClick:()=>{l(!0)},text:s._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')})]})]}),d&&(0,x.jsx)(E,{}),(0,x.jsx)(T.default,{columnWidth:I.yF,comp:({data:e,itemIdx:t})=>{const o=i?{type:"none"}:{type:"inline"};return(0,x.jsx)(S.default,{pinId:e.id,saveButtonOptions:o,surface:"BoardlessPins",trackingParameters:{viewParameter:i?3106:3107,viewType:4,slotIndex:t}})},gutterWidth:I.$H,isAtEnd:_,isFetching:p,isGridCentered:!0,isLoaded:m,items:e,layout:"basicCentered",loadItems:u,serverRender:!0,virtualize:!1})]}),!!e&&e.length>0&&a&&(0,x.jsx)(j,{boardlessPinsNormalized:e,fetchMore:u,hasBoards:o,onDismiss:()=>l(!1),userId:r})]})}var R=o(848900);const D=(e,t)=>e.feeds[`profileBoards:${(0,R.Z)(t.username,t.boardOrder)}`];var O=o(976849),k=o(91885);function L({children:e,containerWidth:t,inListView:o,semiTransparent:n}){const i=n?.5:void 0;return o?(0,x.jsx)(h.xu,{"data-test-id":k.Kb,display:"flex",justifyContent:"center",width:"100%",children:(0,x.jsxs)(h.xu,{maxWidth:800,paddingX:3,width:"100%",children:[(0,x.jsx)(h.iz,{}),(0,x.jsx)(h.xu,{opacity:i,paddingY:3,width:"100%",children:e})]})}):(0,x.jsx)(h.xu,{"data-test-id":k.Kb,maxWidth:t,opacity:i,overflow:"hidden",padding:2,children:e})}function N({headerLabel:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.W2,{children:(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",marginBottom:2,marginStart:-4,marginEnd:-4,paddingX:3,children:[(0,x.jsx)(h.xu,{column:9,display:"flex",justifyContent:"between",paddingX:4,children:(0,x.jsx)(h.xv,{color:"subtle",size:"200",children:t._('Name', 'Profile header - board name', 'Profile header - board name')})}),(0,x.jsx)(h.xu,{alignItems:"center",column:3,display:"flex",paddingX:4,children:(0,x.jsx)(h.xv,{color:"subtle",size:"200",children:e||""})})]})})}var M=o(907301),F=o(132893),U=o(904411);function B({boardIds:e,layout:t,onBoardArchiveChange:o,onBoardDelete:i,showCreatorProfile:r}){const s=(0,c.ZP)(),l=(0,n.useRef)(null),a=(0,U.bn)();if(!e.length)return null;const d=(0,F.m)(t);return(0,x.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F6F6F6"}},paddingY:4,ref:l,children:["list"===t&&(0,x.jsx)(N,{headerLabel:s._('Archived on', 'Profile board list view heading label', 'Profile board list view heading label')}),(0,x.jsx)(M.Z,{itemWidth:d,children:e.map((e=>a[e])).filter(Boolean).map(((e,n)=>(0,x.jsx)(L,{containerWidth:d,inListView:"list"===t,children:(0,x.jsx)(O.Z,{board:e,isOwnProfile:!0,layout:t,onBoardArchiveChange:o,onBoardDelete:i,slotIndex:n})},e.id)))})]})}var Z=o(966113);const G=(e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}},H=e=>"archived"===e?"remove":"protected"===e?"protect":"lock",V=(e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');case"archived":return t._('These are hidden from your profile.', 'subtitle for archived boards section on a profile', 'subtitle for archived boards section on a profile');default:return""}};function W({type:e}){const t=(0,c.ZP)();return(0,x.jsx)(h.W2,{children:(0,x.jsxs)(h.xu,{paddingY:6,paddingX:3,children:[(0,x.jsxs)(h.xv,{size:"200",weight:"bold",children:[G(e,t)," ",(0,x.jsx)(h.JO,{accessibilityLabel:"",color:"default",icon:H(e),inline:!0,size:12})]}),(0,x.jsx)(h.xv,{inline:!0,size:"200",children:V(e,t)}),"secret"===e&&(0,x.jsx)(h.xv,{inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(h.rU,{href:Z.Z.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,inline:!0,underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var $=o(223656),Y=o(298361),K=o(86551);function X({boardOrder:e,allPinsStory:{objects:t}}){var o;const n=(0,Y.Z)(),i=(0,_.Z)(),r=null!==(o=t.map((e=>{var t,o;return{name:"AllPins",url:null!==(t=null===(o=e.images)||void 0===o?void 0:o["236x"].url)&&void 0!==t?t:""}})))&&void 0!==o?o:[],l=(0,K.Z)();if(!l||!l.isLoaded||!l.data)return null;const a=l.data,c=(0,s.Z)({user:a,viewer:i}),d=e&&"last_pinned_to"===e&&a.last_pin_save_time?n(a.last_pin_save_time,!0):"";return(0,x.jsx)($.Z,{storyPinImages:r,subtitle:d,userId:a.id,isOwnProfile:c,pinCount:a.pin_count})}var q=o(694379),Q=o(349700);function J({boardName:e,collaboratorCount:t}){const o=(0,c.ZP)(),n=(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:e},"board_name");return(0,x.jsx)(h.xv,{children:t?(0,Q.nk)(o._('When you delete {{ boardName }}, you\'ll lose {{ n_collaborators }} and all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n,n_collaborators:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,Q.nk)(o.ngettext('{{ count }} collaborator', '{{ count }} collaborators', t, 'label for n board collaborator(s)', 'label for n board collaborator(s)'),{count:(0,x.jsx)(q.Z,{value:t})})},"collaborator_count")}):(0,Q.nk)(o._('When you delete {{ boardName }}, you\'ll lose all followers of that board.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{boardName:n})})}function ee({board:{name:e="",is_collaborative:t}}){const o=(0,c.ZP)(),n=t?o._('your {{ boardName }} group board', ' - ', ' -- '):o._('your {{ boardName }} board', ' - ', ' -- ');return(0,x.jsx)(h.xv,{inline:!0,children:(0,Q.nk)(n,{boardName:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:e},`board_${e}`)})},`yourboard_${e}`)}function te({sourceBoard:e,targetBoard:t}){var o;const n=(0,c.ZP)();return(0,x.jsxs)(h.xu,{children:[(0,x.jsx)(h.xu,{paddingY:2,children:(0,x.jsx)(h.xv,{children:(0,Q.nk)(n._('You\'re about to move all the Pins from {{ sourceBoardName }} to a new section in {{ targetBoardName }}.', 'helper text for selecting merge target board', 'helper text for selecting merge target board'),{sourceBoardName:(0,x.jsx)(ee,{board:e},"sourceBoard"),targetBoardName:(0,x.jsx)(ee,{board:t},"targetBoard")})})}),(0,x.jsx)(h.xu,{paddingY:2,children:(0,x.jsx)(J,{boardName:null!==(o=e.name)&&void 0!==o?o:"",collaboratorCount:e.collaborator_count})})]})}var oe=o(121151);function ne({onConfirm:e,onHide:t,sourceBoard:o,targetBoard:n}){const i=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:i._('Confirm Board Merge', 'accessibility label for board merging confirmation modal', 'accessibility label for board merging confirmation modal'),onDismiss:t,heading:i._('Move Pins and delete board?', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"dialog",size:"md",footer:(0,x.jsxs)(h.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginStart:-2,marginEnd:-2,children:[(0,x.jsx)(h.xu,{paddingX:2,children:(0,x.jsx)(h.zx,{text:i._('Cancel', 'Cancel button in board merging confirmation modal', 'Cancel button in board merging confirmation modal'),onClick:t})}),(0,x.jsx)(h.xu,{paddingX:2,children:(0,x.jsx)(h.zx,{color:"red",text:i._('Move Pins and delete board', 'Confirm button in board merging confirmation modal', 'Confirm button in board merging confirmation modal'),onClick:()=>e(o,n)})})]}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(te,{sourceBoard:o,targetBoard:n})})})}var ie=o(274319),re=o(124237),se=o(636803);function le({onHide:e}){const t=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:t._('Board Merge Error Alert', 'accessibility label for board merging error alert', 'accessibility label for board merging error alert'),onDismiss:e,heading:t._('Oops!', 'Modal heading for board merging confirmation modal', 'Modal heading for board merging confirmation modal'),role:"alertdialog",size:"md",footer:(0,x.jsx)(h.xu,{children:(0,x.jsx)(h.zx,{fullWidth:!0,color:"red",text:t._('Got it', 'ok button in board merging error alert', 'ok button in board merging error alert'),onClick:e})}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{children:t._('You can\'t move this board because you didn\'t create it.', 'board merging error alert', 'board merging error alert')})})})}function ae({onConfirm:e,onHide:t}){const o=(0,c.ZP)();return(0,x.jsx)(oe.ZP,{accessibilityModalLabel:o._('Warning about overwriting board order', 'Accessible label for the board order overwrite modal', 'Accessible label for the board order overwrite modal'),onDismiss:t,heading:o._('Are you sure?', 'Heading for board order overwriting modal', 'Heading for board order overwriting modal'),role:"alertdialog",size:"md",footer:(0,x.jsxs)(h.xu,{display:"flex",marginStart:-1,marginEnd:-1,justifyContent:"end",children:[(0,x.jsx)(h.xu,{padding:1,children:(0,x.jsx)(h.zx,{fullWidth:!0,size:"lg",text:o._('Cancel', 'Button text for canceling board re-ordering', 'Button text for canceling board re-ordering'),onClick:t})}),(0,x.jsx)(h.xu,{padding:1,children:(0,x.jsx)(h.zx,{fullWidth:!0,size:"lg",color:"red",text:o._('Lose previous customization', 'Button text for confirming board re-ordering', 'Button text for confirming board re-ordering'),onClick:e})})]}),children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{children:(0,Q.nk)(o._('You\u2019re about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}', ' - ', ' -- '),{dragAndDrop:(0,x.jsx)(h.xv,{inline:!0,weight:"bold",children:o._('Drag and drop', 'Text for indicating drag and drop sort order', 'Text for indicating drag and drop sort order')},"dragDrop")})})})})}var ce=o(558446);class de extends n.Component{constructor(...e){var t,o,n;super(...e),n={board:null},(o="state")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){var e;const{invite:t}=this.props,o={board_id:null===(e=t.board)||void 0===e?void 0:e.id,field_set_key:"profile_grid_item"};a.ZP.create("BoardResource",o).callGet().then((e=>{this.setState({board:e.resource_response.data})}),(e=>{throw e}))}render(){const{invite:e,layout:t,onDeclineRequest:o,slotIndex:n}=this.props,{board:i}=this.state;return i&&e?(0,x.jsx)(ce.Z,{board:i,canEdit:!1,invite:e,isOwnProfile:!1,layout:t,onDeclineRequest:o,onEditClick:e=>{},slotIndex:n,subtitle:null}):null}}const ue=de;function _e(e){const{isOwnProfile:t,layout:o}=e,n=(0,_.Z)(),i=(0,u.Z)({name:"ContactRequestsResource",noCache:!0}),r=(0,u.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"},noCache:!0}),s=(0,F.m)(o),l="list"===o,a=[];(r.data||[]).forEach((e=>{e.invited_user&&a.push({invited_user:e.invited_user,invited_by_user:e.invited_by_user,board:e.board})}));const c=()=>{r.refresh()};let d=[];if(n.isAuth&&!n.isPartner){d=(i.data||[]).filter((e=>!!e.board&&!!e.created_at&&Date.now()-new Date(e.created_at)<2592e6)).map((e=>({invited_user:e.recipient,invited_by_user:e.sender,board:e.board})))}const h=[...a,...d].slice(0,5);return t&&!l&&h.length>0?h.map(((e,t)=>{var n;return(0,x.jsx)(L,{containerWidth:s,inListView:l,children:(0,x.jsx)(ue,{invite:e,layout:o,onDeclineRequest:c,slotIndex:t})},`invite-card-wrapper-${String(null===(n=e.board)||void 0===n?void 0:n.id)}`)})):null}var he=o(932995),pe=o(875495);const me={borderColor:"white",WebkitMaskImage:"-webkit-radial-gradient(white, black)"};function ge({index:e,isHovering:t,onImageLoad:o,pinImageObject:{images:n}}){var i,r,s;return(0,x.jsx)(h.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:0-e,marginInlineEnd:"-89px"}},children:(0,x.jsx)(h.xu,{position:"relative",height:157,width:118,color:"default",borderStyle:"sm",overflow:"hidden",rounding:4,dangerouslySetInlineStyle:{__style:me},children:(0,x.jsx)(h.zd,{height:"100%",width:"100%",wash:t,children:n?(0,x.jsx)(h.Ee,{alt:"",src:null!==(i=n["236x"].url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(r=n["236x"].height)&&void 0!==r?r:1,naturalWidth:null!==(s=n["236x"].width)&&void 0!==s?s:1,onLoad:o}):(0,x.jsx)(h.xu,{height:"100%",width:"100%",color:"lightGray"})})})})}var fe=o(10905),xe=o(497529);var ye=o(215292),ve=o(780280);function Pe({shoppingListStory:{objects:e,id:t,title:o}}){const{logContextEvent:i}=(0,m.v)(),r=(0,c.ZP)(),{showShoppingListIconEducation:s}=function(){const{experienceForPlacement:e}=(0,xe.Z)(19);return{showShoppingListIconEducation:503246===(null==e?void 0:e.experience_id)}}(),l=(0,n.useRef)(),[a,d]=(0,n.useState)(s),u=(0,_.Z)(),p=u.isAuth?u.username:"";(0,n.useEffect)((()=>{i({event_type:170,component:13811,view_type:4,aux_data:{...{story_type:"wishlist_shop_your_products_story",story_id:t}}})}),[i,t]);const g=[...e];for(;g.length<5;)g.push({images:null});const{isRTL:f}=(0,ve.B)();return(0,x.jsxs)(h.xu,{padding:2,position:"relative",children:[a&&(0,x.jsx)(h.mh,{zIndex:new h.Ry(10),children:(0,x.jsx)(h.J2,{anchor:l.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>d(!1),positionRelativeToAnchor:!1,size:"xs",children:(0,x.jsx)(h.xu,{padding:4,children:(0,x.jsx)(h.xv,{color:"inverse",align:"center",children:r._('Shop all your saved products in one place', 'Profile.User.Button.Icon.ShoppingList.Tooltip', 'Tooltip explaining shopping list functionality on user own profile')})})})}),(0,x.jsx)(h.iP,{role:"link",href:`/${p}/_shopping_list/`,onTap:()=>{i({event_type:102,component:13811,view_type:4,aux_data:{story_type:"wishlist_shop_your_products_story",story_id:t}})},children:(0,x.jsx)(ye.q,{children:({active:e,focused:t,hovered:n,onMouseEnter:i,onMouseLeave:s,onFocus:l})=>(0,x.jsxs)(h.xu,{onFocus:l,onMouseEnter:i,onMouseLeave:s,children:[(0,x.jsxs)(h.xu,{"aria-hidden":"true",display:"flex",height:157,width:236,rounding:4,children:[g.map(((o,i)=>(0,x.jsx)(ge,{index:i,isHovering:e||n||t,pinImageObject:o},i))),(0,x.jsx)(h.xu,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!f,marginStart:4,marginTop:4,position:"absolute",right:f,rounding:"circle",top:!0,width:32,children:(0,x.jsx)(fe.Z,{})})]}),(0,x.jsx)(h.xu,{alignItems:"start",display:"flex",padding:2,children:(0,x.jsxs)(h.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,x.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:o.format}),(0,x.jsx)(h.xu,{alignItems:"center",display:"flex",marginTop:1,children:(0,x.jsx)(h.xv,{size:"100",children:r._('All saved products', 'shoppingListCard.Subtitle.Text', 'Subtitle for shopping list entrypoint card on user profile')})})]})})]})})})]})}var be=o(980750),Ae=o(345221),we=o(442279),Ce=o(935409),Ee=o(583421),Te=o(278380),Se=o(708206);function Ie(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const je=-1;class ze extends n.PureComponent{constructor(...e){super(...e),Ie(this,"state",{activeModal:null,boardIds:[...this.props.boardIds],dropAction:null,previewIndex:je,sourceIndex:je,targetIndex:je}),Ie(this,"firstBoardRef",(0,n.createRef)()),Ie(this,"container",(0,n.createRef)()),Ie(this,"cancelHoverTimeout",(()=>{const e=this.dragHoverTimeout;e&&clearTimeout(e.timeoutId),this.dragHoverTimeout=null})),Ie(this,"dragHoverTimeout",null),Ie(this,"isDragging",(()=>this.state.sourceIndex!==je)),Ie(this,"handleBoardCardDragBegin",(e=>this.setState({previewIndex:e,sourceIndex:e}))),Ie(this,"handleBoardCardDragHover",((e,t)=>{if(!t)return;const{boardIds:o,previewIndex:n}=this.state;if(!this.allowDragging)return;const i=this.allowDragging?(0,Te.TI)({hoverRelativePosition:t,centerEnabled:e!==n}):"center",r={itemIndex:e,regionWithinItem:i};if(this.dragHoverTimeout&&(0,Te.Lz)(r,this.dragHoverTimeout.hoverLocation))return;this.cancelHoverTimeout();const s="center"===i?"merge":"reorder",l=(0,Te.X3)({hoverLocation:r,sourceIndex:n});l!==n?this.dragHoverTimeout={hoverLocation:r,timeoutId:setTimeout((()=>{this.dragHoverTimeout=null,this.setState({dropAction:s,targetIndex:l,..."reorder"===s?{previewIndex:l,boardIds:(0,he.Z)(o,n,l)}:{}})}),"reorder"===s?200:20)}:l!==this.state.targetIndex&&this.setState({targetIndex:l})})),Ie(this,"handleCloseModal",(()=>this.setState({activeModal:null}))),Ie(this,"handleBoardCardDragEnd",(e=>{const{boardIds:t,boardMap:o,boardOrder:n,dispatch:i,onBoardReorder:r,viewer:s}=this.props,{boardIds:l,dropAction:c,previewIndex:d,sourceIndex:u,targetIndex:_}=this.state;if(this.cancelHoverTimeout(),this.setState({boardIds:t,previewIndex:je,sourceIndex:je,targetIndex:je}),e&&u!==je&&_!==je&&u!==_)if("custom"!==n&&this.setState({activeModal:(0,x.jsx)(ae,{onConfirm:this.handleOverwriteBoardOrder,onHide:this.handleCloseModal})}),"merge"===c){const e=e=>{const t=l[e];return t&&o[t]},t=e(d),n=e(_);if(t&&n){if(t.collaborated_by_me)return void this.setState({activeModal:(0,x.jsx)(le,{onHide:this.handleCloseModal})});this.setState({activeModal:(0,x.jsx)(ne,{onConfirm:()=>this.handleMergeBoards(t,n),onHide:this.handleCloseModal,sourceBoard:t,targetBoard:n})})}}else if(_<l.length&&u<l.length&&"custom"===n){i(function({boardIds:e,sourceIndex:t,targetIndex:o,username:n}){return i=>{if(!n)return;i((0,pe._f)({feedType:"profileBoards",feedId:(0,R.Z)(n,"custom"),itemType:"board",sourceItemId:e[t],targetItemId:e[o]}));const r=(0,he.Z)(e,t,o);a.ZP.create("BoardsReorderResource",{board_ids:r}).callUpdate({showError:!1})}}({boardIds:t,sourceIndex:u,targetIndex:_,username:s.isAuth?s.username:null})),r&&r()}})),Ie(this,"handleOverwriteBoardOrder",(()=>{const{updateBoardSortOption:e,viewer:t}=this.props;null==e||e(t.username||"","custom"),a.ZP.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),this.handleCloseModal()})),Ie(this,"handleMergeBoards",((e,t)=>{const{dispatch:o,showBlockingActionToast:n,onBoardDelete:i,logContextEvent:r}=this.props;r({event_type:7172,object_id_str:e.id,aux_data:{merge_flow:"dnd"}}),o((0,Ce.xH)(e.id,t.id)).then((()=>n({actionType:"merge",board:t}))).catch((e=>{re.Z.showError(e.message||this.props.i18n._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})),i(e.id),this.handleCloseModal()})),Ie(this,"renderBoards",(()=>{var e,t;const{allPinsStory:o,boardOrder:i,boardMap:r,boardVisibility:s,viewer:l,isOwnProfile:a,isDragWithinBounds:c,layout:d,onBoardArchiveChange:u,onBoardDelete:_,onBoardPrivacyChange:h,onBoardUpdate:p,onBoardLeave:m,shoppingListStory:g,allowShoppingControls:f}=this.props,{activeModal:y,boardIds:v}=this.state,P=(0,F.m)(d),b="list"===d,A=!o||!f||(null==s||null===(e=s.data)||void 0===e?void 0:e.show_all_pins),w=!g||!f||(null==s||null===(t=s.data)||void 0===t?void 0:t.eligible_for_wishlist)&&s.data.show_shopping_list;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(M.Z,{...b?{}:{itemWidth:P},maxColumns:b?0:12,children:[A&&o&&(0,x.jsx)(X,{boardOrder:i,allPinsStory:o}),w&&g&&!l.isLimitedLogin&&(0,x.jsx)(Pe,{shoppingListStory:g}),!l.isLimitedLogin&&(0,x.jsx)(_e,{isOwnProfile:a,layout:d}),v.map((e=>r[e])).filter(Boolean).map(((e,t)=>{const o=(0,x.jsx)(O.Z,{board:e,boardOrder:i,forwardedRef:0===t?this.firstBoardRef:void 0,isOwnProfile:a,isReordering:this.isDragging(),layout:d,onBoardArchiveChange:u,onBoardDelete:()=>_(e.id),onBoardLeave:m,onBoardPrivacyChange:h,onBoardUpdate:p,slotIndex:t});return(0,x.jsx)(L,{containerWidth:P,inListView:b,semiTransparent:this.isDragging()&&!c,children:this.allowDragging?(0,x.jsx)(Ee.Z,{index:t,onDragBegin:this.handleBoardCardDragBegin,onDragEnd:this.handleBoardCardDragEnd,onDragHover:this.handleBoardCardDragHover,type:Ee.y.Board,children:o}):o},`main-card-wrapper-${e.id}`)}))]}),(0,x.jsx)(se.Z,{anchors:{3008:this.firstBoardRef.current},placementId:19,positionRelativeToAnchor:!1}),y]})}))}componentDidUpdate(e){e.boardIds.join(",")!==this.props.boardIds.join(",")&&this.setState({boardIds:[...this.props.boardIds],dropAction:null,previewIndex:je,sourceIndex:je,targetIndex:je})}componentWillUnmount(){this.cancelHoverTimeout()}get allowDragging(){const{isOwnProfile:e,isOverview:t}=this.props;return e&&!t}render(){const{connectDropTarget:e,boardOrder:t,layout:o}=this.props;return(0,x.jsxs)(h.xu,{ref:this.container,children:["list"===o&&(0,x.jsx)(N,{headerLabel:["newest","oldest"].includes(t)?this.props.i18n._('Created on', 'Profile board list view heading label', 'Profile board list view heading label'):this.props.i18n._('Last saved to', 'Profile board list view heading label', 'Profile board list view heading label')}),this.allowDragging&&e?(0,x.jsxs)(n.Fragment,{children:[e((0,x.jsx)("div",{children:this.renderBoards()})),this.isDragging()&&(0,x.jsx)(ie.Z,{})]}):this.renderBoards()]})}}const Re=(0,Se.compose)((0,Ae.Z)(Ee.y.Board),(0,P.connect)((0,we.zB)({boardMap:e=>e.boards}),(()=>({}))))((function(e){var t;const o=(0,c.ZP)(),n=(0,_.Z)(),{logContextEvent:i}=(0,m.v)(),r=(0,P.useDispatch)(),s=null===(t=(0,f.x)())||void 0===t?void 0:t.updateBoardSortOrder,l=(0,be.Z)(),a=!0===e.isOwnProfile,{group:d,anyEnabled:h}=(0,p.a)("web_shopping_list_controls",a),g=!h||"enabled_pwt"===d,y=(0,u.Z)({name:"UserResource",options:{username:n.username||"",field_set_key:"board_visibility"},dangerouslyDisableFetch:!h});return(0,x.jsx)(ze,{...e,allowShoppingControls:!g,boardVisibility:h?y:void 0,i18n:o,logContextEvent:i,showBlockingActionToast:l,updateBoardSortOption:s,viewer:n,dispatch:r})}));function De({allPinsStory:e,boardIds:t,boardOrder:o,group:n,isOverview:i,isOwnProfile:r,isPartner:s,onBoardChange:l,onBoardGroupChange:a,profileBoardView:c,showCreatorProfile:d,shoppingListStory:u}){if("archived"===n)return(0,x.jsx)(B,{boardIds:t,layout:c,onBoardArchiveChange:a,onBoardDelete:l,showCreatorProfile:d});const _=(0,x.jsx)(Re,{allPinsStory:e,boardIds:t,boardOrder:o,isOverview:i,isOwnProfile:r,layout:c,onBoardArchiveChange:a,onBoardDelete:l,onBoardLeave:e=>a(),onBoardPrivacyChange:a,onBoardReorder:l,onBoardUpdate:l,showCreatorProfile:d,shoppingListStory:u});return"unlabeled"===n?_:(0,x.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},marginBottom:6,marginTop:6,overflow:"hidden",children:[(0,x.jsx)(W,{type:n}),_]})}var Oe=o(406379);function ke({fetchMore:e,isAtEnd:t,isFetching:o}){return(0,x.jsx)(h.gr,{fetchMore:e,isAtEnd:t,isFetching:o})}var Le=o(430323),Ne=o(829407),Me=o(969853),Fe=o(112690),Ue=o(968328),Be=o(527885),Ze=o(414327),Ge=o(276602);function He(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ve({isAtEndOfFeed:e}){return(0,Me.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class We extends n.PureComponent{constructor(...e){super(...e),He(this,"state",{boardsResourceAnnotationAdded:!1}),He(this,"feedIsStale",!1),He(this,"handleBoardChanged",(()=>{this.feedIsStale=!0})),He(this,"handleBoardGroupChange",(()=>this.props.boardsResource.refresh()))}componentDidUpdate(e){const{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){const{boardsResource:o,pwtSurfaceContext:n}=e,{boardsResourceAnnotationAdded:i}=t;return o.isLoaded&&n&&!i?(n.addAnnotation("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){const{invalidateFeeds:e}=this.props;this.feedIsStale&&e()}renderAllBoardsGroups(e){const{boardOrder:t,boardlessPinsNormalized:o,boardsResource:n,filterStories:i,isOwnProfile:r,isOverview:s,mixPublicSecret:l,profileBoardView:a,user:c}=this.props,{is_partner:d,show_creator_profile:u}=c,_=!i&&n.data&&n.data.length>0&&"all_pins"===n.data[0].story_type?n.data[0]:null,p=!i&&n.data?n.data.find((e=>"wishlist_shop_your_products_story"===e.story_type?e:null)):null,m=_&&1===(n.data||[]).length;if((n.data||[]).length>0&&0===e.length&&!m&&!p)return(0,x.jsx)(h.xu,{padding:6,children:(0,x.jsx)(h.$j,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});const g=(o||[]).length>0;if(0===e.length&&!m&&!g)return(0,x.jsx)(Oe.Z,{fullName:c.full_name,isOwnProfile:r,isPartnerProfile:d});const f=function(e,t){return e.reduce(((e,{id:o,profileGroup:n})=>{let i;return i="public"===n||t&&"secret"===n?{unlabeled:e.unlabeled.concat([o])}:{[n]:e[n].concat([o])},{...e,...i}}),{unlabeled:[],protected:[],secret:[],archived:[]})}(e,l),y=["protected","secret","archived"].filter((e=>f[e].length>0)),v=i?a:"square";return g&&m?null:(0,x.jsx)(h.xu,{marginTop:"list"===a?6:-2,overflow:"hidden",children:["unlabeled"].concat(r&&!s?y:[]).map((e=>(0,x.jsx)(De,{allPinsStory:"unlabeled"===e&&"story"===(null==_?void 0:_.type)?_:null,boardIds:f[e],boardOrder:t,group:e,isOverview:!!s,isOwnProfile:r,isPartner:!!d,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,profileBoardView:v,showCreatorProfile:!!u,shoppingListStory:"unlabeled"===e&&"story"===(null==p?void 0:p.type)?p:null},e)))})}render(){var e;const{boardKeys:t,i18n:o,isBoardlessProfileEnabled:n,isOwnProfile:i,isOverview:r,boardlessPinsNormalized:s,boardlessPinsResource:l,boardsResource:a,user:c}=this.props,{data:d,isFetching:u,isLoaded:_,isAtEnd:p,fetchMore:m}=a,{isLoaded:g,isAtEnd:f}=l||{},y=!!d&&d.length>0&&"all_pins"===d[0].story_type,v=!!d&&d.length>0&&("wishlist_shop_your_products_story"===d[0].story_type||"wishlist_shop_your_products_story"===(null===(e=d[1])||void 0===e?void 0:e.story_type)),P=!!d&&((y||v)&&d.length>1||!y&&d.length>0),b=n?g&&_:_,A=n?f&&p:p;return(0,x.jsx)(Le.Z,{component:209,view:4,viewParameter:i?3106:3107,children:(0,x.jsxs)(h.xu,{children:[_&&this.renderAllBoardsGroups(r?t.slice(0,6):t),(0,x.jsx)(h.xu,{padding:u?6:0,children:(0,x.jsx)(h.$j,{accessibilityLabel:o._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:u})}),_&&!r&&(0,x.jsx)(ke,{fetchMore:m,isAtEnd:p,isFetching:u}),b&&(0,x.jsx)(Ve,{isAtEndOfFeed:A}),(s||[]).length>0&&(null==l?void 0:l.data)&&(0,x.jsx)(z,{boardlessPinsNormalized:s,boardlessPinsResource:l,hasBoards:P,isOwnProfile:i,userId:c.id})]})})}}He(We,"defaultProps",{boardKeys:[]});const $e=(0,P.connect)((0,we.P1)([D],(e=>({boardKeys:(e||[]).reduce(((e,t)=>e.concat("board"===t.type&&t.onProfile?[t]:[])),[])}))),(()=>({})))((function(e){const t=(0,c.ZP)(),{id:o}=e.user,n=(0,_.Z)(),i=n.isAuth?n.username:"",r=(0,d.Z)(),s=(0,g.lJ)(n,r),l=(0,f.x)(),a=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&(null==l?void 0:l.profileBoardView)||"wide",{showEnabledSaveBehavior:h}=(0,Ue.ZP)(o),p=(0,u.Z)({name:Be.O.name,options:Be.O.options(e,s)}),m=(0,u.Z)({name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o},dangerouslyDisableFetch:!h}),y=(0,P.useSelector)((({feeds:e})=>e[`boardlessPins:${o}`]))||[],v=(0,P.useDispatch)(),b=(0,Fe.Z)();return(0,Ne.Z)((()=>{b({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})})),(0,x.jsx)(We,{...e,boardlessPinsNormalized:y,boardlessPinsResource:m,boardsResource:p,i18n:t,invalidateFeeds:()=>v((0,Ce.K8)(i)),invalidatePinBetterSaveResource:()=>v((0,Ze.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),isBoardlessProfileEnabled:h,profileBoardView:a,pwtSurfaceContext:(0,Ge.EV)(),requestContext:(0,ve.B)()})}));var Ye=o(80816);const Ke={ALL_PINS_VISIBILITY_SWITCH:12787,SHOPPING_LIST_VISIBILITY_SWITCH:12788};function Xe({setVisibilityControlsModalOpen:e}){const{logContextEvent:t}=(0,m.v)(),o=(0,c.ZP)(),i=(0,ve.B)(),r=(0,_.Z)(),{data:s,isFetching:l,refresh:d}=(0,u.Z)({name:"UserResource",options:{user_id:r.isAuth?r.id:"",field_set_key:"board_visibility"}}),{show_all_pins:p=!1,show_shopping_list:g=!1,eligible_for_wishlist:f=!1}=s||{},[y,v]=(0,n.useState)(!1),[P,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>v(p)),[p]),(0,n.useEffect)((()=>b(g)),[g]);const A=async(e,o,n,i)=>{t({event_type:101,view_type:4,view_parameter:3689,element:Ke[i]}),n(e),await a.ZP.create("UserSettingsResource",{[o]:e,surface_tag:Ye.i.HOLISTIC_PROFILE_PROMPT}).callUpdate(),await d()},w=i.isRTL,C=(0,x.jsx)(h.hU,{accessibilityLabel:o._('Close', 'profileBoardsPage.visibilityControlsModal.close', 'Accessibility string that describes the close icon button to close the modal that controls board visibility on profile'),icon:"cancel",iconColor:"darkGray",onClick:()=>e(!1)});return(0,n.useEffect)((()=>{t({event_type:13,view_type:4,view_parameter:3689})}),[t]),(0,x.jsx)(oe.ZP,{heading:(0,x.jsx)(h.xu,{padding:8,children:(0,x.jsxs)(h.kC,{alignItems:"center",children:[w&&C,(0,x.jsx)(h.kC.Item,{flex:"grow",children:(0,x.jsx)(h.X6,{align:"center",size:"500",children:o._('Manage visibility', 'profileBoardsPage.visibilityControlsModal.heading', 'Title on the modal to control board visibility on profile')})}),!w&&C]})}),accessibilityModalLabel:o._('Edit board visibility', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel', 'Accessibility string that describes the modal to control board visibility on profile'),onDismiss:()=>e(!1),children:(0,x.jsxs)(h.xu,{paddingX:8,marginBottom:8,children:[(0,x.jsx)(h.__,{htmlFor:"show_all_pins",children:(0,x.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show All Pins', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.label', 'Title of the switch to control all pins board visibility on profile')})}),(0,x.jsxs)(h.xu,{display:"flex",marginTop:1,marginBottom:8,children:[(0,x.jsx)(h.xu,{marginEnd:2,children:(0,x.jsx)(h.xv,{color:"subtle",children:o._('All Pins will be publicly visible to you and others when viewing your profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showAllPins.explanation', 'Describes the switch to control all pins board visibility on profile')})}),(0,x.jsx)(h.rs,{id:"show_all_pins",switched:y,disabled:l,onChange:({value:e})=>{A(e,"show_all_pins",v,"ALL_PINS_VISIBILITY_SWITCH")}})]}),f&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(h.__,{htmlFor:"show_shopping_list",children:(0,x.jsx)(h.X6,{accessibilityLevel:3,size:"400",children:o._('Show Your shopping list', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.label', 'Title of the switch to control shopping list board visibility on profile')})}),(0,x.jsxs)(h.xu,{display:"flex",marginTop:1,children:[(0,x.jsx)(h.xu,{marginEnd:2,children:(0,x.jsx)(h.xv,{color:"subtle",children:o._('Your shopping list will only be visible to you when viewing your own profile', 'profileBoardsPage.visibilityControlsModal.accessibilityModalLabel.showShoppingList.explanation', 'Describes the switch to control shopping list board visibility on profile')})}),(0,x.jsx)(h.rs,{id:"show_shopping_list",switched:P,disabled:l,onChange:({value:e})=>{A(e,"show_shopping_list",b,"SHOPPING_LIST_VISIBILITY_SWITCH")}})]})]})]})})}var qe=o(259986),Qe=o(222815),Je=o(344676),et=o(830944),tt=o(925927),ot=o(946984),nt=o(134679);function it({currentTab:e}){const t=(0,c.ZP)(),[o,i]=(0,n.useState)(!1),r=(0,tt.k6)(),s=(0,P.useDispatch)(),l=(0,_.Z)(),a=(0,d.Z)(),u=(0,g.lJ)(l,a),h=(0,ot.Z)({shouldStopEventPropagation:!1}),{logContextEvent:p}=(0,m.v)(),f=h((()=>{i(!0)})),y=h((e=>{const t=u&&(0,et.Z)(e)?`?orbac_subject_id=${u}`:"";s((0,Ze.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),r.push(`${e.url||""}${t}`,{newBoard:!0})})),v=h((()=>{r.push("/pin-builder/")})),b=h((()=>{p({event_type:101,component:13056,element:10949,view_type:4,view_parameter:3106,aux_data:{entry_type:"profile_plus_button"}}),r.push({pathname:"/idea-pin-builder/",state:{entry_type:"profile_plus_button"}})}));return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(Qe.Z,{onCreateBoard:f,onCreatePin:v,onCreateStoryPin:b,surface:e===nt.u.PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:n})=>(0,x.jsx)(qe.Z,{accessibilityLabel:e===nt.u.PINS?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"add",onClick:n,selected:o})}),o&&(0,x.jsx)(Je.Z,{onBoardCreate:y,onClose:()=>i(!1)})]})}function rt({username:e}){var t,o;const l=(0,ve.B)(),a=(0,_.Z)(),c=(0,d.Z)(),m=(0,n.useRef)(null),[,y]=(0,n.useState)(!1);(0,n.useLayoutEffect)((()=>{y(!0)}),[]);const{group:P}=(0,p.t)("web_shopping_list_controls")({dangerouslySkipActivation:!0}),b="enabled"===P,{anyEnabled:A}=(0,p.t)("web_m10n_business_access_orbac_ga")(),[w,C]=(0,n.useState)(!1),E=null!==(t=null===(o=(0,f.x)())||void 0===o?void 0:o.boardSortOrder.get(e||""))&&void 0!==t?t:"",{data:T}=(0,K.Z)(),{data:S}=(0,u.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!T||!S)return null;const{most_recent_board_sort_order:I}=S,{has_custom_board_sorting_order:j=!1}=T,z=(0,s.Z)({user:T,viewer:a}),R=(0,g.q6)(a,T.id,c),D=r({hasCustomOrder:j,hasGroupBoard:void 0!==a.groupBoardCount&&a.groupBoardCount>0,isOwnProfile:z||A&&R,mostRecentBoardSortOrder:I||void 0,updatedBoardOrder:E,requestContext:l});return(0,x.jsxs)(h.kC,{direction:"column",gap:2,children:[(0,x.jsx)(h.xu,{paddingX:4,children:(0,x.jsxs)(h.kC,{justifyContent:"between",children:[(z||A&&R)&&(0,x.jsx)(h.xu,{ref:m,children:(0,x.jsx)(v,{user:T,setVisibilityControlsModalOpen:C})}),(z||R)&&(0,x.jsx)(it,{currentTab:nt.u.SAVED})]})}),(0,x.jsx)($e,{boardOrder:D,filterStories:!1,isOwnProfile:z||A&&R,mixPublicSecret:z||R,user:T,username:T.username}),w&&(0,x.jsx)(Xe,{setVisibilityControlsModalOpen:C}),b&&(0,x.jsx)(i.default,{anchor:m.current,placementId:19,experienceIds:[504098],idealDirection:"down",showCaret:!0,textAlign:"center",textWeight:"normal",onClickComplete:()=>C(!0)})]})}var st=o(357805);function lt(){const{data:e}=(0,K.Z)(),t=(0,tt.$B)();return(0,st.S)(t.params.username,null==e?void 0:e.id,13669),(0,x.jsx)(rt,{username:t.params.username})}},821343:(e,t,o)=>{o.r(t),o.d(t,{default:()=>vt});var n=o(667294),i=o(66699),r=o(499128),s=o(898781),l=o(708032),a=o(36675),c=o(794230),d=o(966113),u=o(741982),_=o(883119),h=o(785893);function p({onClick:e,text:t}){const{merchantStorefrontSettings:{currentViewingLocale:{feedProfileId:o}}}=(0,u.S)(),n=o&&""!==o?`${d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${o}/product-groups/create/`:d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL,i=(0,c.Z)(n,{from:"storefront"});return(0,h.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(_.zx,{role:"link",href:i,rel:"none",onClick:e,size:"lg",text:t})})}var m=o(600224),g=o(306732),f=o(91214),x=o(677581),y=o(934523),v=o(349700),P=o(407043);const b=()=>{const{logContextEvent:e}=(0,P.v)(),t=(0,s.ZP)();return(0,h.jsx)(n.Fragment,{children:(0,h.jsxs)(_.xu,{marginTop:-4,marginBottom:6,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)(_.xv,{size:"300",inline:!0,children:t._('Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.', 'merchantStorefront.ProductGroupControls.subheader.text', 'Text for explaining the purpose of the product group controls sheet')})}),(0,h.jsxs)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(m.Z,{}),(0,h.jsx)(_.xu,{children:(0,h.jsx)(p,{onClick:()=>e({event_type:9866,component:14001}),text:t._('Create product group', 'Storefront.ProductGroupControls.CreateProductGroup.button', 'Button to create product group from catalogs page')})})]})]})})},A=({featuredGroups:e=[],recommendedGroups:t=[],customGroups:o=[],checkedGroups:i=[],setSelectedGroup:r})=>{const{logContextEvent:l}=(0,P.v)(),a=(0,s.ZP)(),c=(e,t,o,n,s)=>{const c=i.includes(t),d=[g.EK.FEATURING,g.EK.FEATURED,g.EK.CAN_FEATURE].includes(s);return(0,h.jsx)(_.xu,{width:"100%",height:91,marginTop:4,marginBottom:4,borderStyle:"shadow",padding:2,rounding:5,children:(0,h.jsxs)(_.kC,{justifyContent:"start",alignItems:"center",children:[(0,h.jsx)(_.xu,{column:2,children:(0,h.jsx)(_.zd,{rounding:4,wash:!0,height:79,width:79,children:(0,h.jsx)("img",{alt:a._('product group cover image', 'merchantStorefront.ProductGroupControls.body.card.image', 'The cover image for a product group'),src:null==o?void 0:o.url})})}),(0,h.jsx)(_.xu,{column:7,padding:4,children:(0,h.jsxs)(_.kC,{justifyContent:"start",alignItems:"center",children:[(0,h.jsx)(_.X6,{size:"400",lineClamp:1,color:d?"default":"subtle",children:e}),!d&&(0,h.jsx)(_.xu,{padding:2,children:(0,h.jsx)(_.u,{text:(0,x.O)(s,a),idealDirection:"right",children:(0,h.jsx)(_.JO,{accessibilityLabel:a._('An exclamation point alert icon indicating issues, described on a tooltip', 'merchantStorefront.productGroupControlsSheet.ProductGroupCard.icon.accessibiltyLabel', 'The accessibility label for alert icon'),color:"subtle",icon:"alert",size:24})})})]})}),(0,h.jsx)(_.xu,{column:4,padding:4,children:(0,h.jsx)(_.xv,{size:"300",align:"forceRight",color:"subtle",children:(0,v.nk)(a.ngettext('{{productCount}} product', '{{productCount}} products', n, 'merchantStorefront.ProductGroupControls.ProductGroupCard.productCount', 'Number of products in a product group'),{productCount:n})})}),(0,h.jsx)(_.xu,{padding:2,column:1,children:(0,h.jsx)(_.XZ,{checked:c,id:t,label:"",name:e,disabled:!d,onChange:({checked:e})=>{r(t,e);l({event_type:e?9864:9865,component:14e3})}})})]})},t)};return(0,h.jsx)(n.Fragment,{children:(0,h.jsxs)(_.xu,{marginTop:4,children:[e&&e.length>0&&(0,h.jsxs)(_.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(_.X6,{size:"400",children:a._('Featured', 'merchantStorefront.ProductGroupControls.body.header.featured', 'Text indicating the product groups shown are currently being featured')}),e.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,h.jsx)("br",{}),t&&t.length>0&&(0,h.jsxs)(_.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(_.X6,{size:"400",children:a._('Recommended for you', 'merchantStorefront.ProductGroupControls.body.header.recommended', 'Text indicating the product groups shown are recommended groups')}),t.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]}),(0,h.jsx)("br",{}),o&&o.length>0&&(0,h.jsxs)(_.xu,{marginTop:2,marginBottom:2,children:[(0,h.jsx)(_.X6,{size:"400",children:a._('Your custom product groups', 'merchantStorefront.ProductGroupControls.body.header.custom', 'Text indicating the product groups shown are custom groups')}),o.map((e=>c(e.name,e.id,e.image,e.count,e.featureStatus)))]})]})})},w=({isLoading:e=!1,onDismiss:t,onSave:o,featuredGroups:i=[],recommendedGroups:r=[],customGroups:l=[]})=>{const a=(0,s.ZP)(),c=new _.H3([new _.Ry(f.HW),new _.Ry(y.fe)]),[d,u]=(0,n.useState)([]),[p,m]=(0,n.useState)([]);(0,n.useEffect)((()=>{if(!e){const e=i.map((({id:e})=>e));u(e),m(e)}}),[i,e]);return(0,h.jsx)(_.mh,{zIndex:c,children:(0,h.jsx)(_.yo,{accessibilityDismissButtonLabel:a._('Close storefront product group controls sheet', 'merchantStorefront.ProductGroupControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing storefront product group sheet'),accessibilitySheetLabel:a._('Product group controls for merchant storefront', 'merchantStorefront.ProductGroupControls.accessibilitySheetLabel', 'Accessibility text for opening storefront product group controls sheet'),heading:a._('Feature product groups', 'merchantStorefront.ProductGroupControls.title', 'Title for storefront product group controls sheet'),onDismiss:t,footer:({onDismissStart:e})=>{return(0,h.jsxs)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.xv,{size:"300",weight:"bold",inline:!0,children:(0,v.nk)(a.ngettext('{{checkedCount}} product group selected', '{{checkedCount}} product groups selected', p.length, 'merchantStorefront.ProductGroupControls.changest', 'Tracks how many product groups were selected to edit'),{checkedCount:p.length})})}),(0,h.jsx)(_.xu,{children:(0,h.jsxs)(_.hE,{children:[(0,h.jsx)(_.zx,{color:"gray",text:a._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:e}),(0,h.jsx)(_.zx,{color:"red",disabled:(t=d,n=p,t.length===n.length&&n.every((e=>t.includes(e)))),text:a._('Save', 'Storefront.ProductGroupControls.save', 'Save storefront product group changes'),onClick:()=>{o(p)}})]})})]});var t,n},size:"md",children:e?(0,h.jsx)(_.$j,{show:!0,accessibilityLabel:"loading"}):(0,h.jsxs)(_.xu,{children:[(0,h.jsx)(b,{}),(0,h.jsx)(A,{featuredGroups:i,customGroups:l,recommendedGroups:r,checkedGroups:p,setSelectedGroup:(e,t)=>{m(t?[...p,e]:p.filter((t=>t!==e)))}})]})})})};var C=o(384606),E=o(343341),T=o(645015),S=o(400264);function I({onDismiss:e}){const{logContextEvent:t}=(0,P.v)(),o=(0,s.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:c,language:d,feedProfileId:_}},updateStorefrontLastUpdated:p}=(0,u.S)(),{isLoaded:m,userId:g,settings:f,refresh:x}=(0,C.LO)(),{showOneToast:y}=(0,E.F9)(),v=(0,S.G7)({feedProfileId:_}),b=v.data||[],A=(0,S.Ib)({feedProfileId:_}),I=A&&A.data||[];(0,n.useEffect)((()=>{t({event_type:9861,component:14e3})}),[t]);const j=m&&A.isLoaded&&!A.isFetching&&v.isLoaded&&!v.isFetching,{featuredGroups:z,customGroups:R,recommendedGroups:D}=((e,t)=>{const o=[],n=[],i=[],r=[];return e&&t?(t.forEach((o=>{const n=e.find((e=>String(e.id)===o.id)),i={};i.name=o.name,i.id=o.id,i.image=o.preview_pins&&o.preview_pins[0]&&o.preview_pins[0].images&&o.preview_pins[0].images["170x"],i.isFeatured=!!o.featured_position,i.count=n&&n.product_count?n.product_count:0,i.isCustom="MERCHANT_CREATED"===o.group_type,i.featureStatus=(0,l._c)(t,i.id,""),r.push(i)})),r.forEach((e=>{e.isFeatured?o.push(e):e.isCustom?n.push(e):i.push(e)})),{featuredGroups:o,recommendedGroups:i,customGroups:n}):{featuredGroups:o,customGroups:n,recommendedGroups:i}})(I,b);return(0,h.jsx)(w,{isLoading:!j,onDismiss:()=>{e(),t({event_type:9863,component:14e3})},onSave:async n=>{const s=(0,T.mV)(n,b),l={countrySetting:c,languageSetting:d,settings:f,userId:g,feedProfileId:_};try{await(0,T.YY)(l,s),t({event_type:9862,component:14e3}),e(),y((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,text:o._('Product groups saved! Drag to reorder.', 'MerchantStorefront.ProductGroupControls.pgSaved', 'toast text')})}))),A.refresh(),v.refresh(),x(),p((new Date).getTime())}catch(u){y((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,variant:"error",text:(0,i.Z)(o._('Failed to save or feature product groups. You can select up to {{ maxFeaturedPGs }} product groups to feature on your business profile.', 'MerchantStorefront.ProductGroupControls.error', 'toast text for product group error message'),{maxFeaturedPGs:`${a.Bm}`})})})))}},featuredGroups:z,customGroups:R,recommendedGroups:D})}var j=o(618446),z=o.n(j),R=o(6637),D=o(487392),O=o(784590),k=o(808683),L=o(121151),N=o(875472),M=o.n(N);function F({count:e,hasHitProductGroupMax:t}){const o=(0,s.ZP)();return(0,h.jsxs)(_.xv,{size:"300",weight:"bold",inline:!0,children:[!t&&(0,v.nk)(o.ngettext('{{checkedCount}} product group selected', '{{checkedCount}} product groups selected', e, 'merchantStorefront.ProductGroupControls.changest', 'Tracks how many product groups were selected to edit'),{checkedCount:e}),t&&o._('Maximum of 30 product groups selected', 'merchantStorefront.ProductGroupControls.maxChanges', 'Indicates that the user can no longer select any product groups to feature')]})}var U=o(787271);const B=(e,t)=>e===k.CatalogProductGroupType.MERCHANT_CREATED?t._('Manually created', 'Storefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.table.manualProductGroup', 'Explains that a product group was user-created'):t._('Auto-created', 'Storefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.table.autoCreatedProductGroup', 'Explains that a product group was created by Pinterest automation'),Z=(e,t)=>0!==t.children.size&&!e.includes(t.id.toString())&&Array.from(t.children.values()).some((t=>!!e.includes(t.id.toString())||t.children.size>0&&Z(e,t)));function G({checkedList:e,disableCheckboxes:t,productGroup:o,level:i,onChange:r,sortOrder:l,activeSortColumn:a,viewLinkMetadata:u}){const p=(0,s.ZP)(),[m,g]=(0,n.useState)(!1),f=(x=e,y=o.id,x.includes(y.toString()));var x,y;const v=o.children.size>0,P=(e,t)=>{const o=e.name.toLowerCase(),n=t.name.toLowerCase();return o<n?"desc"===l&&"name"===a?1:-1:o>n?"desc"===l&&"name"===a?-1:1:0};return(0,h.jsxs)(n.Fragment,{children:[(0,U.KI)(o)&&Array.from(o.children.values()).sort(P).map((o=>(0,h.jsx)(G,{checkedList:e,disableCheckboxes:t,level:i,onChange:r,sortOrder:l,activeSortColumn:a,productGroup:o,viewLinkMetadata:u},o.id))),!(0,U.KI)(o)&&(0,h.jsxs)(_.iA.Row,{children:[(0,h.jsx)(_.iA.Cell,{children:(0,h.jsxs)(_.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{flexDirection:"colum-reverse"}},children:[(0,h.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:16*i}}}),(0,h.jsx)(_.XZ,{disabled:t,id:o.id,indeterminate:v&&Z(e,o),checked:f,size:"sm",onChange:()=>r(o.id,!f)})]})}),(0,h.jsx)(_.iA.Cell,{children:(0,h.jsxs)(_.kC,{direction:"row",children:[v&&(0,h.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:"16px"}},children:(0,h.jsx)(_.hU,{size:"xs",accessibilityLabel:p._('Expand row to see more product groups', 'Storefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.table.tableRow.expandRowButton', 'Button for expanding the product group rows'),onClick:()=>g(!m),icon:m?"arrow-down":"arrow-forward"})}),(0,h.jsx)(_.xv,{size:"300",lineClamp:1,children:o.name})]})}),(0,h.jsx)(_.iA.Cell,{children:null}),(0,h.jsx)(_.iA.Cell,{children:null}),(0,h.jsx)(_.iA.Cell,{children:null}),(0,h.jsx)(_.iA.Cell,{children:(0,h.jsx)(_.xv,{size:"200",children:B(o.type,p)})}),(0,h.jsx)(_.iA.Cell,{children:(0,h.jsx)(_.rU,{href:(0,c.Z)(`${d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${u.feedProfileId}/product-groups/edit/${o.id}`,{advertiserId:u.advertiserId}),children:(0,h.jsx)(_.xv,{size:"200",weight:"bold",children:p._('view', 'Storefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.table.viewProductGroupLink', 'Links to a product group in the Pinterest catalog')})})})]}),v&&m&&Array.from(o.children.values()).sort(P).map((o=>(0,h.jsx)(G,{checkedList:e,disableCheckboxes:t,level:i+1,onChange:r,sortOrder:l,activeSortColumn:a,productGroup:o,viewLinkMetadata:u},o.id)))]})}var H=o(678030);const V="name",W="type",$="asc",Y="desc",K="100",X=e=>0===e.type,q=e=>0!==e.type,Q=(e,t)=>e.activeColumn===t&&e.sortOrder===Y?$:Y,J=async(e,t)=>{await R.ZP.create("ApiResource",{url:`/v3/catalogs/product_groups/status/${t}/`,data:{product_group_ids:e,status:k.CatalogProductGroupStatus.ACTIVE}}).callUpdate()},ee=(e,t)=>e.activeColumn===t?"active":"inactive",te=e=>(0,i.Z)(e._('Failed to save or feature product groups. You can select up to {{maxPgCount}} product groups to feature on your business profile.', 'MerchantStorefront.ProductGroupControls.error.dynamic', 'toast text, maxPgCount: the total maximum amount of product groups that can be selected by a user'),{maxPgLimit:`${a.Bm}`});function oe({toggleModal:e,section:t}){var o,i,l,a;const p=(0,s.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{feedProfileId:m,country:g,language:f}},updateStorefrontLastUpdated:x}=(0,u.S)(),y=H.S5[t],P=(0,S.Ib)({feedProfileId:m,includeSuggested:!0,feature_types:y}),b=(e=>({sortCol:[e===H.vW.SectionCategories?q:X,V],sortOrder:Y,activeColumn:W}))(t),[A,w]=(0,n.useState)({sortCol:b.sortCol,sortOrder:b.sortOrder,activeColumn:b.activeColumn}),[I,j]=(0,n.useState)([]),{userId:z,settings:R,refresh:O}=(0,C.LO)(),N=(0,S.G7)({feedProfileId:m,featureType:y}),B=null!==(o=P.data)&&void 0!==o?o:[],Z=!P.isLoaded||!N.isLoaded,$=null!==(i=N.data)&&void 0!==i?i:[],{advertiserId:oe,merchantId:ne}=(0,D.Z)(),[ie,re]=(0,n.useState)([]),se=ie.length,le=se>=30,{showOneToast:ae}=(0,E.F9)();(0,n.useEffect)((()=>{!1===Z&&re((()=>$.map((({id:e})=>e))))}),[Z]);const ce=(e,t)=>{const o=B.find((t=>t.id===e));j(o&&o.status===k.CatalogProductGroupStatus.SUGGESTED&&t?[...I,e.toString()]:I.filter((t=>t!==e.toString()))),re(t?[...ie,e.toString()]:ie.filter((t=>t!==e.toString())))},[de]=(0,n.useState)(new U.ZP),[ue,_e]=(0,n.useState)(null);(0,n.useEffect)((()=>{P.isLoaded&&P.data&&!de.initialized&&_e(de.createTree(P.data))}),[P,de]);const he=P.isLoaded&&de.initialized&&M()(null!==(l=Array.from(null!==(a=null==ue?void 0:ue.children.values())&&void 0!==a?a:[]))&&void 0!==l?l:[],[...A.sortCol],[A.sortOrder]);return(0,h.jsxs)(L.ZP,{accessibilityModalLabel:p._('Contains featured product groups which, when selected, will display as featured.', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.accessibilityLabel', 'The accessibility label for the select featured property groups modal'),heading:p._('Select product groups', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.heading', 'heading for modal to select feature-able for a merchant storefront'),footer:(0,h.jsx)(_.Le,{bottom:"0",children:(0,h.jsxs)(_.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"between",children:[(0,h.jsx)(F,{count:se,hasHitProductGroupMax:le}),(0,h.jsx)(_.zx,{color:"red",text:p._('Save', 'Storefront.ProductGroupControls.featuredSave', 'Save featured storefront product group changes'),onClick:()=>{(async()=>{try{I.length>0&&(await J(I,ne),j([]))}catch(n){ae((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,variant:"error",text:te(p)})})))}const t=(0,T.mV)(ie,$),o={countrySetting:g,languageSetting:f,settings:R,userId:z,feedProfileId:m};try{await(0,T.YY)(o,t,y),e(!1),ae((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,text:p._('Product groups saved! Drag to reorder.', 'MerchantStorefront.ProductGroupControls.pgSaved', 'toast text')})}))),P.refresh(),N.refresh(),O(),x((new Date).getTime())}catch(n){ae((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,variant:"error",text:te(p)})})))}})()}})]})}),size:1130,onDismiss:()=>e(!1),children:[(0,h.jsx)(_.xu,{paddingX:10,dangerouslySetInlineStyle:{__style:{paddingBottom:12}},children:(0,h.jsx)(_.xv,{align:"start",size:"200",children:(0,v.nk)(p._('Select product groups to display on your shop within the Featured section. You can always add, remove or edit these product groups in {{catalogLink}} or {{createProductGroupLink}}.', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.subheading', 'explanation text for modal to select feature-able product groups for a merchant storefront, catalogsLink: a link out to the catalogs UI to view product groups, createProductGroupLink: a link out to the catalogs ui to create a new product group'),{catalogLink:(0,h.jsx)(_.rU,{href:"/product-catalogs",underline:"none",inline:!0,children:(0,h.jsx)(_.xv,{size:"200",weight:"bold",inline:!0,children:p._('catalogs', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.subheading.catalogs', 'Link to Catalogs UI to view product groups. Full sentence is "Select product groups to display on your shop within the Featured section. You can always add, remove or edit these product groups in cataglors or create a new product group"')})},"product-catalogs"),createProductGroupLink:(0,h.jsx)(_.rU,{href:(0,c.Z)(`${d.Z.settings.SHOPPING_CATALOGS_DATA_SOURCE_URL}${m}/product-groups/create/`,{from:"storefront"}),underline:"none",inline:!0,children:(0,h.jsx)(_.xv,{size:"200",weight:"bold",inline:!0,children:p._('create a new product group', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.subheading.createProductGroup', 'Link to Catalogs UI to create a new product group. Full sentence is "Select product groups to display on your shop within the Featured section. You can always add, remove or edit these product groups in cataglors or create a new product group"')})},"product-catalogs--create")})})}),(0,h.jsxs)(_.xu,{paddingX:10,children:[(0,h.jsx)(_.$j,{accessibilityLabel:p._('Product groups are loading', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.loadingStatus', 'Accessibility label for loading icon in product group modal'),show:Z,size:"md"}),!Z&&(0,h.jsxs)(_.iA,{accessibilityLabel:p._('List of product groups to feature', 'merchantStorefront.productGroupControlsSheet.selectFeaturedProductGroups.modal.table.accessibilityLabel', 'Accessibility label for featured product groups table'),maxHeight:440,children:[(0,h.jsx)(_.iA.Header,{sticky:!0,children:(0,h.jsxs)(_.iA.Row,{children:[(0,h.jsx)(_.iA.HeaderCell,{children:(0,h.jsx)(_.xv,{size:K,weight:"bold"})}),(0,h.jsx)(_.iA.SortableHeaderCell,{onSortChange:()=>{w({sortCol:[V],sortOrder:Q(A,V),activeColumn:V})},status:ee(A,V),sortOrder:A.sortOrder,children:(0,h.jsx)(_.xv,{size:K,weight:"bold",children:"Name"})}),(0,h.jsx)(_.iA.HeaderCell,{children:(0,h.jsx)(_.xv,{size:K,weight:"bold",children:"Products"})}),(0,h.jsx)(_.iA.HeaderCell,{children:(0,h.jsx)(_.xv,{size:K,weight:"bold",children:"Outbound clicks"})}),(0,h.jsx)(_.iA.HeaderCell,{children:(0,h.jsx)(_.xv,{size:K,weight:"bold",children:"Pin clicks"})}),(0,h.jsx)(_.iA.SortableHeaderCell,{onSortChange:()=>{w({sortCol:[X,V],sortOrder:Q(A,W),activeColumn:W})},status:ee(A,W),sortOrder:A.sortOrder,children:(0,h.jsx)(_.xv,{size:K,weight:"bold",children:"Type"})}),(0,h.jsx)(_.iA.HeaderCell,{children:(0,h.jsx)(_.xv,{size:K,weight:"bold"})})]})}),(0,h.jsx)(_.iA.Body,{children:he&&he.map((e=>(0,h.jsx)(G,{checkedList:ie,disableCheckboxes:le,level:0,productGroup:e,onChange:ce,sortOrder:A.sortOrder,activeSortColumn:A.activeColumn,viewLinkMetadata:{advertiserId:oe,feedProfileId:m}},e.id)))})]})]})]})}function ne({onClick:e}){const t=(0,s.ZP)();return(0,h.jsx)(_.xu,{marginEnd:2,children:(0,h.jsx)(_.hU,{accessibilityLabel:t._('Back', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.back', 'Text for Back icon'),tooltip:{text:t._('Back', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.back', 'Text for Back icon')},bgColor:"transparent",icon:"arrow-back",iconColor:"darkGray",size:"sm",onClick:e})})}var ie=o(723820),re=o(140555),se=o(345221),le=o(583421),ae=o(278380);const ce={previewIndex:-1,sourceIndex:-1,target:null};function de(e,t,o){const n=[...e],i=n.splice(t,1)[0];return n.splice(o,0,i),n}function ue({pg:e,refresh:t,onUnfeature:o}){const i=(0,s.ZP)(),[r,l]=(0,n.useState)(!1),[a,c]=(0,n.useState)(!1),d=(0,n.useRef)(null),u=`product-group-dropdown-${e.id}`;return(0,h.jsxs)(_.xu,{display:"flex",justifyContent:"start",direction:"row",marginBottom:4,children:[(0,h.jsx)(_.xu,{marginEnd:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(_.hU,{accessibilityLabel:i._('Drag to reorder', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.dragHandle', 'Text for drag handle to reorder product groups'),icon:"handle",iconColor:"darkGray",size:"md"})}),(0,h.jsxs)(_.xu,{borderStyle:"shadow",rounding:6,padding:2,display:"flex",alignItems:"stretch",direction:"row",justifyContent:"between",flex:"grow",children:[(0,h.jsxs)(_.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,h.jsx)(_.xu,{width:75,height:75,rounding:4,overflow:"hidden",marginEnd:4,children:(0,h.jsx)(ie.ZP,{productGroup:e})}),(0,h.jsxs)(_.xu,{children:[(0,h.jsx)(_.xu,{marginBottom:1,maxWidth:320,children:(0,h.jsx)(_.X6,{size:"400",lineClamp:1,children:e.name})}),(0,h.jsx)(_.xv,{size:"100",color:"subtle",children:e.isCustom?i._('Manually created', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.manuallyCreated', 'Indicating product group is manually created by the merchant'):i._('Auto-created', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.autoCreated', 'Indicating product group is automatically created by Pinterest')})]})]}),(0,h.jsxs)(_.kC,{alignItems:"center",direction:"row",children:[(0,h.jsx)(_.xu,{marginEnd:4,children:(0,h.jsx)(_.xv,{size:"300",color:"subtle",lineClamp:1,children:(0,v.nk)(i.ngettext('{{productCount}} product', '{{productCount}} products', e.count, 'merchantStorefront.ProductGroupControls.ProductGroupCard.productCount', 'Number of products in a product group'),{productCount:e.count})})}),(0,h.jsx)(_.xu,{children:(0,h.jsxs)(_.kC,{justifyContent:"center",children:[(0,h.jsx)(_.hU,{accessibilityControls:u,accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:i._('Open drop-down', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.openDropdown', 'Text to open drop-down for a product group'),icon:"ellipsis",iconColor:"darkGray",onClick:()=>l((e=>!e)),ref:d,selected:r,size:"md"}),r&&(0,h.jsx)(_.Lt,{anchor:d.current,id:u,onDismiss:()=>l(!1),children:(0,h.jsxs)(_.Lt.Section,{label:i._('Actions', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.actionsDropdownLabel', 'Drop-down label for product groups'),children:[(0,h.jsx)(_.Lt.Item,{onSelect:()=>{c(!0),l(!1)},option:{value:"Edit display",label:i._('Edit display', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.edit', 'Link to edit product group modal')}}),(0,h.jsx)(_.Lt.Item,{onSelect:()=>{o(e.id),l(!1)},option:{value:"Remove from shop",label:i._('Remove from shop', 'merchantStorefront.ProductGroupControlsV2.ProductGroupOrder.remove', 'Link to unfeature a product group')}})]})})]})})]})]}),a&&(0,h.jsx)(re.Z,{onDismiss:()=>c(!1),onSubmit:()=>{c(!1),t()},productGroup:e})]})}const _e=(0,se.Z)(le.y.Section)((function({onChange:e,onUnfeature:t,productGroups:o,refresh:i}){const[r,s]=(0,n.useState)(ce),[l,a]=(0,n.useState)([]),[c,d]=(0,n.useState)({});function u(e){s({previewIndex:e,sourceIndex:e,target:null})}function p(t){const o=r&&r.target;if(!t||!r||!o||o.index===r.sourceIndex)return;const{previewIndex:n}=r,{index:i}=o;s(ce);const d=de(l,n,i);a(d),e(d.map((e=>c[e])))}function m(e,t){const o={itemIndex:e,regionWithinItem:(0,ae.TI)({hoverRelativePosition:t,centerEnabled:e!==r.previewIndex})},n={index:(0,ae.X3)({hoverLocation:o,sourceIndex:r.previewIndex})};n.index!==r.previewIndex?(s({...r,target:n,previewIndex:n.index}),a(de(l,r.previewIndex,n.index))):r.target&&r.target.index!==n.index&&s({...r,target:n})}return(0,n.useEffect)((()=>{a(o.map((e=>e.id))),d(o.reduce(((e,t)=>({...e,[t.id]:t})),{}))}),[o]),(0,h.jsx)(_.xu,{children:l.map((e=>c[e])).filter(Boolean).map(((e,o)=>(0,h.jsx)(le.Z,{index:o,onDragBegin:u,onDragEnd:p,onDragHover:m,type:le.y.Section,children:(0,h.jsx)(ue,{onUnfeature:t,pg:e,refresh:i})},e.id)))})}));function he({title:e,description:t,isAdded:o,onClick:n}){const i=(0,s.ZP)();return(0,h.jsxs)(_.xu,{borderStyle:"shadow",rounding:6,padding:6,display:"flex",alignItems:"stretch",direction:"row",justifyContent:"between",marginBottom:4,children:[(0,h.jsxs)(_.xu,{children:[(0,h.jsx)(_.xu,{marginBottom:1,children:(0,h.jsx)(_.X6,{size:"400",children:e})}),(0,h.jsx)(_.xv,{size:"200",color:"subtle",children:t})]}),(0,h.jsx)(_.xu,{children:o?(0,h.jsx)(_.hU,{accessibilityLabel:i._('Edit section', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.editSection', 'Text for edit section icon'),tooltip:{text:i._('Edit section', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.editSection', 'Text for edit section icon')},icon:"edit",iconColor:"darkGray",onClick:n,size:"md"}):(0,h.jsx)(_.hU,{accessibilityLabel:i._('Add section', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.addSection', 'Text for add section icon'),tooltip:{text:i._('Add section', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.addSection', 'Text for add section icon')},icon:"add",iconColor:"darkGray",onClick:n,size:"md"})})]})}const pe={SectionCategories:function({featuredCategories:e,onChangeCategories:t,onUnfeatureCategory:o,refresh:n,setSection:i,toggleModal:r}){const l=(0,s.ZP)();return(0,h.jsxs)(_.xu,{marginTop:-8,children:[(0,h.jsxs)(_.xu,{marginBottom:6,display:"flex",alignItems:"center",children:[(0,h.jsx)(ne,{onClick:()=>i("SectionEditYourShop")}),(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"500",children:l._('Shop by category', 'merchantStorefront.ProductGroupControlsV2.SectionCategories.header', 'Header for categories section')})})]}),(0,h.jsxs)(_.xu,{marginBottom:6,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)(_.xv,{size:"200",children:l._('Organize your shop into categories to help shoppers find what they want. Edit the display name, cover image and description for existing product groups or create a product group to feature.', 'merchantStorefront.ProductGroupControlsV2.SectionCategories.description', 'Text explaining the purpose of the categories section')})}),(0,h.jsx)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:(0,h.jsx)(m.Z,{})})]}),(0,h.jsxs)(_.xu,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center",marginBottom:6,children:[(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"400",children:l._('Featured', 'merchantStorefront.ProductGroupControlsV2.SectionCategories.header', 'Header for categories section')})}),(0,h.jsx)(_.xu,{children:!!e.length&&(0,h.jsx)(_.zx,{text:l._('Select more product groups', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.selectPgButton', 'Button to select more product groups'),onClick:()=>r(!0)})})]}),!e.length&&(0,h.jsxs)(_.xu,{marginTop:12,marginBottom:12,children:[(0,h.jsx)(_.xv,{align:"center",size:"200",children:l._('No product groups displayed in the Shop by category section yet.', 'merchantStorefront.ProductGroupControlsV2.SectionCategories.emptyText1', 'Empty text for no featured section')}),(0,h.jsx)(_.xv,{align:"center",size:"200",children:l._('Start by selecting the product groups to display on your shop.', 'merchantStorefront.ProductGroupControlsV2.SectionCategories.emptyText2', 'Empty text for no featured section')}),(0,h.jsx)(_.xu,{marginTop:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.zx,{text:l._('Select more product groups', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.selectPgButton', 'Button to select more product groups'),onClick:()=>r(!0)})})})]}),(0,h.jsx)(_e,{productGroups:e,onChange:t,onUnfeature:o,refresh:n})]})},SectionEditYourShop:function({featuredProductGroups:e,featuredCategories:t,setSection:o}){const n=(0,s.ZP)(),i=[(0,h.jsx)(he,{title:n._('Featured', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.featuredHeader', 'Header for featured product groups section'),description:n._('Display seasonal products, unique collections, best sellers and more.', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.featuredDescription', 'Description of featured product groups section'),isAdded:e.length>0,onClick:()=>o(H.vW.SectionFeaturedProductGroups)},H.vW.SectionFeaturedProductGroups),(0,h.jsx)(he,{title:n._('Shop by category', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.shopByCategory', 'Header for Shop by category section'),description:n._('Display product category groupings to help shoppers find what they want.', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.shopByCategoryDescription', 'Description of featured product groups section'),isAdded:t.length>0,onClick:()=>o(H.vW.SectionCategories)},H.vW.SectionCategories)],r=i.filter((e=>e.props.isAdded)),l=i.filter((e=>!e.props.isAdded));return(0,h.jsxs)(_.xu,{marginTop:-8,children:[(0,h.jsx)(_.xu,{marginBottom:6,display:"flex",alignItems:"center",children:(0,h.jsx)(_.X6,{size:"500",children:n._('Edit your shop', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.header', 'Header for edit your shop section')})}),(0,h.jsx)(_.xu,{marginBottom:6,children:(0,h.jsx)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:(0,h.jsx)(m.Z,{})})}),(0,h.jsxs)(_.xu,{marginBottom:6,children:[(0,h.jsx)(_.xu,{marginBottom:6,children:(0,h.jsx)(_.X6,{size:"400",children:n._('Displayed on shop', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.subheader1', 'Subheader for edit your shop section')})}),!r.length&&(0,h.jsxs)(_.xu,{marginTop:12,marginBottom:12,children:[(0,h.jsx)(_.xv,{align:"center",size:"200",children:n._('No products featured on your shop yet.', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.emptyText1', 'Empty text for no featured section')}),(0,h.jsx)(_.xv,{align:"center",size:"200",children:n._('Start by adding the sections below to your shop.', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.emptyText2', 'Empty text for no featured section')})]}),r]}),l.length>0&&(0,h.jsxs)(_.xu,{children:[(0,h.jsx)(_.xu,{marginBottom:6,children:(0,h.jsx)(_.X6,{size:"400",children:n._('Sections', 'merchantStorefront.ProductGroupControlsV2.SectionEditYourShop.subheader2', 'Subheader for edit your shop section')})}),l]})]})},SectionFeaturedProductGroups:function({featuredProductGroups:e,onChangeProductGroups:t,onUnfeatureProductGroup:o,refresh:n,setSection:i,toggleModal:r}){const l=(0,s.ZP)();return(0,h.jsxs)(_.xu,{marginTop:-8,children:[(0,h.jsxs)(_.xu,{marginBottom:6,display:"flex",alignItems:"center",children:[(0,h.jsx)(ne,{onClick:()=>i("SectionEditYourShop")}),(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"500",children:l._('Featured', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.header', 'Header for featured product groups section')})})]}),(0,h.jsxs)(_.xu,{marginBottom:6,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)(_.xv,{size:"200",children:l._('Highlight the products you want shoppers to see first. Customize your product group display name, image and description for your existing product groups or create a new one to feature.', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.description', 'Text explaining the purpose of the featured product group section')})}),(0,h.jsx)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:(0,h.jsx)(m.Z,{})})]}),(0,h.jsxs)(_.xu,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center",marginBottom:6,children:[(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"400",children:l._('Featured', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.header', 'Header for featured product groups section')})}),(0,h.jsx)(_.xu,{children:!!e.length&&(0,h.jsx)(_.zx,{text:l._('Select more product groups', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.selectPgButton', 'Button to select more product groups'),onClick:()=>r(!0)})})]}),!e.length&&(0,h.jsxs)(_.xu,{marginTop:12,marginBottom:12,children:[(0,h.jsx)(_.xv,{align:"center",size:"200",children:l._('No product groups displayed in the Featured section yet.', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.emptyText1', 'Empty text for no featured section')}),(0,h.jsx)(_.xv,{align:"center",size:"200",children:l._('Start by selecting the product groups to display on your shop.', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.emptyText2', 'Empty text for no featured section')}),(0,h.jsx)(_.xu,{marginTop:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.zx,{text:l._('Select more product groups', 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroups.selectPgButton', 'Button to select more product groups'),onClick:()=>r(!0)})})})]}),(0,h.jsx)(_e,{productGroups:e,onChange:t,onUnfeature:o,refresh:n})]})}},me={SectionCategories:function({onSave:e,onDismiss:t,featuredCategories:o,categoriesChanged:n}){const i=(0,s.ZP)();return(0,h.jsxs)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"300",children:(0,v.nk)(i.ngettext('Featuring {{count}} product group', 'Featuring {{count}} product groups', o.length, 'merchantStorefront.ProductGroupControlsV2.SectionCategoriesFooter.text', 'Display how many product groups. count:number of product groups featured'),{count:o.length})})}),(0,h.jsx)(_.xu,{children:(0,h.jsxs)(_.hE,{children:[(0,h.jsx)(_.zx,{color:"gray",text:i._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:t}),(0,h.jsx)(_.zx,{color:"red",text:i._('Save', 'merchantStorefront.ProductGroupControls.cancel', 'Save storefront product group changes'),onClick:()=>{e()},disabled:!n})]})})]})},SectionEditYourShop:function(e){const t=(0,s.ZP)();return(0,h.jsx)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.xv,{size:"200",inline:!0,children:(0,v.nk)(t._('Manage products in your shop on {{link}}', 'merchantStorefront.ProductGroupControls.SectionEditYourShopFooter.text', 'Footer text for link to Catalogs UI, full sentence is "Manage products in your shop on Product Catalogs". link:link to Catalogs UI'),{link:(0,h.jsx)(_.rU,{href:"/product-catalogs",underline:"none",inline:!0,children:(0,h.jsx)(_.xv,{size:"200",weight:"bold",inline:!0,children:t._('Product Catalogs', 'merchantStorefront.ProductGroupControls.SectionEditYourShopFooter.text', 'Link to Catalogs UI, full sentence is "Manage products in your shop on Product Catalogs"')})},"product-catalogs")})})})})},SectionFeaturedProductGroups:function({onSave:e,onDismiss:t,featuredProductGroups:o,productGroupsChanged:n}){const i=(0,s.ZP)();return(0,h.jsxs)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.X6,{size:"300",children:(0,v.nk)(i.ngettext('Featuring {{count}} product group', 'Featuring {{count}} product groups', o.length, 'merchantStorefront.ProductGroupControlsV2.SectionFeaturedProductGroupsFooter.text', 'Display how many product groups. count:number of product groups featured'),{count:o.length})})}),(0,h.jsx)(_.xu,{children:(0,h.jsxs)(_.hE,{children:[(0,h.jsx)(_.zx,{color:"gray",text:i._('Cancel', 'merchantStorefront.ProductGroupControls.cancel', 'Cancel storefront product group changes'),onClick:t}),(0,h.jsx)(_.zx,{color:"red",text:i._('Save', 'merchantStorefront.ProductGroupControls.cancel', 'Save storefront product group changes'),onClick:()=>{e()},disabled:!n})]})})]})}},ge=(e,t)=>{const o=e.indexOf(t.id);return-1===o?H.jl:o},fe=(e,t,o)=>{const n=t.map((t=>{const o=e.find((e=>String(e.id)===t.id));return{...t,status:null==o?void 0:o.status,count:o&&o.product_count?o.product_count:0,isCustom:"MERCHANT_CREATED"===t.group_type}}));return n.sort((e=>(t,o)=>{const n=ge(e,t),i=ge(e,o);return n===i?t.name.localeCompare(o.name):n-i})(o)),n};function xe({onDismiss:e,refreshStorefront:t,initialSection:o}){const i=(0,s.ZP)(),[l,a]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[p,m]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[x,y]=(0,n.useState)(!1),[v,P]=(0,n.useState)(o||"SectionEditYourShop"),[b,A]=(0,n.useState)(!1),w=pe[v],I=me[v],{merchantStorefrontSettings:{currentViewingLocale:{country:j,language:L,feedProfileId:N}}}=(0,u.S)(),{isLoaded:M,refresh:F}=(0,C.LO)(),U=(0,S.G7)({feedProfileId:N,featureType:H.$B.FEATURED},!N),B=(0,S.G7)({feedProfileId:N,featureType:H.$B.CATEGORY},!N),Z=(0,S.Ib)({feedProfileId:N,includeSuggested:!0,realtimeProductGroupCount:!0},!N),{ownerUserId:G,merchantId:V}=(0,D.Z)(),W=(0,O.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:$,locale:Y}=W.data||{},K=`${j||$}/${(L||(0,T.Md)(Y)).toUpperCase()}`,X=`/v3/business/users/${G}/storefront/settings/`,q=(0,O.Z)({name:"ApiResource",options:{url:X}}),{showOneToast:Q}=(0,E.F9)(),ee=!N||!M||U.isFetching||Z.isFetching||q.isFetching||W.isFetching||B.isFetching||x,te=()=>{B.refresh(),U.refresh(),Z.refresh(),q.refresh(),F(),t()},ne=async(e,t)=>{y(!0);const o={...q.data,[K]:{...q.data&&q.data[K]||{},[H.yK.FEATURED]:e.map((e=>e.id)),[H.yK.CATEGORY]:t.map((e=>e.id))}},n=[R.ZP.create("ApiResource",{url:X,data:{settings:JSON.stringify(o)}}).callUpdate()],i=t.filter((e=>e.status===k.CatalogProductGroupStatus)).map((e=>e.id));i.length&&n.push(J(i,V)),await Promise.all(n),y(!1)},ie=async()=>{await ne(c.length?c:l,g.length?g:p),e(),te(),Q((({hideToast:e})=>(0,h.jsx)("div",{className:"ProductGroupsSavedToast",children:(0,h.jsx)(r.ZP,{duration:T.QE,onHide:e,text:i._('Your changes have been saved!', 'MerchantStorefront.ProductGroupControlsV2.pgSaved', 'toast text')})})))};(0,n.useEffect)((()=>{const e=(q.data||{})[K];a(fe(Z.data||[],U.data||[],(null==e?void 0:e[H.yK.FEATURED])||[]).filter((e=>e.featured_position))),m(fe(Z.data||[],B.data||[],(null==e?void 0:e[H.yK.CATEGORY])||[]))}),[ee,Z.isFetching,U.isFetching,q.isFetching,K]);const re=c.length>0&&!z()(l,c),se=g.length>0&&!z()(p,g);return(0,h.jsx)(_.mh,{zIndex:H.UI,children:(0,h.jsxs)(_.yo,{accessibilityDismissButtonLabel:i._('Close storefront product group controls sheet', 'merchantStorefront.ProductGroupControlsV2.accessibilityDismissButtonLabel', 'Accessibility text for dismissing storefront product group sheet'),accessibilitySheetLabel:i._('Product group controls for merchant storefront', 'merchantStorefront.ProductGroupControlsV2.accessibilitySheetLabel', 'Accessibility text for opening storefront product group controls sheet'),onDismiss:e,footer:({onDismissStart:e})=>(0,h.jsx)(I,{categoriesChanged:se,featuredCategories:p,featuredProductGroups:l,onDismiss:e,onSave:ie,productGroupsChanged:re}),size:"md",children:[ee?(0,h.jsx)(_.$j,{accessibilityLabel:"loading",show:!0}):(0,h.jsx)(w,{featuredCategories:p,featuredProductGroups:l,onChangeCategories:f,onChangeProductGroups:d,onUnfeatureCategory:async e=>{await ne(l,p.filter((t=>t.id!==e))),te()},onUnfeatureProductGroup:async e=>{await R.ZP.create("FeaturedProductGroupsResource",{feedProfileId:N,productGroupId:e}).callDelete(),te()},refresh:te,setSection:P,toggleModal:A}),b&&(0,h.jsx)(oe,{section:v,isOpen:b,toggleModal:A})]})})}var ye=o(217468);function ve({initialSection:e,onDismiss:t,refreshStorefront:o,sheetOpen:i}){const r=(0,ye.t)("storefront_i2pc_merchant_controls")().anyEnabled;return(0,h.jsxs)(n.Fragment,{children:[!r&&i&&(0,h.jsx)(I,{onDismiss:t}),r&&i&&(0,h.jsx)(xe,{onDismiss:t,refreshStorefront:o,initialSection:e})]})}var Pe=o(826067),be=o(925927),Ae=o(259986);function we({bgColor:e,refreshStorefront:t}){const o=(0,n.useRef)(null),i=(0,be.TH)(),r="open"===(0,Pe.mB)(i.search).controls,[l,a]=(0,n.useState)(r),c=(0,s.ZP)(),d=(0,ye.t)("storefront_merchant_edit_callout")().anyEnabled,u=(0,h.jsx)(_.zx,{accessibilityLabel:c._('Product group controls edit button', 'Profile.User.Button.Icon.Product.Group.Controls', 'Edit icon button for product group control sheet on merchant profile'),text:c._('Edit shop', 'Profile.User.Button.Text.Product.Group.Controls', 'Edit shop text next to edit button for product group control sheet on merchant profile'),onClick:()=>a(!l),size:"lg"}),p=(0,h.jsx)(Ae.Z,{accessibilityLabel:c._('Product group controls edit button', 'Profile.User.Button.Icon.Product.Group.Controls', 'Edit icon button for product group control sheet on merchant profile'),bgColor:e,icon:"add",onClick:()=>a(!l),selected:l,size:"lg"});return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(_.xu,{ref:o,children:d?u:p}),(0,h.jsx)(ve,{onDismiss:()=>a(!1),refreshStorefront:t,sheetOpen:l})]})}var Ce=o(704115),Ee=o(57636),Te=o(564194),Se=o(333312),Ie=o(499385),je=o(180603),ze=o(925491);function Re(e){const{children:t,footer:o,title:n,dataTestId:i,action:r}=e;return(0,h.jsxs)(_.xu,{marginBottom:10,paddingX:4,"data-test-id":i,children:[!!n&&(0,h.jsxs)(_.kC,{alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(_.X6,{size:"500",children:n}),r]}),t,o]})}var De=o(149230);function Oe({onClick:e,text:t,url:o}){const n=(0,De.Z)({url:o})?"nofollow":"none";return(0,h.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(_.zx,{role:"link",href:o,rel:n,onClick:e,size:"lg",text:t})})}var ke=o(829407),Le=o(81667);function Ne({bubble:e,slotIndex:t,storyId:o,viewParameter:n,source:i,title:r}){const{logContextEvent:s}=(0,P.v)();(0,ke.Z)((()=>{Ie.Z.StructuredFeed.Categories.viewCategory({id:o,source:i,title:r,bubble:e},s)}));return(0,h.jsx)(Ee.Z,{bubble:e,height:Le.CT,onClick:()=>Ie.Z.StructuredFeed.Categories.tapCategory({id:o,source:i,title:r,bubble:e},s),referringSource:"merchantStorefront",slotIndex:t,storyId:o,viewParameter:n,viewType:4,width:Le.Fl})}function Me({productGroup:e,index:t,merchantName:o,source:n}){const{logContextEvent:i}=(0,P.v)();(0,ke.Z)((()=>{Ie.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.id,source:n,groupType:e.group_type,componentType:14091},i)}));return(0,h.jsx)(je.Z,{onClick:()=>Ie.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.id,source:n,groupType:e.group_type,componentType:14091,index:t},i),productGroup:e,url:`/${o}/_shop/${e.id}/?section=${H.$B.CATEGORY}`})}function Fe(e){const{logContextEvent:t}=(0,P.v)(),o=(0,s.ZP)(),{exploreArticles:i,productGroupCategories:r,source:l,storefrontResource:a,viewParameter:d,merchantName:u}=e,[p,m]=(0,n.useState)(!1),g=(0,ye.t)("storefront_i2pc_merchant_controls")().anyEnabled,f=(0,C.N0)()&&g,x=(0,n.useRef)(null);if(!r&&!i)return null;const y=r||i||{},{footer:v,id:b,title:A}=y,w=v&&(0,h.jsx)(Te.Z,{contextLogData:{story_id:b,story_type:v.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,ze.Z)(l),children:(0,h.jsx)(Oe,{onClick:()=>Ie.Z.StructuredFeed.Categories.tapSeeMoreCategories({id:b,source:l},t),text:v.text,url:(0,c.Z)(v.url,{source:l})})});return(0,h.jsx)(Te.Z,{contextLogData:{story_id:b,story_type:"storefront_category_bubbles"},impressionType:"Story",viewParameter:3512,viewType:(0,ze.Z)(l),children:(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(Re,{title:null==A?void 0:A.text,footer:w,dataTestId:"storefront-categories-module",action:f&&(0,h.jsx)(_.hU,{ref:x,accessibilityLabel:o._('Categories edit button', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Button', 'Edit button in header of categories module for categories control sheet on merchant profile'),bgColor:"transparent",icon:"edit",onClick:()=>m(!p),size:"lg",iconColor:"darkGray"}),children:(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",paddingY:6,wrap:!0,children:((e,t)=>e?e.items.map(((e,t)=>{var o;const n=(0,c.Z)((null===(o=e.action)||void 0===o?void 0:o.url)||"",{source:l}),i={...e,action:{...e.action,url:n}};return(0,h.jsx)(_.xu,{padding:2,children:(0,h.jsx)(Ne,{bubble:i,slotIndex:t,storyId:e.id,viewParameter:d,source:l,title:e.title.format})},e.id)})):t?t.items.map(((e,t)=>(0,h.jsx)(_.xu,{padding:2,children:(0,h.jsx)(Me,{productGroup:e,index:t,merchantName:u,source:l})},e.id))):null)(i,r)})}),(0,h.jsx)(ve,{initialSection:H.vW.SectionCategories,onDismiss:()=>m(!1),refreshStorefront:a.refresh,sheetOpen:p}),x&&(0,h.jsx)(Se.default,{anchor:x.current,experienceIds:[504869],flyoutSize:230,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{m(!0)},placementId:19,showCaret:!0,textAlign:"center",textWeight:"bold"})]})})}const Ue=226;function Be(){return(0,h.jsx)(_.xu,{height:Ue,width:Ue,color:"secondary",rounding:4})}function Ze({refreshStorefront:e}){const t=(0,s.ZP)(),[o,i]=(0,n.useState)(!1),r=(0,h.jsx)(_.xu,{marginStart:-10,marginTop:3,children:(0,h.jsxs)(_.kC,{direction:"column",gap:3,children:[(0,h.jsx)(Be,{}),(0,h.jsx)(Be,{}),(0,h.jsx)(Be,{})]})}),l=(0,h.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"-150px"}},marginStart:3,marginEnd:3,children:(0,h.jsxs)(_.kC,{direction:"column",gap:3,children:[(0,h.jsx)(Be,{}),(0,h.jsx)(_.zd,{height:Ue,width:Ue,rounding:4,children:(0,h.jsx)(_.Ee,{alt:"test",naturalHeight:678,naturalWidth:678,src:"https://i.pinimg.com/originals/ea/c9/69/eac969baa7527f95ffaf937ed897a42a.png"})}),(0,h.jsx)(Be,{})]})}),a=(0,h.jsx)(_.xu,{marginStart:12,height:"100%",marginEnd:12,children:(0,h.jsxs)(_.kC,{gap:4,direction:"column",justifyContent:"center",height:370,children:[(0,h.jsx)(_.xv,{color:"subtle",size:"200",children:t._('only visible to you', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Text', 'Text for empty featured product groups module on merchant profile')}),(0,h.jsx)(_.X6,{size:"600",children:t._('Feature product groups', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Heading', 'Heading for empty featured product groups module on merchant profile')}),(0,h.jsx)(_.xv,{children:t._('Help your shopper find the items they love. Inspire shoppers to browse your products by showing them what they want first.', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Text', 'Text for empty featured product groups module on merchant profile')}),(0,h.jsx)(_.xu,{marginTop:6,children:(0,h.jsx)(_.zx,{text:t._('Set up product groups', 'Profile.MerchantStorefront.StructuredFeed.EmptyProductGroupsModule.Button', 'CTA button for empty featured product groups module on merchant profile'),color:"gray",onClick:()=>i(!o)})})]})});return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(_.xu,{marginBottom:10,paddingX:4,maxWidth:1278,children:(0,h.jsx)(_.Yl,{id:"testid",children:(0,h.jsxs)(_.xu,{overflow:"hidden",display:"flex",margin:-6,rounding:5,height:370,children:[r,l,a]})})})}),(0,h.jsx)(ve,{initialSection:H.vW.SectionFeaturedProductGroups,onDismiss:()=>i(!1),refreshStorefront:e,sheetOpen:o})]})}var Ge=o(767449),He=o(623568),Ve=o(558774),We=o(35495);function $e(e){const{data:t,isOwnProfile:o,merchant:i,source:r,storefrontResource:l}=e,{footer:a,title:d}=t,u=(0,ze.Z)(r),p=(0,s.ZP)(),{logContextEvent:m}=(0,P.v)();(0,n.useEffect)((()=>{Ie.Z.StructuredFeed.PinsFeed.viewPinsFeed({id:null==d?void 0:d.id,OwnerUserId:i.id,pinsFeedTitle:null==d?void 0:d.text,source:r},m)}),[]);const g=e=>{const t={...(0,We.Zs)(e),board_owner_id:i.id,pin_is_promoted:(0,He.jL)(e)},o=(0,We.Sn)(t)||{};Ie.Z.StructuredFeed.PinsFeed.tapPin({commerceData:o,source:r},m)},f=a&&(0,h.jsx)(Oe,{text:a.text,url:(0,c.Z)(a.url,{storefront:1})}),x=d&&(0,h.jsxs)(_.kC,{direction:"row",justifyContent:"between",alignItems:"center",children:[(0,h.jsx)(Te.Z,{impressionType:"Story",viewType:u,viewParameter:3512,contextLogData:{story_id:d.id,story_type:"storefront_header"},children:(0,h.jsx)(_.xu,{children:d.text})}),d.allProductLink&&(0,h.jsx)(_.xu,{position:"absolute",paddingX:4,right:!0,children:(0,h.jsx)(_.zx,{accessibilityLabel:p._('Button to view all the merchant\'s products', 'MerchantStorefront.structuredFeed.shopAllProducts.accessibilityLabel', 'The accessibility label for the button to show the merchant "All Products" pins'),size:"lg",text:p._('Shop all products', 'MerchantStorefront.structuredFeed.shopAllProducts.text', 'Button to open a view with all the merchant\'s product pins'),role:"link",href:d.allProductLink||"",color:"transparent"})})]});return(0,h.jsx)(Re,{title:x,footer:f,dataTestId:"storefront-pins-module",children:(0,h.jsx)(Ve.QI,{renderPin:({data:e,itemIdx:t})=>(0,h.jsx)(Ge.Z,{componentType:null,merchant:i,onClick:g,pin:e,slotIndex:t,surface:"pdp"===r?"ShoppingSquareGridStorefrontDomain":"ShoppingSquareGridStorefront",viewParameter:3512,viewType:u}),isGridCentered:!0,isOverview:!1,isOwnProfile:o,layout:"basicCentered",onClick:g,pins:l,surface:"ShoppingGridShippedMetadata",user:i,username:i.username})})}var Ye=o(319915),Ke=o(207112);function Xe({children:e,onClick:t,productGroup:o,showControls:i,url:r,width:l}){const a=(0,s.ZP)(),c=(0,De.Z)({url:r})?"nofollow":"none",d=a._('Edit product group display', 'ProductGroup.editTooltip', 'Tooltip text for the edit product group button'),[u,p]=(0,n.useState)();return(0,h.jsxs)(_.Zb,{children:[(0,h.jsxs)(_.xu,{position:"relative",children:[(0,h.jsx)(_.iP,{role:"link",rel:c,onTap:t,href:r,children:(0,h.jsxs)(_.xu,{"data-test-id":`productGroup-${o.name}`,width:l,children:[(0,h.jsx)(_.xu,{position:"relative",children:e}),(0,h.jsx)(_.xu,{display:"flex",alignItems:"end",paddingY:1,children:(0,h.jsx)(_.xu,{padding:2,flex:"grow",overflow:"hidden",children:(0,h.jsx)(_.X6,{size:"400",children:(0,h.jsx)(Ke.Z,{maxHeightPx:70,children:o.name})})})})]})}),i&&(0,h.jsx)(_.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,h.jsx)(_.u,{text:d,idealDirection:"down",children:(0,h.jsx)(_.hU,{accessibilityLabel:d,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>p(!0),size:"lg"})})})]}),i&&u&&(0,h.jsx)(Ye.Z,{name:"ProductGroupDetailsModal",children:(0,h.jsx)(re.Z,{onDismiss:()=>p(!1),onSubmit:()=>p(!1),productGroup:o})})]})}var qe=o(120659);function Qe({height:e=200,numCols:t=3,pins:o=[],rounding:n=2,width:i=300}){return(0,h.jsx)(_.zd,{rounding:n,width:i,height:e,children:(0,h.jsx)(_.gM,{columns:t,cover:!0,height:e,gutter:2,renderImage:({index:e,width:t,height:n})=>{var i;const r=o[e];if(!r)return null;const s=null===(i=r.images)||void 0===i?void 0:i["474x"];return(0,h.jsx)(qe.Z,{height:n,image:s,width:t})},width:i})})}function Je({onClick:e,productGroup:t,showControls:o,url:n}){return(0,h.jsx)(Xe,{onClick:e,productGroup:t,url:n,width:320,showControls:o,children:(0,h.jsx)(Qe,{height:213,numCols:3,pins:t.preview_pins,rounding:4,width:320})})}function et({refreshStorefront:e}){const t=(0,n.useRef)(null),o=(0,s.ZP)(),[i,r]=(0,n.useState)(!1);return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(_.xu,{width:"100",margin:3,ref:t,children:(0,h.jsxs)(_.kC,{justifyContent:"center",alignItems:"center",children:[(0,h.jsx)(_.X6,{size:"500",children:o._('Featured', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header', 'Header for featured product groups module on merchant profile')}),(0,h.jsx)(_.hU,{accessibilityLabel:o._('Featured product group edit button', 'Profile.MerchantStorefront.StructuredFeed.ProductGroups.Module.Header.Button', 'Edit button in header of product group module for product group control sheet on merchant profile'),bgColor:"transparent",icon:"edit",onClick:()=>r(!i),size:"lg",iconColor:"darkGray"})]})}),(0,h.jsx)(ve,{initialSection:H.vW.SectionFeaturedProductGroups,onDismiss:()=>r(!1),refreshStorefront:e,sheetOpen:i})]})}var tt=o(27038),ot=o(932995);const nt={previewIndex:-1,sourceIndex:-1,target:null};function it({merchantName:e,productGroup:t,showControls:o,source:i,isControlsExpEnabled:r,index:s}){const{logContextEvent:l}=(0,P.v)();(0,n.useEffect)((()=>{Ie.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:t.id,source:i,groupType:t.group_type,componentType:13698},l)}),[]);const a=()=>Ie.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:t.id,source:i,groupType:t.group_type,componentType:13698,index:s},l);return r?(0,h.jsx)(tt.Z,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`}):(0,h.jsx)(Je,{onClick:a,productGroup:t,showControls:o,url:`/${e}/_shop/${t.id}/`})}const rt=(0,se.Z)(le.y.Section)((function(e){const{logContextEvent:t}=(0,P.v)(),{data:o,merchantName:i,source:r,storefrontResource:s}=e,{footer:l,items:a,title:d}=o,[p,m]=(0,n.useState)(nt),g=a.reduce(((e,t)=>({...e,[t.id]:t})),{}),[f,x]=(0,n.useState)(a.map((e=>e.id)));(0,n.useEffect)((()=>{x(a.map((e=>e.id)))}),[a]);const{ownerUserId:y}=(0,D.Z)(),v=(0,O.Z)({name:"ApiResource",options:{url:`/v3/business/users/${y}/storefront/settings/`}}),{merchantStorefrontSettings:{currentViewingLocale:{country:b,language:A}}}=(0,u.S)(),w=(0,O.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}}),{country:E,locale:S}=w.data||{},I=`${b||E}/${(A||(0,T.Md)(S)).toUpperCase()}`,j=l&&(0,h.jsx)(Te.Z,{contextLogData:{story_id:l.id,story_type:l.story_type},elementType:179,impressionType:"Story",viewParameter:3512,viewType:(0,ze.Z)(r),children:(0,h.jsx)(Oe,{onClick:()=>Ie.Z.StructuredFeed.ProductGroups.tapSeeMoreProductGroups({id:l.id,source:r},t),text:l.text,url:(0,c.Z)(l.url,{source:r})})});function z(e){m({previewIndex:e,sourceIndex:e,target:null})}function k(e){const o=p&&p.target;if(!e||!p||!o||o.index===p.sourceIndex){m(nt);const e=[...a];if(v.data&&v.data[I].featured_product_groups){const t=v.data[I].featured_product_groups;e.sort(((e,o)=>{const n=t.indexOf(e.id),i=t.indexOf(o.id);return n===i?0:o.group_type===T.yh||-1===n?1:e.group_type===T.yh||-1===i?-1:n-i}))}return void x(e.map((e=>e.id)))}const{previewIndex:n}=p,{index:i}=o;m(nt);const r=(0,ot.Z)(f,n,i),l=new Set(v.data?v.data[I].featured_product_groups:[]),c={...v.data,[I]:{...v.data&&v.data[I]||{},featured_product_groups:r.concat([...l])}};R.ZP.create("ApiResource",{url:`/v3/business/users/${y}/storefront/settings/`,data:{settings:JSON.stringify(c)}}).callUpdate().then((()=>{v.refresh(),s.refresh()})),t({event_type:9869,component:14004})}function L(e,t){const o={itemIndex:e,regionWithinItem:(0,ae.TI)({hoverRelativePosition:t,centerEnabled:e!==p.previewIndex})},n={index:(0,ae.X3)({hoverLocation:o,sourceIndex:p.previewIndex})};n.index!==p.previewIndex?(m({...p,target:n,previewIndex:n.index}),x((0,ot.Z)(f,p.previewIndex,n.index))):p.target&&p.target.index!==n.index&&m({...p,target:n})}const N=(0,C.N0)(),M=(0,ye.t)("web_merchant_success_storefront_controls")().anyEnabled,F=(0,ye.t)("web_merchant_storefront_controls_international")().anyEnabled,U=M||F,B=(0,ye.t)("storefront_merchant_edit_callout"),Z=N&&U&&B().anyEnabled,G=(0,ye.t)("storefront_i2pc_merchant_controls")().anyEnabled;return(0,h.jsxs)(Re,{title:null==d?void 0:d.text,footer:j,dataTestId:"storefront-product-groups-module",children:[Z&&(0,h.jsx)(et,{refreshStorefront:s.refresh}),(0,h.jsx)(_.xu,{display:"flex",justifyContent:"center",marginBottom:8,wrap:!0,children:f.map((e=>g[e])).map(((e,t)=>e&&(0,h.jsx)(_.xu,{padding:2,children:N&&e.group_type!==T.yh&&!G?(0,h.jsx)(le.Z,{index:t,onDragBegin:z,onDragEnd:k,onDragHover:L,type:le.y.Section,children:(0,h.jsx)(it,{merchantName:i,productGroup:e,showControls:N,source:r,isControlsExpEnabled:U,index:t})}):(0,h.jsx)(it,{merchantName:i,productGroup:e,showControls:N,source:r,isControlsExpEnabled:U,index:t})},e.id)))})]})}));var st=o(698726);const lt=(e,t)=>({ms:e._('Malay', 'merchantStorefront.hiddenShopBanner.language.Malay', 'The language name of the language code ms'),ru:e._('Russian', 'merchantStorefront.hiddenShopBanner.language.Russian', 'The language name of the language code ru'),en:e._('English', 'merchantStorefront.hiddenShopBanner.language.English', 'The language name of the language code en'),cs:e._('Czech', 'merchantStorefront.hiddenShopBanner.language.Czech', 'The language name of the language code cs'),nb:e._('Norwegian', 'merchantStorefront.hiddenShopBanner.language.Norwegian', 'The language name of the language code nb'),el:e._('Greek', 'merchantStorefront.hiddenShopBanner.language.Greek', 'The language name of the language code el'),pt:e._('Portuguese', 'merchantStorefront.hiddenShopBanner.language.Portuguese', 'The language name of the language code pt'),tr:e._('Turkish', 'merchantStorefront.hiddenShopBanner.language.Turkish', 'The language name of the language code tr'),te:e._('Telugu', 'merchantStorefront.hiddenShopBanner.language.Telugu', 'The language name of the language code te'),hi:e._('Hindi', 'merchantStorefront.hiddenShopBanner.language.Hindi', 'The language name of the language code hi'),zh:e._('Chinese', 'merchantStorefront.hiddenShopBanner.language.Chinese', 'The language name of the language code zh'),es:e._('Spanish', 'merchantStorefront.hiddenShopBanner.language.Spanish', 'The language name of the language code es'),hu:e._('Hungarian', 'merchantStorefront.hiddenShopBanner.language.Hungarian', 'The language name of the language code hu'),sk:e._('Slovak', 'merchantStorefront.hiddenShopBanner.language.Slovak', 'The language name of the language code sk'),fr:e._('French', 'merchantStorefront.hiddenShopBanner.language.French', 'The language name of the language code fr'),da:e._('Danish', 'merchantStorefront.hiddenShopBanner.language.Danish', 'The language name of the language code da'),ko:e._('Korean', 'merchantStorefront.hiddenShopBanner.language.Korean', 'The language name of the language code ko'),uk:e._('Ukrainian', 'merchantStorefront.hiddenShopBanner.language.Ukrainian', 'The language name of the language code uk'),fi:e._('Finnish', 'merchantStorefront.hiddenShopBanner.language.Finnish', 'The language name of the language code fi'),nl:e._('Dutch', 'merchantStorefront.hiddenShopBanner.language.Dutch', 'The language name of the language code nl'),de:e._('German', 'merchantStorefront.hiddenShopBanner.language.German', 'The language name of the language code de'),tl:e._('Tagalog', 'merchantStorefront.hiddenShopBanner.language.Tagalog', 'The language name of the language code tl'),pl:e._('Polish', 'merchantStorefront.hiddenShopBanner.language.Polish', 'The language name of the language code pl'),ro:e._('Romanian', 'merchantStorefront.hiddenShopBanner.language.Romanian', 'The language name of the language code ro'),ja:e._('Japanese', 'merchantStorefront.hiddenShopBanner.language.Japanese', 'The language name of the language code ja'),ar:e._('Arabic', 'merchantStorefront.hiddenShopBanner.language.Arabic', 'The language name of the language code ar'),bn:e._('Bangla', 'merchantStorefront.hiddenShopBanner.language.Bangla', 'The language name of the language code bn'),it:e._('Italian', 'merchantStorefront.hiddenShopBanner.language.Italian', 'The language name of the language code it'),id:e._('Indonesian', 'merchantStorefront.hiddenShopBanner.language.Indonesian', 'The language name of the language code id'),sv:e._('Swedish', 'merchantStorefront.hiddenShopBanner.language.Swedish', 'The language name of the language code sv'),vi:e._('Vietnamese', 'merchantStorefront.hiddenShopBanner.language.Vietnamese', 'The language name of the language code vi'),th:e._('Thai', 'merchantStorefront.hiddenShopBanner.language.Thai', 'The language name of the language code th')}[t]),at=()=>{const e=(0,s.ZP)(),[t,o]=(0,n.useState)(!1),{countries:i,feedProfiles:r,settings:l,userId:a,refresh:c}=(0,C.LO)(),{merchantStorefrontSettings:{currentViewingLocale:{country:d,language:p}},updateStorefrontLastUpdated:m}=(0,u.S)(),g=()=>{o(!0)};return!(0,T.c8)(l[[d||"",p||""].join("/").toUpperCase()])?(0,h.jsxs)(_.xu,{marginBottom:8,paddingX:8,width:"100%",display:"flex",justifyContent:"center",children:[(0,h.jsxs)(_.xu,{minHeight:134,paddingY:4,width:1496,dangerouslySetInlineStyle:{__style:{backgroundColor:"#FDF5EC"}},rounding:4,display:"flex",children:[(0,h.jsx)(_.xu,{height:"100%",marginStart:8,marginEnd:6,display:"flex",alignItems:"center",children:(0,h.jsx)(_.JO,{icon:"workflow-status-warning",accessibilityLabel:e._('Warning icon', 'merchantStorefront.hiddenShopBanner.warningIcon.accessibilityLabel', 'The accessibility label for the warning icon of the merchant storefront hidden shop banner'),color:"warning",size:32})}),(0,h.jsxs)(_.xu,{height:"100%",marginEnd:6,display:"flex",direction:"column",alignItems:"start",justifyContent:"center",maxWidth:1124,children:[(0,h.jsx)(_.xu,{marginBottom:2,children:(0,h.jsx)(_.X6,{size:"400",children:e._('Your shop is hidden in this region/language', 'merchantStorefront.hiddenShopBanner.heading', 'The heading of the merchant storefront hidden shop banner')})}),(0,h.jsx)(_.xu,{children:(0,h.jsx)(_.xv,{size:"300",children:(0,v.nk)(e._('{{ language }} speaking people in the {{ country }} can\'t see your shop. You can preview the shop, but people in this region/language won\u2019t see it until you make the shop visible.', 'merchantStorefront.hiddenShopBanner.text', 'The body text of the merchant storefront hidden shop banner'),{language:lt(e,p),country:i[d]})})})]}),(0,h.jsx)(_.xu,{height:"100%",marginEnd:12,display:"flex",alignItems:"center",children:(0,h.jsx)(_.zx,{accessibilityLabel:e._('Manage shop visibility button', 'merchantStorefront.hiddenShopBanner.button.accessibilityLabel', 'The accessibilityLabel of the merchant storefront hidden shop banner button'),size:"lg",text:e._('Manage shop visibility', 'merchantStorefront.hiddenShopBanner.button.text', 'The text of the merchant storefront hidden shop banner button'),color:"white",onClick:g})})]}),t&&(0,h.jsx)(st.Z,{countries:i,feedProfiles:r,onDismiss:()=>o(!1),onSubmit:()=>{c(),m((new Date).getTime())},onUndo:g,settings:l,userId:a})]}):null};var ct=o(430323),dt=o(19121);const ut=function({merchant:e,source:t,storefrontData:o,storefrontResource:i}){const{storefront_category_bubbles:r,storefront_category_product_groups:s,pin:l,productgroup:a}=o,{id:c,username:d}=e,{logContextEvent:u}=(0,P.v)();(0,n.useEffect)((()=>{Ie.Z.StructuredFeed.viewStructuredFeed({merchantId:c,source:t},u)}),[]);const _=(0,dt.Z)(),p=_.isAuth&&_.username===d,m=p?3106:3107,g=(0,ye.t)("storefront_empty_product_groups_cta"),f=!_.isLimitedLogin&&(a?(0,h.jsx)(rt,{data:a,merchantName:d,source:t,storefrontResource:i},"productGroupsModule"):g().anyEnabled&&(0,h.jsx)(Ze,{refreshStorefront:i.refresh},"emptyProductGroupsModule")),x=(r||s)&&(0,h.jsx)(Fe,{exploreArticles:r,productGroupCategories:s,source:t,viewParameter:m,storefrontResource:i,merchantName:d},"categoriesModule"),y=l&&(0,h.jsx)($e,{data:l,isOwnProfile:p,merchant:e,source:t,storefrontResource:i},"pinsModule"),v=[f,x];v["pdp"===t?"unshift":"push"](y);const b=(0,C.t8)();return(0,h.jsx)(ct.Z,{component:237,view:4,viewParameter:m,children:(0,h.jsxs)(n.Fragment,{children:[b&&(0,h.jsx)(at,{}),v]})})};function _t(e){return e.type===Le.sy.story&&e.story_type===Le.sy.header}function ht(e){return e.type===Le.sy.story&&Le.sy.footers.includes(e.story_type)}const pt=function(e){const t=[];for(const o of e)o.type===Le.sy.story&&Le.sy.sectionStories.concat(Le.sy.header).includes(o.story_type)||!t.length?t.push([o]):t[t.length-1].push(o);return t.map((e=>{let t;const o=e.find(ht);let n;o&&(t={id:o.id,story_type:o.story_type,text:o.button_text.format,url:o.action.url});const i=e.find(_t);var r;i&&(n={id:i.id,text:i.title.format,allProductLink:null===(r=i.action)||void 0===r?void 0:r.url});let s,l=e.filter((e=>!_t(e)&&!ht(e)));const a=e.find((e=>e.type===Le.sy.story&&Le.sy.sectionStories.includes(e.story_type))),c=a?l[0].story_type:l[0].type;return a&&(n={text:a.title.format},l=l[0].objects,s=a.id),{footer:t,title:n,id:s,items:l,label:c}})).reduce(((e,t)=>{const{footer:o,title:n,id:i,items:r,label:s}=t;return{...e,[s]:{footer:o,id:i,title:n,items:r}}}),{})};var mt=o(86551),gt=o(357805);function ft(){return(0,C.tt)(),null}function xt({country:e,language:t,lastUpdated:o}){const{search:n}=(0,be.TH)(),{params:{username:i}}=(0,be.$B)(),r=(0,ye.t)("storefront_i2pc_product_groups")().anyEnabled,s=(0,ye.t)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:l,group:a}=s({dangerouslySkipActivation:!0});a.includes("pwt")||s();const{data:c}=(0,mt.Z)();(0,gt.G)(i,3313);const{pin:d,search_query:u,source:p}=(0,Ce.Z)(n),g=(0,C.N0)(),f=(0,C.t8)(),x=f?{country:e,language:t}:{},y=(0,O.Z)({name:"StoreFrontFeedResource",options:{field_set_key:l?"shopping_grid_item":"grid_item",pin:d,search_query:u,shop_source:d?"product_detail_page":null,source:p,userId:c?c.id:void 0,username:i,last_updated:o,category_section_source:r?"product_groups":"live_signal",...x}}),{data:v}=y;return c?(0,h.jsxs)(_.xu,{children:[(0,h.jsxs)(_.kC,{alignItems:"stretch",direction:"row",justifyContent:"between",children:[(0,h.jsx)(_.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:g&&(0,h.jsx)(m.Z,{})}),(0,h.jsx)(_.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},children:f&&(0,h.jsx)(we,{refreshStorefront:y.refresh})})]}),v?(0,h.jsx)(ut,{merchant:c,source:d?"pdp":"profile",storefrontData:pt(v),storefrontResource:y}):null,f&&(0,h.jsx)(ft,{})]}):null}function yt(){const{merchantStorefrontSettings:{currentViewingLocale:{country:e,language:t},lastUpdated:o}}=(0,u.S)();return(0,h.jsx)(xt,{country:e,language:t,lastUpdated:o})}const vt=()=>{const{params:{username:e}}=(0,be.$B)(),{data:t}=(0,mt.Z)();return(0,gt.S)(e,t?t.id:null,13670),null!=t&&t.has_catalog?(0,h.jsx)(yt,{}):null}},117855:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var n=o(430323),i=o(883119),r=o(558774),s=o(785893);const l=function(e){const{isOwnProfile:t,user:o}=e,{username:l}=o,a=t?3106:3107;return(0,s.jsx)(n.Z,{view:4,viewParameter:a,component:13322,children:(0,s.jsx)(i.xu,{children:(0,s.jsx)(r.pP,{isOwnProfile:t,user:o,username:l})})})};var a=o(86551),c=o(19121),d=o(357805),u=o(925927);function _(e){const t=(0,u.$B)(),o=(0,c.Z)(),n=(0,a.Z)();(0,d.G)(t.params.username,3240);const i=o.isAuth&&o.username===t.params.username;return n&&n.data?(0,s.jsx)(l,{isOwnProfile:i,user:n.data}):null}},375553:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var n=o(430323),i=o(558774),r=o(785893);const s=function(e){const{isOwnProfile:t,user:o}=e,s=t?3106:3107;return(0,r.jsx)(n.Z,{view:4,viewParameter:s,component:13364,children:(0,r.jsx)(i.Ol,{isOwnProfile:t,user:o,username:o.username})})};var l=o(86551),a=o(19121),c=o(357805),d=o(925927);function u(e){const t=(0,d.$B)(),o=(0,l.Z)(),n=(0,a.Z)();(0,c.G)(t.params.username,3272);const i=n.isAuth&&n.username===t.params.username;return o&&o.data?(0,r.jsx)(s,{isOwnProfile:i,user:o.data}):null}},558774:(e,t,o)=>{o.d(t,{Ol:()=>A,QI:()=>P,ZP:()=>w,pP:()=>b});var n=o(667294),i=o(572551),r=o(301921),s=o(730320),l=o(104258),a=o(430323),c=o(784590),d=o(19121),u=o(444445),_=o(623568),h=o(232843),p=o(396704),m=o(898781),g=o(330899),f=o(883119),x=o(785893);function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends n.Component{constructor(...e){super(...e),y(this,"masonryRef",{current:null}),y(this,"renderPin",(({data:e,itemIdx:t})=>{const{componentType:o,isOwnProfile:n,onClick:i,surface:s,user:l,viewParameter:a,viewType:c}=this.props;switch(e.type){case"module":return e.name===p.o?(0,x.jsx)(p.Z,{}):null;case"pin":default:const d=n?3106:3107;return(0,x.jsx)(f.iP,{onTap:()=>i&&i(e),children:(0,x.jsx)(r.default,{attributionOption:"hide",pin:e,pinId:e.id,surface:null!=s?s:"UserProfilePinGrid",trackingParameters:{contextLogData:{commerce_data:{board_owner_id:null==l?void 0:l.id,pin_is_promoted:(0,_.jL)(e)}},componentType:void 0===o?237:o,slotIndex:t,viewParameter:a||d,viewType:c||4}})})}}))}componentDidUpdate(e){this.props.profilePinView!==e.profilePinView&&this.masonryRef.current&&this.masonryRef.current.reflow()}render(){var e;const{emptyState:t,isGridCentered:o,isOverview:n,isOwnProfile:r,layout:c,limit:d,nativePins:_,onload:p,pins:m,profilePinView:g,showNativePins:y,surface:v,user:P,username:b,renderPin:A}=this.props,{fetchMore:w,isAtEnd:C,isFetching:E,isLoaded:T}=m,S=(null!==(e=m.data)&&void 0!==e?e:[]).filter((e=>"pin"===(null==e?void 0:e.type)));if(T&&p&&p(S?S.length:0),T&&_&&!r&&(!S||!S.length))return null;let I,j;d||n?(I="gridCentered",j={marginTop:12}):o&&(y&&_||!y)?(I="gridCentered",j={marginTop:24}):o&&(I="gridCentered");let z=_?`${b}:pins`:`${b}:pins:native`;z=g?`${z}:${g}`:void 0;const R=r?3106:3107,D=d?()=>{}:w,O="OtherProfilePinGrid"===v||"dense"===g?2/3*u.yF:u.yF,k="OtherProfilePinGrid"===v||"dense"===g?2/3*16:16,L=A||this.renderPin,N=n?(0,x.jsx)(i.default,{cacheKey:z,columnWidth:O,comp:L,gutterWidth:k,isAtEnd:C,isFetching:E,isGridCentered:o,isLoaded:T,items:S,layout:c,loadItems:D,masonryRef:this.masonryRef,paddingStyle:"dense",serverRender:!1,virtualize:!1}):(0,x.jsx)(i.default,{cacheKey:z,columnWidth:O,comp:L,gutterWidth:k,isAtEnd:C,isFetching:E,isGridCentered:o,isLoaded:T,items:S,layout:c,loadItems:w,masonryRef:this.masonryRef}),M=t||(0,x.jsx)(s.Z,{marginTop:r?0:5,textSize:r?"400":"500",children:(0,x.jsx)(l.Z,{subject:"pins",surface:"profile",user:P})});return(0,x.jsx)(a.Z,{component:210,view:4,viewParameter:R,children:(0,x.jsx)(h.H,{value:{onPinCreate:()=>{this.props.pins.refresh()},onPinDelete:()=>{this.props.pins.refresh()}},children:(0,x.jsxs)("div",{className:I,style:j,children:[T&&(S&&0!==S.length?null:M),T&&S?(0,x.jsx)(f.xu,{"data-test-id":"user-profile-pin-grid",children:N}):null,E&&(0,x.jsx)(f.xu,{paddingY:3,position:"relative",children:(0,x.jsx)(f.$j,{accessibilityLabel:this.props.i18n._('Loading Pins on profile', ' - ', ' -- '),show:y&&_||!y})})]})})})}}function P(e){var t,o;const n=(0,m.ZP)(),i=null!==(t=null===(o=(0,g.x)())||void 0===o?void 0:o.profilePinDensity)&&void 0!==t?t:"";return(0,x.jsx)(v,{...e,i18n:n,profilePinView:i})}function b(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{exclude_add_pin_rep:!0,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(P,{...e,pins:o})}function A(e){var t;const o=(0,d.Z)(),n=(0,c.Z)({name:"UserVideoPinsFeedResource",options:{exclude_add_pin_rep:!0,username:null===(t=e.user)||void 0===t?void 0:t.username,field_set_key:o.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item"}});return(0,x.jsx)(P,{...e,pins:n})}function w(e){const t=(0,d.Z)(),o=(0,c.Z)({name:"UserPinsResource",options:{is_own_profile_pins:e.isOwnProfile,username:e.username,field_set_key:t.isPartner&&e.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}});return(0,x.jsx)(P,{...e,pins:o})}y(v,"defaultProps",{isGridCentered:!0})},460465:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(667294),i=o(406379),r=o(430323),s=o(784590),l=o(19121),a=o(558774),c=o(785893);function d({isOwnProfile:e,user:t}){const o=(0,l.Z)(),n=(0,s.Z)({name:"BusinessProfileUserPinsResource",options:{exclude_add_pin_rep:!0,username:t.username,is_own_profile_pins:e,user_id:t.id,field_set_key:o.isPartner&&e?"partner_grid_item":"grid_item"}});return!n.isLoaded||n.data&&0!==n.data.length?(0,c.jsx)(r.Z,{view:4,viewParameter:e?3106:3107,component:210,children:(0,c.jsx)(a.QI,{isOverview:!1,isOwnProfile:e,pins:n,showNativePins:!0,user:t,username:t.username})}):(0,c.jsx)(i.Z,{fullName:t.full_name,isOwnProfile:e,isPartnerProfile:!0})}var u=o(883119);const _=e=>{const{label:t,sublabel:o}=e;return(0,c.jsx)(u.xu,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:(0,c.jsxs)(u.xu,{children:[(0,c.jsx)(u.X6,{size:"400",children:t}),(0,c.jsx)(u.xu,{marginTop:1,children:(0,c.jsx)(u.xv,{children:o})})]})})};var h=o(898781),p=o(86551),m=o(184451),g=o(349700),f=o(357805),x=o(281180),y=o(925927);function v(e){var t,o,r,s;const v=(0,h.ZP)(),P=(0,l.Z)(),b=(0,y.$B)(),A=(0,p.Z)();(0,f.G)(b.params.username,74);const w=(0,x.kW)(),C=P.isAuth?w[P.id]:void 0,E=null!==(t=null==C?void 0:C.scheduled_pin_count)&&void 0!==t?t:null;if(!A.data)return null;const T=P.isAuth&&P.username===b.params.username,S=null!==(o=A.data)&&void 0!==o?o:{},I=E||S.scheduled_pin_count||0,j=T&&P.isPartner&&I>0,z=S.show_creator_profile&&P.isAuth;return(0,c.jsxs)(n.Fragment,{children:[j&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(m.Z,{username:null!==(r=b.params.username)&&void 0!==r?r:""}),(0,c.jsx)(u.W2,{children:(0,c.jsx)(_,{label:v._('Published Pins', 'title for published Pins', 'title for published Pins'),sublabel:(0,g.nk)(v.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null !== (s = S.pin_count) && void 0 !== s ? s : 0, 'Label for the number of pins a user has', 'Label for the number of pins a user has'),{pinCount:S.pin_count})})})]}),z?(0,c.jsx)(d,{isOwnProfile:T,user:S}):(0,c.jsx)(a.ZP,{emptyState:(0,c.jsx)(i.Z,{fullName:S.full_name,isOwnProfile:T}),isOwnProfile:T,showNativePins:!0,user:S,username:b.params.username||""})]})}},767449:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(301921),i=o(623568),r=o(372169),s=o(883119),l=o(785893);function a({commerceData:e,componentType:t,height:o=r.Je,merchant:a,onClick:c,pin:d,slotIndex:u,surface:_,viewParameter:h,viewType:p}){return(0,l.jsx)(s.xu,{height:o,margin:r.iO,width:r.jh,children:(0,l.jsx)(s.iP,{onTap:()=>c(d),children:(0,l.jsx)(n.default,{attributionOption:"hide",pin:d,pinId:d.id,surface:_||"ShoppingGridShippedMetadata",trackingParameters:{contextLogData:{commerce_data:{...e,board_owner_id:a.id,pin_is_promoted:(0,i.jL)(d)}},componentType:t,slotIndex:u,viewParameter:h,viewType:p}})})})}},396704:(e,t,o)=>{o.d(t,{Z:()=>_,o:()=>u});var n=o(667294),i=o(898781),r=o(112690),s=o(19121),l=o(444445),a=o(946984),c=o(883119),d=o(785893);const u="AddPinRep";function _({ctaText:e,handleClick:t,height:o,iconSize:u,textSize:_,component:h}){const p=(0,r.Z)(),m=(0,i.ZP)(),g=(0,s.Z)(),f=(0,a.Z)({shouldStopEventPropagation:!1});(0,n.useEffect)((()=>{p({event_type:120,component:null!=h?h:0,element:10643})}),[p,h]);const x=f((()=>{g.isPartner&&p({event_type:101,component:0,element:10643}),t&&t()}));return(0,d.jsx)(c.xu,{children:(0,d.jsx)(c.iP,{role:"link",onTap:x,href:"/pin-builder/",children:(0,d.jsxs)(c.Zb,{children:[(0,d.jsx)(c.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:o||l.yF,justifyContent:"center",rounding:2,width:o||void 0,children:(0,d.jsx)(c.xu,{color:"default",height:u||40,rounding:"circle",width:u||40,children:(0,d.jsx)(c.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:u||40})})}),(0,d.jsx)(c.xu,{padding:2,children:(0,d.jsx)(c.xv,{color:"subtle",size:_||"300",weight:"bold",children:e||m._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},807068:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(319915),r=o(947599),s=o(898781),l=o(883119),a=o(785893);const c=(0,n.lazy)((()=>o.e(61116).then(o.bind(o,275726))));function d(e){const t=(0,s.ZP)();return(0,a.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,a.jsx)(r.Z,{fallback:(0,a.jsx)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,a.jsx)(l.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,a.jsx)(c,{...e})})})}},631466:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(300267),r=o(259986),s=o(898781),l=o(883119),a=o(894350),c=o(785893);const d=(0,a.Z)((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:o}){const n=(0,s.ZP)(),i=n._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label for button to send this profile');return o?(0,c.jsx)(l.zx,{accessibilityLabel:i,onClick:e,selected:t,size:"lg",text:n._('Share', 'sendProfileButton.button', 'Button to share user profile')}):(0,c.jsx)(r.Z,{accessibilityLabel:i,icon:"share",onClick:e,selected:t})}));var u=o(19121);function _({shownWithinProfileHeader:e,useGestaltButton:t,user:o}){var r;const[s,l]=(0,n.useState)(!1),a=(0,u.Z)(),_=(0,i.Z)({user:o,viewer:a});return(0,c.jsx)(d,{fullName:null!==(r=o.full_name)&&void 0!==r?r:"",gridDescription:"",imageSrc:o.image_large_url,isFlyoutOpen:s,isOwnProfile:_,onFlyoutDismiss:()=>l(!1),onToggleFlyout:()=>l(!s),profileUrl:`/${o.username}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:o.id})}},372169:(e,t,o)=>{o.d(t,{Je:()=>n,dA:()=>r,iO:()=>s,jh:()=>l,s_:()=>i});const n=350,i=134,r=16,s=2,l=236},155582:(e,t,o)=>{o.d(t,{Z:()=>S});var n=o(667294),i=o(6637);var r=o(512465),s=o(966113),l=o(898781),a=o(19121),c=o(349700),d=o(129274),u=o(883119),_=o(785893);const h=s.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function p(e){return e.map((({full_name:e})=>e))}const m=function({users:e,onClose:t,onSubmit:o}){const n=(0,l.ZP)(),i=(0,_.jsx)("strong",{children:(0,r.Z)(p(e),n)},"userlist");return(0,_.jsxs)("form",{method:"post",children:[(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xv,{children:(0,c.nk)(n._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:i})}),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)(u.xv,{children:(0,_.jsx)(u.rU,{inline:!0,href:h,underline:"hover",children:n._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",gap:1,children:[(0,_.jsx)(u.zx,{fullWidth:!0,onClick:t,text:n._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{o()},text:n._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var g=o(174798);const f=s.Z.settings.HELP_BLOCKING,x=s.Z.settings.POLICY_COMMUNITY_GUIDELINES,y=({board:e,flagReason:t,flagType:o,onClose:s,selectedReason:h,status:y,users:v})=>{const P=(0,l.ZP)(),[b,A]=(0,n.useState)({}),{setModalTitle:w,setStatus:C}=(0,d.d)(),E=(0,a.Z)(),{id:T}=E.isAuth?E:{},S=null==e?void 0:e.followed_by_me,I=v[0].explicitly_followed_by_me,j=v.filter((({id:e})=>b[e])),z=j.length>0;(0,n.useEffect)((()=>{(()=>{let e;[g.qb.SUBMITTED,g.qb.PROCESSING].includes(y)?e=P.ngettext('Block this person?', 'Block these people?', j.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):o===g.Vm.CONVERSATION&&(e=y===g.qb.COMPLETED?(0,c.nk)(P._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,r.Z)(p(j),P).join("")}).join(""):P._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),w(e)})()}),[y]),(0,n.useEffect)((()=>{C(z?g.qb.SELECTED:g.qb.STARTED)}),[b]);const R=v.filter((({id:e})=>e!==T)),D=[g.qb.STARTED,g.qb.COMPLETED].includes(y);return(0,_.jsx)("form",{method:"post",children:[g.qb.SUBMITTED,g.qb.PROCESSING].includes(y)?(0,_.jsx)(m,{onClose:()=>{C(g.qb.SELECTED)},onSubmit:()=>(C(g.qb.PROCESSING),Promise.all(Object.keys(b).filter((e=>b[e])).map((e=>function(e){return i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().then((()=>{}),(()=>{}))}(e)))).finally((()=>{C(g.qb.COMPLETED)}))),users:j}):(0,_.jsxs)(u.xu,{padding:8,children:[(0,_.jsx)(u.xu,{children:y!==g.qb.COMPLETED?(()=>{let e,o;return"harassingOther"===h?e=(0,c.nk)(P._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,_.jsx)(u.rU,{inline:!0,href:x,underline:"hover",children:P._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===h?e=P._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===h?e=P._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=P._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin')),o=S&&I?P._('You can also unfollow or block this person.', 'description to block or unfollow', 'description to block or unfollow'):P.ngettext('You can also block this person.', 'You can also block these people.', R.length, 'description to block people', 'description to block people'),(0,_.jsxs)(n.Fragment,{children:[e&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:e})}),(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:o})}),(0,_.jsx)(u.xu,{marginBottom:8,children:R.map((({id:e,full_name:t})=>(0,_.jsx)(u.XZ,{id:"blockPinner"+e,checked:Boolean(b[e]),label:(0,c.nk)(P._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{A({...b,[e]:t})},subtext:P._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},e)))})]})})():z&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{children:P._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,_.jsxs)(u.xu,{children:[y!==g.qb.COMPLETED&&(0,_.jsx)(u.xu,{marginBottom:8,children:(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(P._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{inline:!0,href:f,underline:"hover",children:P._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:D?s:()=>{A(b),C(g.qb.SUBMITTED)},text:D?P._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):P._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function v({flagOptions:e,flow:t,handleClose:o,handleNext:n,selectedReason:i,showPrimaryAction:r,submitButton:s}){const a=(0,l.ZP)();if(t===g.Zw.REPORT){var c;if(g.qb.PROCESSING===status||null!==(c=e.getFlagOption(i))&&void 0!==c&&c.isTerminalReason)return s;if(r)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",disabled:void 0===i,onClick:n,text:a._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===g.Zw.END)return(0,_.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:o,text:a._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}var P=o(121151);const b=s.Z.settings.POLICY_COMMUNITY_GUIDELINES;function A({flow:e,flagReason:t}){const o=(0,l.ZP)();if(e===g.Zw.REPORT){if("attacks"===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:b,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:o._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,_.jsxs)("p",{children:[(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:b+"#sub-section-adult-content",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:b+"#sub-section-dangerous-goods-and-activities",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:b+"#sub-section-violence",children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",children:o._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,_.jsx)(u.xv,{size:"100",children:(0,c.nk)(o._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,_.jsx)(u.rU,{target:"blank",href:b,children:(0,_.jsx)(u.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?o._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):o._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function w(e,t,o){return e.map(((e,n)=>{const{condition:i}=e;return void 0===i||i?function(e,t,o,n){const{text:i,value:r,category:s}=e;return(0,_.jsx)("label",{htmlFor:r,children:(0,_.jsxs)(u.xu,{alignItems:"center",padding:2,display:"flex",children:[(0,_.jsx)(u.EU,{checked:o===r,id:r,onChange:({checked:e})=>t(e,r,s),name:"flagReason",value:r}),(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"200",children:i})})]})},n)}(e,t,o,n):null}))}class C{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const o in e)e[o].forEach((e=>{const n=e.value;if(Object.prototype.hasOwnProperty.call(t,n))throw new Error("Duplicate key in FlagOptions config: "+n);t[n]=e,t[n].parentOption=o}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:o,selectedReason:n}=e;return w(this.config[t],o,n)}}function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class T extends n.Component{constructor(...e){super(...e),E(this,"flagOptions",new C(this.props.flagOptionsConfig)),E(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:o,selectedReason:n}=this.props;return e||(t===g.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:o,selectedReason:n}):t===g.Zw.END?(0,_.jsx)(u.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:o,onCompletedBlock:n}=e;if(this.props.flow!==t)switch(t){case g.Zw.REPORT:o&&o();break;case g.Zw.BLOCK:n&&n()}}render(){const{accessibilityModalLabel:e,aggregated_rich_data_type:t,board:o,flagType:n,flow:i,status:r,modalTitle:s,onClose:l,pin:a,selectedReason:c,submitButton:d,flagReason:h,showPrimaryAction:p,users:m}=this.props;let f=t;if(!f&&a&&a.rich_metadata){const e=a.rich_metadata;["recipe","tutorial"].forEach((t=>{var o;e[t]&&e[t].from_aggregated_data&&null!==(o=e[t].additional_data)&&void 0!==o&&o.url&&(f=t)}))}return(0,_.jsx)(P.ZP,{accessibilityModalLabel:e,heading:s,onDismiss:l,size:"md",footer:i!==g.Zw.BLOCK?(0,_.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(u.xu,{flex:"grow",children:(0,_.jsx)(A,{flagReason:h,flow:i})}),(0,_.jsx)(u.xu,{padding:1,children:i===g.Zw.REPORT?(0,_.jsx)(u.zx,{fullWidth:!0,onClick:void 0===h?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===h?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,_.jsx)(u.xu,{padding:1,children:(0,_.jsx)(v,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:c,showPrimaryAction:!!p,submitButton:d})})]}):void 0,children:(0,_.jsx)(u.xu,{children:i===g.Zw.BLOCK?(0,_.jsx)(y,{board:o,flagReason:h,flagType:n,onClose:l,selectedReason:c,status:r,users:m}):(0,_.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...f?{height:"389px"}:{}}},children:this.renderContent()})})})}}function S(e){const t=(0,l.ZP)();return(0,_.jsx)(T,{...e,i18n:t})}},129274:(e,t,o)=>{o.d(t,{N:()=>c,d:()=>a});var n=o(667294),i=o(425288),r=o(174798),s=o(785893);const{Provider:l,useHook:a}=(0,i.Z)("Flag"),c=({children:e})=>{const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(r.Zw.REPORT),[c,d]=(0,n.useState)(r.qb.STARTED),[u,_]=(0,n.useState)(),[h,p]=(0,n.useState)(),m=(0,n.useMemo)((()=>({flagReason:h,flow:i,status:c,selectedReason:u,modalTitle:t,setFlagReason:p,setFlow:a,setModalTitle:o,setStatus:d,setSelectedReason:_})),[t,i,c,u,h]);return(0,s.jsx)(l,{value:m,children:e})}},428837:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(966338),r=o(794230),s=o(155582),l=o(966113),a=o(898781),c=o(975209),d=o(129274),u=o(883119),_=o(174798),h=o(785893);const p=l.Z.settings.ABOUT_DMCA_PIN_URL,m="policies";const g=(0,i.connect)(null,(function(e){return{reportDidIt:(t,o,n,i,r)=>e((0,c.Th)(t,o,n,i,r))}}))((({aggregatedPinDataId:e,didItDataId:t,onClose:o,pinId:i,reportDidIt:l,username:c,users:g})=>{const f=(0,a.ZP)(),[x,y]=(0,n.useState)([]),[v,P]=(0,n.useState)(),[b,A]=(0,n.useState)(),{flow:w,modalTitle:C,selectedReason:E,setFlow:T,setModalTitle:S,setSelectedReason:I,setStatus:j,status:z}=(0,d.d)();(0,n.useEffect)((()=>{S((()=>{if(w===_.Zw.REPORT)switch(b){case"attacks":return f._('What\'s going on?', 'title for report content flow', 'title for report content flow');case m:return f._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return f._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return f._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(w===_.Zw.END&&x.includes("notUseful"))return f._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""})())}),[x,w,b]);const R=(0,h.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:()=>{if(j(_.qb.PROCESSING),"ignoreThisPin"===E)T(_.Zw.BLOCK),j(_.qb.STARTED);else{const o=[...x,E];y(o),l(e,o,t,v,c),x.includes("notUseful")?(T(_.Zw.END),j(_.qb.STARTED)):(T(_.Zw.BLOCK),j(_.qb.STARTED))}},text:f._('Report content', 'button to report content', 'button to report content')});return(0,h.jsx)(s.Z,{accessibilityModalLabel:f._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===b?(0,h.jsx)(u.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,h.jsxs)(u.xu,{mdColumn:9,children:[(0,h.jsx)(u.xu,{padding:2,marginStart:2,children:(0,h.jsx)(u.xv,{align:"center",color:"default",weight:"bold",children:f._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,h.jsx)(u.xu,{padding:2,children:(0,h.jsx)(u.zx,{role:"link",href:(0,r.Z)(p,{pin_id:i,user_did_it_id:t}),color:"red",text:f._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:_.Vm.DID_IT,flow:w,modalTitle:C,onClose:o(!0),onNext:()=>{A(E),y([...x,E]),I()},onRevert:()=>{const e=x[x.length-1],t=x.slice(0,-1);I(e),A(t[t.length-1]),y(t),P(),j(void 0===e?_.qb.STARTED:_.qb.SELECTED)},onSelectReason:(e,t,o)=>{e&&(I(t),j(_.qb.SELECTED),P(o))},showPrimaryAction:"IP"!==b,submitButton:R,status:z,selectedReason:E,flagReason:b,users:g,flagOptionsConfig:{__default:[{text:f._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:f._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:m,isTerminalReason:!1},{text:f._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:f._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:f._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:f._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:f._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:f._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:f._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:f._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:f._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:f._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}))},174798:(e,t,o)=>{o.d(t,{Vm:()=>r,Zw:()=>n,qb:()=>i});const n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},r={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},217508:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(883119),r=o(785893);function s({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:o,size:s=20}){const l=(0,n.ZP)();return(0,r.jsx)(i.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:s,height:s,rounding:"circle",justifyContent:"center",children:(0,r.jsx)(i.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=o?o:s/2})})}},755506:(e,t,o)=>{o.d(t,{AH:()=>r,CK:()=>i,Fi:()=>n,wS:()=>s});const n=({i18n:e,isLego:t,pin:o,useGridTitleOrRichSummary:n})=>{var i;const r=o.link_domain,s=o.native_creator,l=o.rich_metadata,a=o.rich_summary,c=o.attribution;let d,u,_,h,p,m,g,f,x=t?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),y=e._('Visit', 'pin outbound link text', 'pin outbound link text'),v="",P="",b=!1;if(s?f=s:r?(f=r.official_user,P=o.domain,b=!0):(f=o.origin_pinner||o.pinner,o.origin_pinner&&(b=!0)),b&&null!==(i=f)&&void 0!==i&&i.username?(m=`/${f.username}/`,g=f.full_name):g=P,!r||l&&l.recipe&&l.recipe.from_aggregated_data)x=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation');else{const n=!!(l&&l.recipe&&l.recipe.name&&l.recipe.categorized_ingredients);let i;l&&l.products&&l.products[0]&&(i=!!(l&&l.products[0].name&&l.products[0].offer_summary));const r=!(!l||!l.article),s=!(!l||!l.tutorial);var A,w,C;if(i)x=e._('Product sold by ', 'pin annotation', 'pin annotation'),h=null==l||null===(A=l.products)||void 0===A?void 0:A[0].offer_summary,p=null==l||null===(w=l.products)||void 0===w?void 0:w[0].shipping_info,v=null==l||null===(C=l.products)||void 0===C?void 0:C[0].name;else if(s)t&&(x=e._('From ', 'pin annotation', 'pin annotation')),x=e._('Saved from ', 'pin annotation', 'pin annotation');else if(n){var E,T,S,I;x=e._('Recipe from ', 'pin annotation', 'pin annotation'),y=e._('Make it ', 'pin outbound link text', 'pin outbound link text'),v=null==l||null===(E=l.recipe)||void 0===E?void 0:E.name,u=null==l?void 0:l.closeup_description,_=null!==(T=null==l?void 0:l.recipe)&&void 0!==T?T:null,null!==(S=_)&&void 0!==S&&null!==(I=S.aggregate_rating)&&void 0!==I&&I.rating_value&&"number"==typeof _.aggregate_rating.review_count&&(null!=l&&l.site_name||o.domain)?_.aggregate_rating.review_source=(null==l?void 0:l.site_name)||o.domain:_&&(_.aggregate_rating=null)}else if(r){var j;d=(null==l||null===(j=l.article)||void 0===j?void 0:j.date_published)&&new Date(l.article.date_published),v=null==l?void 0:l.title,x=e._('Article from ', 'pin annotation', 'pin annotation'),y=e._('Read it ', 'pin outbound link text', 'pin outbound link text')}}if(!h&&a){let t;var z,R,D;if(a&&a.products&&a.products[0])if(t=!!(a&&a.products[0].name&&a.products[0].offer_summary),t)x=e._('Product sold by ', 'pin annotation', 'pin annotation'),h=null===(z=a.products)||void 0===z?void 0:z[0].offer_summary,p=null===(R=a.products)||void 0===R?void 0:R[0].shipping_info,v=null===(D=a.products)||void 0===D?void 0:D[0].name}const O=(o.unified_user_note||"").trim();v=o.grid_title||o.title;let k=v;if(!k&&n){const e=o.grid_title;k="string"==typeof e?e:(o.rich_summary||{}).display_name}u=o.closeup_unified_description&&o.closeup_unified_description.trim();return{actionButtonText:y,avatar:f&&"string"!=typeof f&&(f.image_medium_url||f.image_small_url)||"",pinArticleDate:d,pinAttribution:c,pinCreditLink:m,pinCreditPrefix:x,pinCredit:g,pinDescription:u,pinDownloadTitle:k,pinProduct:h,pinShippingInfo:p,pinTitle:v,pinCategory:o.category,pinRecipe:_,sourceUser:f,trimmedUserNote:O}},i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140},r=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com"),s=e=>{if(!e)return Object.freeze({});let t;return e.native_creator?(t=e.native_creator,t):e.link_domain?(t=e.link_domain.official_user,t):(t=e.origin_pinner||e.pinner,t)}},27255:(e,t,o)=>{o.d(t,{Z:()=>n});const n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},155378:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n=o(667294),i=o(319915),r=o(172071),s=o(707853),l=o(6637),a=o(947599),c=o(941646),d=o(499128),u=o(50286),_=o(898781),h=o(784590),p=o(19121),m=o(349700),g=o(798748),f=o(80816),x=o(407043),y=o(343341),v=o(883119),P=o(785893);const b=(0,n.lazy)((()=>Promise.all([o.e(80582),o.e(13047)]).then(o.bind(o,380582)))),A=new v.H3([s.Z]);function w({handleComplete:e,isNag:t}){const o=(0,u.ZP)(),s=(0,p.Z)(),{logContextEvent:w}=(0,x.v)(),C=(0,_.ZP)(),[E,T]=(0,n.useState)(!0),[S,I]=(0,n.useState)(!1),{showOneToast:j}=(0,y.F9)(),z=(0,h.Z)({name:"UserResource",options:{user_id:s.id||""}}),R="desktop"===o;(0,n.useEffect)((()=>{w({event_type:13,component:13716,view_type:474})}),[]);const D=(0,P.jsxs)(v.xv,{align:R?"start":"center",children:[C._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.nk)(C._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,P.jsx)(v.xv,{inline:!0,weight:"bold",children:(0,P.jsx)(v.rU,{href:g._I,inline:!0,target:"blank",underline:"hover",children:C._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),O=(0,P.jsxs)(v.kC,{direction:R?"row":"column",gap:R?2:4,children:[(0,P.jsx)(v.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11984}),r.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}),l.ZP.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:f.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then((()=>{z.refresh(),j((({hideToast:e})=>(0,P.jsx)(d.ZP,{duration:3e3,onHide:e,text:C._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:R?"lg":"md",text:C._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,P.jsx)(v.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11985}),r.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}),l.ZP.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:f.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then((()=>{z.refresh(),j((({hideToast:e})=>(0,P.jsx)(d.ZP,{duration:3e3,onHide:e,text:C._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')}))),e()}))},size:R?"lg":"md",text:C._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,P.jsx)(v.zx,{fullWidth:!0,onClick:()=>{w({event_type:101,component:13716,view_type:474,element:11986}),I(!0),R||T(!1)},size:R?"lg":"md",text:C._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,P.jsxs)(n.Fragment,{children:[E&&(R?(0,P.jsx)(v.xu,{paddingX:2,smPaddingX:6,paddingY:2,smPaddingY:t?2:0,children:(0,P.jsxs)(v.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",display:"flex",direction:"column",smDirection:"row",justifyContent:"between",marginBottom:t?0:6,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,children:[(0,P.jsx)(v.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:D}),(0,P.jsx)(v.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:O})]})}):(0,P.jsx)(v.mh,{zIndex:A,children:(0,P.jsx)(v.xu,{bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,P.jsxs)(v.xu,{alignItems:"center",borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[D,(0,P.jsx)(v.xu,{marginTop:4,minWidth:240,children:O})]})})})),S&&(0,P.jsx)(i.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,P.jsx)(a.Z,{children:(0,P.jsx)(c.Z,{id:"settings-modal",children:(0,P.jsx)(b,{dismissIcon:"cancel",onClose:()=>I(!1),handleComplete:e})})})})]})}},918301:(e,t,o)=>{o.d(t,{CB:()=>h,y9:()=>_});var n=o(667294),i=o(121151),r=o(6637),s=o(898781),l=o(883119),a=o(785893);const c=({onConfirm:e})=>{const t=(0,s.ZP)(),[o,c]=(0,n.useState)(!1),d=()=>{c(!0),r.ZP.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,a.jsx)(i.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,a.jsxs)(l.kC,{justifyContent:"end",gap:2,children:[o?(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:o,onClick:d}):(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:o,onClick:d}),(0,a.jsx)(l.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,a.jsx)(l.xu,{padding:8,children:(0,a.jsx)(l.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};var d=o(425288);const{Provider:u,useHook:_}=(0,d.Z)("EmailVerificationReminderModal");function h({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showEmailVerificationReminderModal:()=>{o(!0)}})),[]);return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(u,{value:i,children:e}),t&&(0,a.jsx)(c,{onConfirm:()=>{o(!1)}})]})}},509860:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(567831),i=o(794230),r=o(107193),s=o(704115),l=o(6637);const a={open(e){var t;const o=(c=e,a._validParams.reduce(((e,t)=>(c&&Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]),e)),{}));var c;const d=a._getDialogType(e),u=a.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),_=e.object_type&&e.object_id&&"feed"===d;let h=(0,n.Z)(e.path);const p=(0,s.Z)();if(p.ptrf&&(h=(0,i.Z)(h,{ptrf:p.ptrf})),_&&(h=(0,i.Z)(h,{fb_ref:u})),o.method=d,"feed"===o.method){const t=a.getWindowOptions(e.width||580,e.height||400);let n="http://www.facebook.com/sharer/sharer.php?u="+h;o.picture&&(n+="&picture="+o.picture),o.name&&(n+="&title="+o.name),o.description&&(n+="&description="+o.description),o.caption&&(n+="&caption="+o.caption),window.open(encodeURI(n),"sharer",t)}else"send"===o.method?o.link=h:"share"===o.method&&(o.href=h),(0,r.default)((t=>{t.getLoginStatus((()=>{if("send"===o.method){t.ui(o);let n,i=10;const r=setInterval((()=>{n=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let o=0;o<t.length;o+=1){const e=t[o].parentNode;e&&e.removeChild(t[o])}return e[0]}(),!n&&i||(clearInterval(r),n&&a.executeMessengerCallback(n,e.callback)),i-=1}),1e3)}else"share"===o.method&&t.ui(o,(t=>{_&&t&&!t.error_message&&l.ZP.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:u}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let o=10;const n=setInterval((()=>{"0px"!==e.style.width&&o||(clearInterval(n),e.style.width="575px"),o-=1}),1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>a._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const o=e||580,n=t||400,i=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+o+",height="+n+",left="+Math.round((i-o)/2)+",top="+(r>n?Math.round((r-n)/2):0)}},c=a},558068:(e,t,o)=>{o.d(t,{Hv:()=>a,aX:()=>u,nK:()=>_});var n=o(667294),i=o(425288),r=o(925927),s=o(785893);const{Provider:l,useHook:a}=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var o;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(o=e.current)||void 0===o?void 0:o.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=a();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function _({children:e}){const t=(0,r.k6)(),o=(0,r.TH)(),i=(0,r.$B)(),a={forward:[],current:{action:t.action,location:o,match:i},previous:[]},[c,u]=(0,n.useReducer)(d,a);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:o,match:i})}),[o]),(0,s.jsx)(l,{value:c,children:e})}},580744:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(509860),i=o(567831),r=o(794230);function s(e,t,o){const n=function(e,t){const o=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((o-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)}(t,o);window.open(e,void 0,n)}const l={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s(l._getWindowUrl(e.share_path,e.share_text),l.DIALOG_WIDTH,l.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,i.Z)(e):void 0,text:t})},a=l;var c=o(6637);const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){s(d._getWindowUrl(e.tweet_path,e.tweet_text),d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,i.Z)(e):void 0,text:t||void 0})},u=d,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const o=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category,r=e.object_id;return c.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:i,invite_object:o,invite_channel:n},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),o=e.invite_channel,n=null==e.invite_category?3:e.invite_category,i=e.orbac_subject_id;if(10===n&&e.path){return c.ZP.create("ShareLinkResource",{invite_category:n,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const r=e.object_id;return c.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:n,invite_object:t,invite_channel:o},object_id:r,...i?{orbac_subject_id:i}:{}}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite(e){const{options:t,unauthId:o,viewer:i}=e;return _.createShareInviteData(t).then((e=>{const r=e.invite_url,s=e.invite_code;if(r){const l={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:r,picture:t.picture,callback(e){e&&!e.error_message&&_._logShareInvite(t,s)}};n.default.open({...l,display:"popup",unauthId:o,viewer:i})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((o=>{const n=o.invite_url,i=o.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r.trim()||(r=`${o.title}\n`),n&&u.openDialog({tweet_path:n,tweet_text:r}),_._logShareInvite(e,i),Promise.resolve(o)}),(e=>Promise.reject(e)))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((o=>{const n=o.invite_url,i=o.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r.trim()||(r=`${o.title}\n`),n&&a.openDialog({share_path:n,share_text:r}),_._logShareInvite(e,i),Promise.resolve(o)}),(e=>Promise.reject(e)))},shareFbMessengerInvite(e){const{options:t,unauthId:o,viewer:i}=e;return _.createShareInviteData(t).then((e=>{const r=e.invite_url,s=e.invite_code;return r&&n.default.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:r,picture:t.picture,callback(e){e&&e.success&&_._logShareInvite(t,s)},unauthId:o,viewer:i}),Promise.resolve(e)}),(e=>Promise.reject(e)))}},h=_},619937:(e,t,o)=>{o.d(t,{$N:()=>b,GY:()=>x,MZ:()=>m,NR:()=>v,Vn:()=>y,fm:()=>n,kM:()=>r,q6:()=>i,qp:()=>f,uV:()=>P,vJ:()=>g});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},i={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},s="Shopify",l="WordPress",a="WooCommerce",c="Weebly",d="Tealium",u="Magento",_="Squarespace",h="Ecwid",p="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},g={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[s]:m.SHOPIFY,[a]:m.WOO_COMMERCE,[l]:m.WORDPRESS,[_]:m.SQUARESPACE,[c]:m.WEEBLY,[d]:m.TEALIUM,[u]:m.MAGENTO,[h]:m.ECWID,[p]:m.BIG_COMMERCE},f={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},x={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},v={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},P=604800,b={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},77601:(e,t,o)=>{o.d(t,{Z:()=>i});const n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:t,run:o}){const i=n();let r=0,s=null;const l=()=>{const a=n()-i,c=a-r;if(t===1/0)o(0,a,c);else{const e=a/t;if(e>=1)return void o(1,a,c);o(e,a,c)}r=a,s=e.requestAnimationFrame(l)};return{start:()=>{s=e.requestAnimationFrame(l)},cancel:()=>{s&&(e.cancelAnimationFrame(s),s=null)}}}},830944:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(27255);function i(e){return e.privacy===n.Z.BoardPrivacy.SECRET}},366284:(e,t,o)=>{o.d(t,{G6:()=>r,i7:()=>s,oi:()=>n,u$:()=>i,un:()=>a,vU:()=>l});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function r(e){return i(e)===n.SAFARI}function s(e){return i(e)===n.CHROME}function l(e){return i(e)===n.FIREFOX}function a(e){return i(e)===n.EDGE}},752403:(e,t,o)=>{o.d(t,{Bu:()=>x,Dm:()=>l,Fp:()=>p,I:()=>P,NG:()=>g,QP:()=>u,S4:()=>c,Xe:()=>_,_f:()=>f,eT:()=>y,hm:()=>v,k$:()=>h,lz:()=>m,st:()=>d,yQ:()=>a,ym:()=>A});var n=o(642345);const i=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),r=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),s=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(i).map((e=>i[e])),...Object.keys(r).map((e=>r[e]))],a=[...Object.keys(s).map((e=>s[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],_={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="storefront_inspirational_badges_web",p="storefront_inspirational_badges_colors",m="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function x({areBadgesEnabled:e,verifiedMerchant:t}){var o,n;const i=null==t?void 0:t.isVerifiedMerchant,r=null==t||null===(o=t.inspirational_signal)||void 0===o?void 0:o.is_inspirational,s=null==t||null===(n=t.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(e&&i&&r&&s)}function y(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function v(e){return e.profile_badges||[]}function P(e,t,o){return t&&o?t.map((e=>o.find((t=>t.id===e.trim())))).filter(Boolean):[]}function b(e){const t=(0,n.oo)(e);if(!t)return"white";const[o,i,r]=t;return(0,n.DW)(o,i,r)<=n.I?"white":"black"}function A(e){const t=e||u[0];return{backgroundColor:t,color:b(t)}}},834911:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(835209),i=o(341732);function r({carouselData:e,images:t,richMetadata:o,richSummary:r,shouldUnifyImageSizes:s,additionalImages:l}){const a=(0,n.Z)({richPinData:o||r});return a&&l&&l.length>0?(0,i.Z)(null,l,e&&e.index,s,a.id):a&&a.additional_images&&a.additional_images.length>0?(0,i.Z)(t,a.additional_images,e&&e.index,s,a.id):e||void 0}},341732:(e,t,o)=>{o.d(t,{Z:()=>r});const n=["236x","474x","564x","736x"];function i(e){function t(e,{imageKey:t,height:o,width:n}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:o,width:n}}}),e}const o=n.map((function(t){const o=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:o,width:n}}));return e.map((e=>o.reduce(t,e)))}function r(e,t,o,n,r){const s=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],l=e?[{images:e},...s]:s;return{carousel_slots:n?i(l):l,index:o||0,id:r}}},768559:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(826067);const i=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=(e,t,o,s)=>{var l;if(!e)return"";let a="";const c=t.board&&t.board.url;switch(e){case"/":case"/homefeed/":return"UserHomefeedResource";case t.pinner&&`/${t.pinner.username}/pins/`:return"UserPinsResource";case t.pinner&&`/${t.pinner.username}/`:case/\/_activity\//.test(e)&&e:return"UserActivityPinsResource";case/\/_created\//.test(e)&&e:return t.story_pin_data_id?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(e)&&e:return"UserDiscoveredPinsResource";case/\/_shop\//.test(e)&&e:return"StoreFrontFeedResource";case/\/_saved\//.test(e)&&e:return"BoardlessPinsResource";case t.pinner&&`/${t.pinner.username}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(e)&&e:return"VisualLiveSearchResource";case/\/pin\//.test(e)&&e:a="/pin/";const d=r(e,a);if(t.id!==d)return t.call_to_create_source_pin_id?`ApiResource_callToCreatePins_${d}`:`RelatedPinFeedResource_${d}`;break;case/\/search\//.test(e)&&e:if(o){return`SearchResource_${((0,n.mB)(o,{shouldDecode:!1}).q||"").toLowerCase()}`}if(s)return`SearchResource_${encodeURIComponent(s.q||"").toLowerCase()}`;break;case/\/discover\/article\//.test(e)&&e:a="/discover/article/";return`ExploreArticleResource_${r(e,a)}`;case/\/categories\//.test(e)&&e:a="/categories/";return`CategoryFeedResource_${r(e,a)}`;case/\/discover\/topics\//.test(e)&&e:return"CategoryFeedResource";case/\/news_hub\//.test(e)&&e:a="/news_hub/";return`NewsHubDetailsResource_${r(e,a)}`;case/\/_tools\/more-ideas\//.test(e)&&e:return"BoardContentRecommendationResource";case/\/topics\//.test(e)&&e:a="/topics/";return`TopicFeedResource_${r(e,a)}`;case t.pinner&&`/${t.pinner.username}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(e)&&e:a="/source/";return`DomainFeedResource_${r(e,a)}`;case/\/explore\//.test(e)&&e:a="/explore/";return`SearchResource_${r(e,a)}`;case c:case!!c&&/\/more_ideas\//.test(e)&&e:return"BoardFeedResource";case c&&e.indexOf(c)>-1&&e:return"BoardSectionPinsResource";case/\/following\//.test(e)&&e:return"FollowingFeedResource";case/\/brand_catalog\//.test(e)&&e:return"BrandCatalogFeedResource";case i.test(e)&&e:return`TodayArticleFeedResource_${(null===(l=e.match(i))||void 0===l?void 0:l[2])||"unknown"}`;case/\/today\//.test(e):return"TodayTabResource";case/\story_feed\//.test(e)&&e:if(o){const{feed_type:e,request_params:t}=(0,n.mB)(o);return`StoryFeedResource_${e}_${t}`}break;case/\/your-shop\//.test(e)&&e:return"PersonalBoutiqueResource"}return""},l=(e,t,o)=>{if(!e||!e.tracking_params||!t)return;if(!e.tracking_params_map)return`${e.tracking_params}~0`;const{pathname:n,search:i,query:r}=t,l=s(n,e,i,r),a=e.tracking_params_map||{},c=Object.keys(a);let d;if((n||"").startsWith("/pin/")){const e=c.find((e=>"PinResource"!==e));d=e?a[e]:a.PinResource}else d=a[l];let u;if(!d&&o&&o.length){const t=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);u=s(t,e,i,r),d=a[u]}return d||(d=`${e.tracking_params||""}~0`),d}},642345:(e,t,o)=>{o.d(t,{DW:()=>l,I:()=>s,oo:()=>r,vq:()=>i});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},i=(e,t,o)=>"#"+n(e)+n(t)+n(o),r=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},s=.18,l=(e,t,o)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(o/255)**2.2},367216:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(391254),r=o(898781),s=o(883119),l=o(785893);function a({onClick:e,onAnchorRefSet:t,isEmojiTrayOpen:o}){const[a,c]=(0,n.useState)(!1),d=(0,s.JZ)(),u=(0,r.ZP)(),_=a&&!d?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"};return(0,l.jsx)(s.xu,{display:"flex",justifyContent:"center",color:o?"lightGray":"transparent",rounding:"circle",children:(0,l.jsxs)(s.iP,{accessibilityLabel:u._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button'),rounding:"circle",onTap:()=>{null==e||e()},fullWidth:!1,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:[(0,l.jsx)(i.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,l.jsx)(s.xu,{ref:t,display:"flex",alignContent:"center",dangerouslySetInlineStyle:{__style:_},width:24,height:30,children:"😃"})]})})}},541776:(e,t,o)=>{o.d(t,{LH:()=>i,Rv:()=>r,TJ:()=>s,iB:()=>n,pW:()=>l});const n=48,i=n+8,r=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),s="comment_featured_ids",l="did_it_featured_ids"},512465:(e,t,o)=>{o.d(t,{Z:()=>d,w:()=>u});var n=o(349700);const i=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),r=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),s=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),l=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),a=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)');function d(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(r(t),o);case 3:return(0,n.nk)(s(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'))(t),o)}}function u(e,t){const o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,n.nk)(i(t),o);case 2:return(0,n.nk)(r(t),o);case 3:return(0,n.nk)(s(t),o);case 4:return(0,n.nk)(l(t),o);case 5:return(0,n.nk)(a(t),o);case 6:return(0,n.nk)(c(t),o);case 7:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'))(t),o);default:return(0,n.nk)((e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'))(t),o)}}},81636:(e,t,o)=>{o.d(t,{Q:()=>l,Z:()=>a});var n=o(667294),i=o(112690),r=o(780280),s=o(385740);function l(e,t){const{setViewContextData:o}=(0,s.sV)(),{requestIdentifier:l}=(0,r.B)(),a=(0,i.Z)();(0,n.useEffect)((()=>{var t;e&&(o({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),a({...e,event_type:13,request_identifier:l}))}),[t])}function a(e){const{children:t,log:o}=e;return l(o),t||null}},425288:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(785893);function r(e,t){let o=e.slice(1);if(o=o.endsWith("Context")?o:`${o}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${o}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${o}`,messageDisplayName:`${e[0].toUpperCase()}${o}`}}function s(e,t){const o=(0,n.createContext)(t),{propsDisplayName:s,messageDisplayName:l}=r(e);o.displayName=l;const a=o.Provider,c=({children:e})=>{const t=(0,n.useContext)(o);if(void 0===t)throw new Error(`${l}Consumer must be used within a ${l}Provider.`);return e(t)},d=()=>(0,n.useContext)(o);function u(t){const{hocDisplayName:o}=r(e,String(t.displayName||t.name)),n=e=>(0,i.jsx)(c,{children:n=>{if(void 0===n)throw new Error(`${o} must be used within a ${l}Provider.`);if(e[s])throw new Error("Parent Component and Context are passing to the component the same variables.");const r={[s]:n};return(0,i.jsx)(t,{...e,...r})}});return n.displayName=o,n}return a.displayName=`${l}Provider`,c.displayName=`${l}Consumer`,u.displayName=`${l}HOC`,{Provider:a,Consumer:c,MaybeConsumer:({children:e})=>e((0,n.useContext)(o)),useMaybeHook:d,useHook:function(){const e=d();if(void 0===e)throw new Error(`use${l} must be used within a ${l}Provider.`);return e},deprecatedHOC:u}}},782534:(e,t,o)=>{o.d(t,{Z:()=>s,k:()=>i.k});var n=o(780280),i=o(451820),r=o(785893);const s=({dateFormatType:e,useUTC:t=!0,value:o})=>(0,r.jsx)(n.LC,{children:n=>(0,i.Z)(n.locale,o,e,t)})},202139:(e,t,o)=>{o.d(t,{DH:()=>n,F4:()=>s,FS:()=>i,N1:()=>d,N9:()=>a,UK:()=>r,VL:()=>l,v6:()=>c});const n=1e3,i=60*n,r=60*i,s=24*r,l=7*s,a=30*s,c=31*s,d=365*s},451820:(e,t,o)=>{o.d(t,{Z:()=>i,k:()=>n});const n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour"};function i(e,t,o,i=!0){const r=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(o);i&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)}},722767:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(973935);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s extends n.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const l=s},11363:(e,t,o)=>{o.d(t,{Bx:()=>i,N4:()=>s,is:()=>l,lt:()=>n,oM:()=>r});const n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),r=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),l=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},780679:(e,t,o)=>{o.d(t,{g:()=>s,t:()=>r});var n=o(667294);const i=(0,n.createContext)(null),r=i.Provider,s=()=>(0,n.useContext)(i)},946984:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(11363),r=o(154391);const s=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:o,limitedLoginModalSubheader:s}=(0,r.H)(),{shouldStopEventPropagation:l}=e,a="AUTH"===o.type,c=(0,n.ZP)();return a?e=>e:(e,o)=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),l&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0),s&&(o?s.setText(o):s.setText((0,i.lt)(c)))}}},274319:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(223815),r=o(934523),s=o(77601),l=o(883119),a=o(785893);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends n.Component{constructor(...e){super(...e),c(this,"state",{animation:null,visible:!1}),c(this,"setRef",(e=>{this.element||(this.element=e,null==e||e.addEventListener("dragover",this.handleDragOver),null==e||e.addEventListener("dragleave",this.handleDragLeave))})),c(this,"handleDragOver",(()=>{const{placement:e}=this.props;if(!this.state.animation){const t="top"===e?-1:1,o=(0,s.Z)({window,duration:1/0,run:(e,o,n)=>{const i=o<500?.8:1.2000000000000002;window.scrollTo(0,window.scrollY+i*t*n)}});o.start(),this.setState({animation:o})}})),c(this,"handleDragLeave",(()=>{const{animation:e}=this.state;e&&(e.cancel(),this.setState({animation:null}))})),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout((()=>this.setState({visible:!0})),500)}componentWillUnmount(){const e=this.element,{animation:t}=this.state;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),t&&t.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){const{height:e,placement:t}=this.props,{visible:o}=this.state;return(0,a.jsx)(l.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,a.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){const t=e?0:r.hu;return(0,a.jsx)(i.Z,{children:(0,a.jsx)(l.mh,{children:(0,a.jsxs)(l.xu,{children:[(0,a.jsx)(d,{placement:"top",height:120+t}),(0,a.jsx)(d,{placement:"bottom",height:120})]})})})}},583421:(e,t,o)=>{o.d(t,{Z:()=>d,y:()=>l});var n=o(667294),i=o(60598),r=o(708206),s=o(785893);const l={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};const a={hover:({index:e,onDragHover:t},o,n)=>{t(e,function(e,t){const o=t.targetEl;if(!(o&&o instanceof HTMLElement))return null;const{x:n,y:i}=e.getClientOffset(),{left:r,right:s,top:l,bottom:a,width:c,height:d}=o.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(r+s)/2,y:i-(l+a)/2},boundingBox:{width:c,height:d}}}(o,n))}};class c extends n.Component{render(){const{children:e,connectDragSource:t,connectDropTarget:o,isDragging:n,isDraggingInternal:i}=this.props;return t(o((0,s.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:n||i?0:1},children:e})))}}const d=(0,r.compose)((0,i.GR)((e=>e.type),a,(e=>({connectDropTarget:e.dropTarget()}))),(0,i.Ej)((e=>e.type),{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},((e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}))))(c)},278380:(e,t,o)=>{o.d(t,{Lz:()=>n,TI:()=>i,X3:()=>r});function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function i({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:o}){const n=o?.5*t:0;return Math.abs(e)<n/2?"center":e<0?"left":"right"}function r({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:o}){if("center"===t||e===o)return e;const n="left"===t;return e<o===n?e:n?e-1:e+1}},345221:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(60598),i=(o(583421),o(266898)),r=o(708206);const s=e=>t=>(0,r.compose)(i.Z,(0,n.GR)(e,{},((e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}))))(t)},124237:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(607187),i=o.n(n);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,o){const n=i()(e);return r.showHtmlError(n,t,o)},r.showHtmlError=function(e,t,o){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,o)};const s=r},121093:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(966338),r=o(332611),s=o(242923);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:o,viewExperience:n,viewExperienceObject:i}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",i(e)):o?n(e.placement_id,e.experience_id,o):n(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:o,experience:n,isBackendExperience:i,preventRemoval:r,targeting:s}=this.props,l=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:a}=n||{},c=r||2===l;(1===l||c)&&e&&a&&(i?o(n,c):s?t(e,a,c,s):t(e,a,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,a]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:o,isBackendExperience:n,preventRemoval:i,targeting:r}=this.props,{placement_id:s,experience_id:l}=o||{};o&&!this.state.hasDismissed.includes(l)&&(n?t(o):r?e(s,l,!!i,r):e(s,l,!!i),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:o,predicate:n,transitionType:i}=this.props,{experience_id:r,type:s}=e;if(t&&t.includes(r))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(o&&o.includes(s))return!0;if(i&&i===s)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,o=this.props.experience;o&&this.shouldRenderExperience()&&(t&&t.experience_id===o.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:o}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...o?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}l(a,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,i.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,o,n,i)=>e((0,r.CK)(t,o,n,!1,{},i)),completeExperienceObject:(t,o)=>e((0,s.Tl)(t,o)),dismissExperience:(t,o,n,i)=>e((0,r.Qu)(t,o,n,void 0,i)),dismissExperienceObject:t=>e((0,s.CF)(t)),viewExperience:(t,o,n)=>e((0,r.UT)(t,o,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,s.dy)(t))})))(a)},701500:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(249647),r=o(570470),s=o(883119),l=o(785893);class a extends n.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:o,zIndex:n}=this.props;return(0,l.jsx)(r.Z,{anchor:e,onTouch:t,onMouseEnter:o,zIndex:n})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:o,handleComplete:n}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:r,mainText:a,idealDirection:c="down"}=t,d=i&&o&&r&&n;return(0,l.jsx)(s.J2,{anchor:e,color:"blue",idealDirection:c,onDismiss:o,shouldFocus:!1,showCaret:!0,size:"flexible",children:(0,l.jsxs)(s.xu,{maxWidth:284,padding:3,width:"max-content",children:[(0,l.jsx)(s.xv,{color:"inverse",overflow:"breakWord",weight:"bold",children:a}),d?(0,l.jsxs)(s.xu,{marginTop:2,display:"flex",alignItems:"center",children:[(0,l.jsx)(s.xu,{column:6,marginEnd:1,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"transparentWhiteText",onClick:e=>o(e),size:"md",text:String(i)})}),(0,l.jsx)(s.xu,{column:6,children:(0,l.jsx)(s.zx,{fullWidth:!0,color:"white",size:"md",text:String(r),onClick:n})})]}):null]})})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var c=o(70061),d=o(764990),u=o(123159);function _({anchor:e,anchorElementRef:t,children:o,containerBoxConfig:r,experience:_,isHidden:h,onCompleteClick:p,zIndex:m}){var g;const{completeExperience:f,dismissExperience:x,experiences:y,viewExperience:v}=(0,u.M)(),P=(({anchor:e,anchorExperiences:t,passedExperience:o})=>o||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(y).reduce(((e,t)=>(8===t.type&&(e[(0,d.A0)(t)]=t),e)),{}),passedExperience:_}),b=(null==P||null===(g=P.display_data)||void 0===g?void 0:g.delay)||0,[A,w]=(0,n.useState)(!!b);if((0,n.useEffect)((()=>{if(b>0&&A){const e=setTimeout((()=>{w(!1)}));return()=>clearTimeout(e)}return()=>{}}),[b,A]),(0,n.useEffect)((()=>{!A&&P&&v(P.placement_id,P.experience_id)}),[A,P]),!P||A||h)return n.Children.only(o);const C=(e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,i.Z)(c.Z,!0)(t)})(P),E=()=>{var e;null!==(e=P.display_data)&&void 0!==e&&e.complete_on_hover&&f(P.placement_id,P.experience_id)};return(0,l.jsxs)(s.xu,{position:"relative",height:null==r?void 0:r.height,display:null==r?void 0:r.display,children:[(0,l.jsx)(s.iP,{onMouseEnter:E,onTap:()=>{p&&p(),C.skipComplete||f(P.placement_id,P.experience_id)},children:n.Children.only(o)}),(0,l.jsx)(a,{anchor:t||null,handlePulsarCompleteOnHover:E,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),x(P.placement_id,P.experience_id)},pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,zIndex:m})]})}},123159:(e,t,o)=>{o.d(t,{F:()=>_,M:()=>u});var n=o(667294),i=o(966338),r=o(708206),s=o(957191),l=o(425288),a=o(332611),c=o(785893);const{Provider:d,useHook:u}=(0,l.Z)("ExperienceContext");function _({children:e}){const[t,o]=(0,n.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const o={...e};return delete o[t.payload],o}return e}),{}),l=(0,i.useDispatch)(),u=(0,i.useSelector)((e=>e.experiences)),_=(0,n.useMemo)((()=>{const e=(0,r.bindActionCreators)({completeExperience:a.CK,dismissExperience:a.Qu,fetchAllExperiences:a.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:a.pz,mountPlacement:a.N,triggerExperimentsForPlacement:a.kd,viewExperience:a.UT},l);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),o({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{o({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[l,o]),h=(0,n.useMemo)((()=>({experiences:u,mountedPlacements:t,..._})),[u,t,_]);return(0,c.jsx)(d,{value:h,children:e})}},48061:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var n=o(667294),i=o(155378),r=o(249647),s=o(6663),l=o(898781),a=o(785893);const c=function({color:e="default",handleDismiss:t=(()=>{}),header:o="",headerSubtitle:n="",dismissButtonText:i=""}){const r=(0,l.ZP)();return(0,a.jsx)(s.Z,{message:`${o} ${n}`,dismissButtonText:i||r._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),onDismiss:t,color:e})};var d=o(121093);const u=()=>{};function _({color:e,completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,dismissButtonText:i,handleComplete:r=u,handleDismiss:c=u,header:d="",headerSubtitle:_=""}){const h=(0,l.ZP)();return(0,a.jsx)(s.Z,{message:(d+" "+_).trim(),dismissButtonText:i||h._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),completeButtonText:t||h._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:r,onDismiss:c,external:n,color:e})}var h=o(391254);const p=function({color:e="default",completeButtonText:t,completeButtonUrl:o,completeButtonUrlInNewTab:n,handleComplete:i=(()=>{}),header:r="",headerSubtitle:c=""}){const d=(0,l.ZP)();return(0,a.jsx)(s.Z,{message:(r+" "+c).trim(),completeButtonText:t||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:o,onComplete:i,external:n,color:e})};var m=o(70061),g=o(116303),f=o(19121),x=o(349700),y=o(883119);function v({completeButtonText:e,headerSubtitle:t,handleComplete:o,handleDismiss:n}){const i=(0,l.ZP)(),r=(0,f.Z)(),{firstName:s,imageLargeUrl:c}=r.isAuth?r:{};return(0,a.jsx)(y.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,a.jsxs)(y.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,a.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(y.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,a.jsx)(g.Z,{name:s,src:c,size:"lg",outline:!0})}),(0,a.jsxs)(y.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,a.jsx)(y.xu,{marginBottom:2,children:(0,a.jsx)(y.X6,{size:"400",children:(0,x.nk)(i._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:s})})}),(0,a.jsx)(y.xv,{children:t})]})]}),(0,a.jsx)(y.xu,{marginEnd:4,children:(0,a.jsx)(y.zx,{color:"white",size:"lg",text:e,onClick:o})}),(0,a.jsx)(y.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,a.jsx)(y.hU,{accessibilityLabel:i._('Close', 'accessible label for close button', 'accessible label for close button'),iconColor:"darkGray",icon:"cancel",onClick:n,size:"sm"})})]})})}var P=o(615071),b=o(780280);function A({completeButtonUrl:e,onDismiss:t,placementId:o}){const[s,l]=(0,n.useState)(!1),u=(0,b.B)();return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(h.Z,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,a.jsx)(d.Z,{placementId:o,eligibleTypes:[13],children:({complete:o,dismiss:n,experience:{display_data:d,experience_id:h}})=>{e&&(d.complete_button_url=e);const g=(e=>{switch(e){case 502597:return i.default;case 500863:return v;case 501153:case 501487:return p;case 504681:return c;default:return _}})(h),f={requestContext:u,experienceId:h,handleComplete:o,handleDismiss:()=>{t&&t(),n()},color:g===c?"darkGray":"blue",...(0,r.Z)(m.Z)(d)};return s||l(!0),(0,a.jsx)(P.Z,{in:s,timeout:400,classNames:"ExperienceHero",unmountOnExit:!0,children:(0,a.jsx)(y.xu,{marginBottom:4,children:(0,a.jsx)(g,{...f})})})}})]})}},333312:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var n=o(667294),i=o(121093),r=o(570470),s=o(883119),l=o(785893);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class c extends n.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),a(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:o,idealDirection:n}=this.props,i=o.slice(-3);return(0,l.jsx)(s.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(s.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((e=>(0,l.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,l.jsx)(s.zd,{rounding:2,height:60,children:(0,l.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,o){return t&&e.text.replace("{boardName}",t),o?o(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:o,boardTextOverride:a,flyoutSize:d,fontSize:u,hasFullWidthButton:_=!0,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:x,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:P,textAlign:b,textOverflow:A,textOverrideFn:w,textWeight:C,customizedComplete:E,pulsarZIndex:T}=this.props,S=t||(({children:e})=>p?(0,l.jsx)(s.mh,{children:e}):e),I="blue";return(0,l.jsx)(i.Z,{eligibleIds:o,placementId:x,eligibleTypes:[8],children:({complete:t,dismiss:o,experience:{display_data:i}})=>(this.setDefaultPulsarTooltip(i),i.has_pulsar||i.has_tooltip?(v&&i.disappearTime&&i.disappearTime>0&&(this.timer=setTimeout((()=>(o(),null)),i.disappearTime)),(0,l.jsxs)(n.Fragment,{children:[i.has_pulsar&&(0,l.jsx)(r.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(i.has_tooltip,t),paused:this.state.paused,zIndex:T&&T.index()}),i.has_tooltip&&(!i.has_pulsar||this.state.paused)&&(i.thumbnail_urls?(0,l.jsx)(c,{anchor:e,dismiss:o,idealDirection:h||"down",text:i.text,thumbnails:i.thumbnail_urls}):(0,l.jsx)(S,{children:(0,l.jsx)(s.J2,{anchor:e,color:I,idealDirection:h||"down",onDismiss:m?()=>{}:o,positionRelativeToAnchor:!p&&y,shouldFocus:!1,showCaret:P,size:d,children:(0,l.jsxs)(s.xu,{column:12,padding:3,children:[(0,l.jsxs)(s.xv,{align:"right"===b?"end":b,color:"inverse",overflow:A,size:u,weight:C||"bold",children:[this.getText(i,a,w),i.secondary_cta_link&&(0,l.jsx)(s.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(s.xv,{size:u,weight:"bold",color:"inverse",children:(0,l.jsx)(s.rU,{inline:!0,target:"blank",href:i.secondary_cta_link.url,underline:"hover",children:i.secondary_cta_link.text})})})]}),i.sub_text&&(0,l.jsx)(s.xu,{paddingY:2,children:(0,l.jsx)(s.xv,{color:"inverse",size:u,children:i.sub_text})}),(i.dismiss_button_text||i.complete_button_text)&&(0,l.jsxs)(s.xu,{display:"flex",alignItems:"center",marginTop:2,children:[i.dismiss_button_text&&(0,l.jsx)(s.xu,{marginEnd:1,column:6,children:(0,l.jsx)(s.zx,{fullWidth:_,color:I,onClick:()=>{f&&f(),o()},size:"md",text:i.dismiss_button_text})}),i.complete_button_text&&(0,l.jsx)(s.xu,{column:i.dismiss_button_text?6:12,children:E?(0,l.jsx)(s.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,l.jsx)(s.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,l.jsx)(s.xv,{color:"shopping",weight:"bold",children:i.complete_button_text})})}):(0,l.jsx)(s.kC,{justifyContent:"center",children:(0,l.jsx)(s.zx,{fullWidth:_,color:"white",href:i.complete_button_cta_url,role:i.complete_button_cta_url?"link":"button",size:"md",target:i.complete_button_cta_url?"blank":null,text:i.complete_button_text,onClick:()=>{t(),g&&g()}})})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},636803:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(121093),i=o(839534),r=o(785893);const s=({anchors:e,idealDirection:t,onCompleteByAnchor:o,placementId:s,positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})=>(0,r.jsx)(n.Z,{placementId:s,predicate:t=>{const{display_data:o}=t;if(2===(null==o?void 0:o.component_type)){const{anchors_by_platform:t}=o;if(null!=t&&t.web){const{anchor:o,placement:n}=t.web;return n===s&&o in e}}return!1},children:({complete:n,dismiss:s,experience:d})=>(0,r.jsx)(i.Z,{anchors:e,complete:n,dismiss:s,displayData:d.display_data,idealDirection:t,onCompleteByAnchor:o,platform:"web",positionRelativeToAnchor:l,touchToDismiss:a,useMasonryFlyout:c})})},332611:(e,t,o)=>{o.d(t,{CK:()=>_,N:()=>f,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>p,fO:()=>a,kd:()=>m,pz:()=>c});var n=o(6637),i=o(764990),r=o(172071),s=o(957191);let l;const a=(e,t)=>o=>{const i=t?{extra_context:e,targeting:t}:{extra_context:e};return n.ZP.create("UserExperiencePlatformResource",i).callGet().then((e=>e.resource_response?o((0,s.OD)(e.resource_response.data)):void 0))},c=(e,t,o,r)=>(a,c)=>{if(t)return Promise.resolve();if(r&&(l=r),1===e.length){const t=e[0],n=c().experiences[t],r=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(r)===JSON.stringify(o)||(0,i.E3)(n)&&!(o&&Object.keys(o).length>0))return Promise.resolve()}return n.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:o||null,targeting:r}).callGet().then((e=>e.resource_response?a((0,s.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(o,i,r,c=!1,d,u)=>(_,h)=>{const{experiences:p,experiencesMulti:m}=h();let g=null,f=!0;var x;c||(f=p[o]&&p[o].experience_id===i,g=f?p[o]:Array.isArray(m[o])&&(null===(x=m[o])||void 0===x?void 0:x.find((e=>e.experience_id===i))));if(g&&g.experience_id===i||c&&o&&i){const c=n.ZP.create(e,{placed_experience_id:`${o}%3A${i}`,extra_context:null!=d?d:{},targeting:u}),h=f?s.Yb:s.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{_(h(o,i,t)),_(a(void 0,l))}));case"completed":return c.callUpdate().then((()=>{r||(_(h(o,i,t)),_(a(void 0,l)))}));case"viewed":return _(h(o,i,t)),c.callUpdate().then((()=>{1000162===o&&_(a())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{r||_(h(o,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),_=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),p=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(o,i)=>{const{experiences:s}=i(),l=s[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach((o=>{const[,i]=o.split(":");let s=t;l.metadata&&l.metadata[i]&&(s=Object.assign({},t,l.metadata[i])),n.ZP.create("UserExperienceTriggerResource",{placed_experience_id:o.replace(":","%3A"),extra_context:s}).callUpdate().then((()=>{((e,t,o={})=>{r.Z.increment(`${e}.${t}`,1,o)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})}))}))},g=e=>(t,o)=>{t(m(e));const{experiences:n}=o();return n[e]},f=(e,t,o)=>n=>{o&&(l=o),n(m(e,t)),t&&Object.keys(t).length>0&&n(c([e],!1,t,o))}},242923:(e,t,o)=>{o.d(t,{CF:()=>l,Tl:()=>s,dy:()=>a});var n=o(6637),i=o(332611);const r=(e,t)=>(o,r)=>s=>{if(o&&o.id){const l=n.ZP.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{s((0,i.fO)())}));break;case"completed":l.callUpdate().then((()=>{r||s((0,i.fO)())}));break;case"viewed":l.callUpdate()}}},s=r("UserExperienceCompletedResource","completed"),l=r("UserExperienceResource","dismissed"),a=r("UserExperienceViewedResource","viewed")},764990:(e,t,o)=>{function n(e){return!!e&&0!==e.type}o.d(t,{A0:()=>r,E3:()=>n,MQ:()=>i});const i=(e,t,o)=>{const i=e[o];return t[o]&&n(i)?i:null};function r(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,o)=>{o.d(t,{$S:()=>n,V$:()=>i,_4:()=>s,iY:()=>l,mR:()=>r});const n="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:(e,t,o)=>{o.d(t,{NW:()=>s,OD:()=>a,Yb:()=>l,cL:()=>c,xW:()=>r});var n=o(6637),i=o(207737);const r=(e,t,o)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:o}}),s=e=>t=>n.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:o}})):void 0;var o})),l=(e,t,o)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:o}}),a=e=>({type:i._4,payload:{experiences:e}}),c=e=>({type:i.mR,payload:{experiences:e}})},570470:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(883119),r=o(785893);function s({anchor:e,children:t,zIndex:o}){const s=(0,n.useRef)(null),[l,a]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),{height:u,width:_}=e.getBoundingClientRect();return(0,n.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:o}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:i}=((e,t,o,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(o/2-e/2)}))(u,_,e,o);a(n),d(i)}})),(0,r.jsx)(i.xu,{position:"absolute",zIndex:o?new i.Ry(o):void 0,dangerouslySetInlineStyle:{__style:{left:l,top:c}},ref:s,children:t})}const l=function(e){const{anchor:t,onTouch:o,onMouseEnter:n,paused:l,size:a,zIndex:c}=e;return t?(0,r.jsx)(s,{anchor:t,zIndex:c,children:(0,r.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>o(e),onMouseEnter:n,rounding:"circle",children:(0,r.jsx)(i.o3,{paused:l,size:a})})}):null}},839534:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(570470),r=o(883119),s=o(785893);const l=new r.Ry(669),a={1:"up",2:"right",3:"down",4:"left"},c=({anchors:e={},complete:t,dismiss:o,displayData:c,idealDirection:d,onCompleteByAnchor:u={},platform:_,positionRelativeToAnchor:h=!0,touchToDismiss:p=!0,useMasonryFlyout:m=!1})=>{var g;const{anchors_by_platform:f={},button_text:x,button_uri:y,display_type:v,flyout_direction:P,scroll_to_dismiss:b,scroll_to_dismiss_delay_in_seconds:A=0,text:w}=c||{},C=null===(g=f[_])||void 0===g?void 0:g.anchor,E=e[C],T=(0,n.useCallback)((()=>{b&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),p&&E&&E.removeEventListener("click",T),setTimeout((()=>o()),1e3*A)}),[E]);if((0,n.useEffect)((()=>{E&&(b&&(window.addEventListener("scroll",T),window.addEventListener("touchmove",T)),p&&E.addEventListener("click",T))}),[E]),!E)return null;const{FLYOUT:S,PULSAR:I}={FLYOUT:1,PULSAR:2},j=({children:e})=>{if(m)return(0,s.jsx)(r.mh,{zIndex:l,children:e});if(v===I){const t={};if(h)t.top=E.offsetTop,t.left=E.offsetLeft,t.width=E.offsetWidth,t.height=E.offsetHeight;else{const e=E.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,s.jsx)(r.xu,{position:"absolute",top:!0,left:!0,zIndex:l,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,s.jsx)(r.xu,{zIndex:l,children:e})},z=a[P],R=y&&(y.startsWith("https://")||y.startsWith("http://")),D=(u||{})[C],O=()=>{b&&(window.removeEventListener("scroll",T),window.removeEventListener("touchmove",T)),p&&E.removeEventListener("click",T),t()};return(0,s.jsxs)(n.Fragment,{children:[v===I&&(0,s.jsx)(j,{children:(0,s.jsx)(i.Z,{anchor:E,onTouch:()=>{O(),D?D():E instanceof HTMLElement&&E.click()},zIndex:670})}),v===S&&(0,s.jsx)(j,{children:(0,s.jsx)(r.J2,{anchor:E,color:"blue",idealDirection:z||d||"down",onDismiss:T,positionRelativeToAnchor:!m&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,s.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,s.jsx)(r.xv,{align:"center",color:"inverse",weight:"bold",children:w}),x?(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,s.jsx)(r.xu,{column:8,children:y?(0,s.jsx)(r.zx,{fullWidth:!0,color:"white",href:y,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),O()},role:"link",size:"md",target:R?"blank":null,text:x}):(0,s.jsx)(r.zx,{fullWidth:!0,color:"white",onClick:O,size:"md",text:x})})}):null]})})})]})}},497529:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=(o(957191),o(764990)),r=o(123159);o(332611);function s(e){const{mountedPlacements:t,completeExperience:o,dismissExperience:s,experiences:l,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_}=(0,r.M)(),h=e?(0,i.MQ)(l,t,e):null;return(0,n.useMemo)((()=>({completeExperience:o,dismissExperience:s,experienceForPlacement:h,fetchAllExperiences:a,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:_})),[o,s,h,a,c,d,u,_])}},784450:(e,t,o)=>{o.d(t,{ZP:()=>p});var n=o(667294),i=o(966338),r=o(618446),s=o.n(r),l=o(764990),a=o(123159),c=o(332611),d=o(780280),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},o)=>r=>{const p=function(e){return t=>({experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);o={...h,...o};const m=function(e,t,o=!0,r=!0,h=!1,p){class m extends n.Component{constructor(e){super(e),_(this,"state",{extraContext:void 0}),_(this,"setExtraContextState",(e=>{s()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(o,n){const{dispatch:i,experience:r,requestContext:l}=this.props;let a=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(a=t(o,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!s()(a,d)&&i((0,c.pz)([e],l.isBot,d)),!r||o.experience&&r.id===o.experience.id||i((0,c.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){const o="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},n=h&&null!=o&&o.advertiser_id?{advertiserId:o.advertiser_id}:void 0;this.props.mountPlacement(e,o,n)}render(){const{experience:e,experiencesMulti:t}=this.props,o={[h?"advertiserExperience":"experience"]:(0,l.E3)(e)?e:null};return(0,u.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...o,experiencesMulti:t})}}function g(e){const t=(0,d.B)(),o=(0,i.useDispatch)(),{mountPlacement:n,unmountPlacement:r}=(0,a.M)();return(0,u.jsx)(m,{...e,dispatch:o,mountPlacement:n,requestContext:t,unmountPlacement:r})}return g.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,g}(e,t,o.shouldUsePlacedExperience,o.dispatchMountActionDuringSSR,o.isAdvertiserPlacement,r);return(0,i.connect)(p)(m)}},572551:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var n=o(667294),i=o(319915),r=o(757184),s=o(317254),l=o(463076);function a(e=300,t=16,o=2){let n=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:(i-1)*e}px) and (max-width: ${i*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${i}) !important;\n  }\n}\n`}return n}var c=o(391254),d=o(883119),u=o(444445),_=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),h(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:o,paddingBottom:n}=this.getGutters();return(0,_.jsx)("div",{style:{paddingBottom:n,paddingLeft:o/2,paddingRight:o/2},children:(0,_.jsx)(t,{...e})})}))}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,o="simplified"===t,n=o?u.oX:e,i=o?16:6;return{gutterWidth:null!=n?n:u.ZZ,paddingBottom:i}}render(){const{columnWidth:e,flexible:t,items:o,layout:n,loadItems:i,masonryRef:r,measurementStore:s,scrollContainerRef:h,serverRender:p,virtualize:m,isGridCentered:g,minCols:f}=this.props,{gutterWidth:x}=this.getGutters(),y=p?"serverRenderedFlexible":"flexible";let v;g&&(v="gridCentered");const P=()=>(null==h?void 0:h.current)||window;return(0,_.jsxs)("div",{className:v,children:[p&&(0,_.jsx)(c.Z,{unsafeCSS:t?a((e||u.yF)+x,o.length||u.g5,f||u.yc):(0,l.Z)((e||u.yF)+x,o.length||u.g5,f||u.yc)}),(0,_.jsx)(d.Rk,{columnWidth:e+x,comp:this.renderItem,gutterWidth:0,layout:t?y:null!=n?n:"basic",items:o,loadItems:i,measurementStore:s,minCols:f,ref:e=>{r&&(r.current=e)},scrollContainer:P,virtualize:m})]})}}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}h(p,"defaultProps",{gutterWidth:u.ZZ,isGridCentered:!0,minCols:u.yc,paddingStyle:"simplified",virtualize:!0});class g extends n.Component{constructor(...e){super(...e),m(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,_.jsx)(i.Z,{name:"MasonryPerfTimingItem",children:(0,_.jsx)(t,{...e})})})),m(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:o,gutterWidth:n,isGridCentered:i,items:s,layout:l,masonryRef:a,minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m}=this.props;return(0,_.jsx)(p,{columnWidth:t,comp:this.renderItem,flexible:o,gutterWidth:n,isGridCentered:i,items:s,layout:l,loadItems:this.loadItems,masonryRef:a,measurementStore:(0,r.Z)(e),minCols:c,paddingStyle:d,scrollContainerRef:u,serverRender:h,virtualize:m})}}function f({cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isAtEnd:r,isFetching:l,isGridCentered:a=!0,isLoaded:c,items:d,pinData:u,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:y,serverRender:v=!0,virtualize:P=!0,includeBackgroundImages:b,includeVideos:A}){return(0,_.jsx)(s.Z,{isAtEndOfFeed:r,pinData:u,itemCount:d.length,includeBackgroundImages:b,includeVideos:A,children:(0,_.jsx)(g,{cacheKey:e,columnWidth:t,comp:o,flexible:n,gutterWidth:i,isFetching:l,isGridCentered:a,items:d,layout:h,loadItems:p,masonryRef:m,minCols:f,paddingStyle:x,scrollContainerRef:y,serverRender:v,virtualize:P})})}},757184:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119);const i={};function r(e){if(null!=e)return i[e]&&i[e].screenWidth===window.innerWidth||(i[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),i[e].cache}},463076:(e,t,o)=>{function n(e=236,t=16,o=2){let n="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let i=o;i<t+1;i+=1){n+=`\n@media (min-width: ${i===o?0:i*e}px) and (max-width: ${(i+1)*e-1}px) {\n  .gridCentered {\n    width: ${i*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${i}),\n  .gridCentered .static:nth-child(-n+${i}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return n}o.d(t,{Z:()=>n})},694379:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(892819),i=o(780280),r=o(785893);const s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:o,shortform:s,shortformMaximumFractionDigits:l,formatStyle:a,uplimit:c,value:d})=>{const u=(0,n.Z)();return(0,r.jsx)(i.LC,{children:n=>u(n.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:o,shortform:s,shortform_maximum_fraction_digits:l,style:a,uplimit:c})})}},890087:(e,t,o)=>{o.d(t,{$m:()=>d,ak:()=>c,j3:()=>a,yv:()=>l});var n=o(898781),i=o(883119),r=o(780280),s=o(785893);function l(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){const{country:e=""}=(0,r.B)();return l(e)}function c(){const e=(0,n.ZP)();return e._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}function d(e){return(0,s.jsx)(i.xv,{...e,children:c()})}},298361:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(349700),r=o(202139);function s(){const e=(0,n.ZP)();return function(t,o){const n=new Date(t),s=new Date-n,l=Math.floor(s/r.FS),a=Math.floor(s/r.UK),c=Math.floor(s/r.F4),d=Math.floor(s/r.VL),u=Math.floor(s/r.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', a, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', a, 'hours ago abbreviated', 'hours ago abbreviated'),y=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,i.nk)(o?P:g,{years:u}).join(""):d>0?(0,i.nk)(o?v:m,{weeks:d}).join(""):c>0?(0,i.nk)(o?y:p,{days:c}).join(""):a>0?(0,i.nk)(o?x:h,{hours:a}).join(""):l>0?(0,i.nk)(o?f:_,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(66699),i=o(898781);const r=(e,t)=>{const o=t||0,n=10**o,i=+(o?e*n:e).toFixed(8),r=Math.floor(i),s=i-r,l=s>.5-1e-8&&s<.5+1e-8?r%2==0?r:r+1:Math.round(i);return o?l/n:l},s=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function l(){const e=(0,i.ZP)();return(t,o,i)=>{let l=0,a=0;const c=i&&i.style||void 0,d=i&&i.shortform||!1,u=i&&i.uplimit||void 0,_=i&&i.currency||void 0,h=!!u&&o>=u,p=u&&h?u:o;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:o}=((e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==n)return{minimumFractionDigits:o,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);l=void 0===i||void 0===i.maximum_fraction_digits?o:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else l=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(d&&p>999&&(l=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),l<a)return String(p);let m=p,g="";const f=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],y=/^zh|ja|ko/.test(t);if(d&&p>999){const e=y?f:x;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],n=e[t][o].value;if(p>=n){m=r(p/n*Math.pow(10,l))/Math.pow(10,l),g=e[t][o].localeKey;break}}}if(null==m)return"";const v=m.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:n})=>{const i={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...i,style:o,..."currency"===o?{currency:n,currencyDisplay:"symbol"}:{}}:i})({maximumFractionDigits:l,minimumFractionDigits:a,currency:_,style:c}));return g&&g.length>0?(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:v,numberSuffix:g})+(h?"+":""):v+(h?"+":"")}}},366428:(e,t,o)=>{o.d(t,{F:()=>d,Z:()=>c});var n=o(667294),i=o(834911),r=o(124580),s=o(407043),l=o(802201);const a={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9975}};function c({closeupImpressionType:e,closeupNavigationType:t,componentType:o,contextLogData:c,elementType:d,impressionAuxFields:u,inImpressionExp:_,impressionType:h,impressionsFramework:p,isPaused:m,loggingId:g,objectIdStr:f,slotIndex:x,trackCarousel:y,viewData:v,viewParameter:P,viewType:b}){const{logContextEvent:A}=(0,s.v)(),w=(0,l.AF)(),C=g?w[g]:{},E=C&&(0,i.Z)({carouselData:C.carousel_data,images:C.images,richMetadata:C.rich_metadata,richSummary:C.rich_summary}),T=p||r.Z,S=(0,n.useRef)(null),I=n=>{const i=a[h],r=i.idType,s={endTime:n.endTime,[r]:g,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:e,...u,forcedExit:"removed"===n.forcedExit?0:void 0},l={component:o,object_id_str:f,view_type:b,view_data:v||{},view_parameter:P};if(y){if(E){var _,p,m;A({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,carouselDataId:Number(E.id),carouselSlotId:(null===(_=E.carousel_slots)||void 0===_?void 0:_[null!==(p=E.index)&&void 0!==p?p:0])&&Number(E.carousel_slots[null!==(m=E.index)&&void 0!==m?m:0].id),slotIndex:E.index}]},...l,aux_data:{...c}})}}else A({event_type:i.eventType,...l,element:d,event_data:{[i.impressionType]:[s]},aux_data:{closeup_navigation_type:t,...c}})},j=(0,n.useCallback)((()=>{try{S.current instanceof HTMLElement&&T.start(S.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[S.current]);(0,n.useEffect)((()=>(_&&!T.inExperiment&&T.setExperimentStatus(!0),m||j(),()=>{S.current instanceof HTMLElement&&T.stop(S.current)})),[j]);const z=(0,n.useRef)(m);return(0,n.useEffect)((()=>{z.current&&!m&&j(),z.current=m}),[m,j]),S}const d=({children:e,...t})=>e({impressionTrackerRef:c(t)})},965261:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(6637);const i=e=>n.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var r=o(826067);const s=(e=(e=>{}))=>{const t=(0,r.mB)(window.location.search),o=t.invite_code;o?i(o):e(t)}},713930:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(172071);function i(e,t){return new Promise(((o,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)o();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),o()):(e+=1,n.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)o();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),o()):(e+=1,n.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else o()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>o())),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}}))}},620707:(e,t,o)=>{function n(e,t){if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),n=Object.keys(t);return o.length===n.length&&o.every((o=>e[o]===t[o]))}return e===t}o.d(t,{Ak:()=>n,_Y:()=>i,qe:()=>l,xZ:()=>s});const i=(e,t)=>e.length===t.length&&e.every(((e,o)=>n(e,t[o]))),r=(e,t)=>e.length===t.length&&e.every(((e,o)=>e===t[o])),s=(e,t=r)=>o=>{const n=[];return function(...i){const r=this,s=n.find((e=>e.context===r&&t(e.args,i)));if(s)return s.result;const l={context:r,args:i,result:o.apply(this,i)};return n.push(l),e&&n.length>e&&n.shift(),l.result}},l=s(1);s()},249647:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(968630),i=o.n(n);function r(e,t=!1){return o=>{if(!i()(o))return t&&Array.isArray(o)?o.map(r(e,t)):o;const n={};return Object.keys(o).forEach((s=>{const l=e(o[s],s);i()(o[s])||t&&Array.isArray(o[s])?n[l]=r(e,t)(o[s]):n[l]=o[s]})),n}}function s(e,t=!1){const o=(t,o)=>e(o);return e=>r(o,t)(e)}},567450:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>s});const i=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},r=e=>{if(e.isHidden){const{reason:t}=e;i.onPauseListeners.forEach((e=>e(t)))}else i.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const s=i},307061:(e,t,o)=>{o.d(t,{Z:()=>n});const n=function(e){return function(t){return null!=t?e(t):null}}},432730:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null}))},802933:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(0,o(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},584595:(e,t,o)=>{o.d(t,{$j:()=>j,Cx:()=>k,D4:()=>T,E6:()=>w,H9:()=>O,Jt:()=>D,Jw:()=>r,NF:()=>l,OW:()=>c,Pv:()=>z,RL:()=>v,ZP:()=>N,Zn:()=>b,_K:()=>h,aG:()=>_,an:()=>C,at:()=>R,bd:()=>a,cZ:()=>d,dO:()=>u,hU:()=>m,iK:()=>x,iZ:()=>I,lg:()=>p,nY:()=>f,nf:()=>y,oP:()=>g,pH:()=>n,qF:()=>L,rM:()=>S,rm:()=>E,tL:()=>s,tz:()=>i,xN:()=>A,yV:()=>P});const n=101,i=93,r=117,s=116,l=111,a=9,c=8,d=16,u=12,_=3,h=18,p=105,m=79,g=78,f=77,x=76,y=1402,v=85,P=88,b=1201,A=30,w=84,C=83,E=2901,T=2904,S=2905,I=95,j=19,z=113,R=91,D=2501,O=3050,k=[c,a],L=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[p,"FACEBOOK_ACCOUNT_NOT_LINKED"],[u,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[d,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[f,"INVALID_PASSWORD_FB_USER"],[g,"INVALID_PASSWORD_ERROR_CODE"],[m,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[C,"LOGIN_POLICY_VIOLATION_USER"],[v,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[i,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[s,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[c,"API_LIMIT_EXCEEDED_ERROR"],[a,"API_EVENT_BLOCKED_ERROR"],[j,"USER_IN_SAFE_MODE"],[w,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[v,"LOGIN_BAD_PASSWORD_ASK_RESET"],[b,"LOGIN_MFA_REQUIRED"],[A,"LOGIN_USER_NOT_FOUND"],[P,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[E,"SAR_DOWNLOAD_LIMIT"],[T,"SAR_EMAIL_UNVERIFIED"],[S,"SAR_EMAIL_MISSING"]]),N=[c,a,j,C,v,P]},79830:(e,t,o)=>{o.d(t,{I6:()=>h,Ib:()=>g,PF:()=>_,Tr:()=>f,W7:()=>r,YC:()=>a,a2:()=>u,a7:()=>d,h5:()=>n,hC:()=>s,lA:()=>x,n$:()=>i,oo:()=>p,s7:()=>c,vI:()=>l,vq:()=>m});const n="MULTIPLE_ACCOUNTS",i="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",l="vmp_account_switcher_modal",a="account_recovery",c="closeup",d="google_one_tap_modal",u="hybrid_clickthrough",_="pin_image",h="response_flyout",p="unauth_header",m="facebook",g="twitter",f="google",x="microsoft"},107193:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(935879),i=o(713930),r=o(6637),s=o(966113),l=o(867820);let a=!1;const c=(e,t,o="en-US",d)=>{d&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,n.Z)(o),"FACEBOOK").then((()=>{d&&(0,l.dy)({event:"load_script_success",provider:"facebook"});const o=window.FB;o?(a||(d&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),o.init({appId:s.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{(e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin)(t)&&c((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.ZP.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),a=!0,window.fb_init=2),e(o)):d&&(0,l.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=1},d=c},935879:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},83969:(e,t,o)=>{o.d(t,{Fm:()=>s,OY:()=>a,PL:()=>d,Px:()=>l,ru:()=>c});var n=o(713930),i=o(966113),r=o(867820);const s=()=>{var e,t,o;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(o=t.accounts)||void 0===o?void 0:o.id},l=e=>(0,n.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),a=({autoSelect:e,itpSupport:t},o)=>{var n;null===(n=s())||void 0===n||n.initialize({auto_select:null!=e&&e,client_id:i.Z.settings.GPLUS_CLIENT_ID,callback:o,cancel_on_tap_outside:!1,context:"use",itp_support:t})},c=({buttonRef:e,isDesktop:t})=>{const o=s();if(o&&e.current){const t=e.current.offsetWidth;o.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,r.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT"},760372:(e,t,o)=>{o.d(t,{X:()=>n});const n="favorited"},648492:(e,t,o)=>{o.d(t,{Z:()=>i});const n=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:o}function t(e,t,n){let a;for(e=n?Math.floor(e/i):e>>1,e+=Math.floor(e/t),a=0;e>(o-r)*s>>1;a+=o)e=Math.floor(e/(o-r));return Math.floor(a+(o-r+1)*e/(e+l))}this.utf16={encode:function(e){for(var t,o=[],n=0,i=e.length;i>n;){if(55296==(63488&(t=e[n++])))throw!0;t>65535&&(t-=65536,o.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),o.push(String.fromCharCode(t))}return o.join("")}};var o=36,i=700,r=1,s=26,l=38,a=2147483647;this.decode=function(n,i){let l,c,d,u,_,h,p,m,g,f,x,y,v,P=[],b=[],A=n.length;for(l=128,d=0,u=72,_=n.lastIndexOf("-"),0>_&&(_=0),h=0;_>h;++h){if(i&&(b[P.length]=n.charCodeAt(h)-65<26),n.charCodeAt(h)>=128)throw!0;P.push(n.charCodeAt(h))}for(p=_>0?_+1:0;A>p;){for(m=d,g=1,f=o;;f+=o){if(p>=A)throw!0;if(x=e(n.charCodeAt(p++)),x>=o)throw!0;if(x>Math.floor((a-d)/g))throw!0;if(d+=x*g,y=f>u?u+s>f?f-u:s:r,y>x)break;if(g>Math.floor(a/(o-y)))throw!0;g*=o-y}if(c=P.length+1,u=t(d-m,c,0===m),Math.floor(d/c)>a-l)throw!0;l+=Math.floor(d/c),d%=c,i&&b.splice(d,0,n.charCodeAt(p-1)-65<26),P.splice(d,0,l),d++}if(i)for(d=0,v=P.length;v>d;d++)b[d]&&(P[d]=String.fromCharCode(P[d]).toUpperCase().charCodeAt(0));return this.utf16.encode(P)},this.toUnicode=function(e){for(var t=e.split("."),o=[],i=0;i<t.length;++i){const e=t[i];o.push(e.match(/^xn--/)?n.decode(e.slice(4)):e)}return o.join(".")}};function i(e){try{return n.toUnicode(e)}catch(t){return e}}},335972:(e,t,o)=>{o.d(t,{Z:()=>Y});var n=o(667294),i=o(317672),r=o(790348);const s=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const o=e.src.replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]){var r;const o=(null===(r=(0,i.rZ)(e))||void 0===r?void 0:r.width)||1,s=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:s,ratio:s/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const o=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=o[o.length-1];if(t[n]&&e instanceof HTMLDivElement){var r;const o=(null===(r=(0,i.rZ)(e))||void 0===r?void 0:r.width)||1,s=t[n].downloadSize;return{fileName:n,renderedSize:o,downloadedSize:s,ratio:s/o}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:o,fileName:n,downloadedSize:i}=t;t.ratio>1.05&&(0,r.A9)(`checkImageRatio.${e}`,{count:Math.round(10*o)/10,tags:{fileName:`${i}_${n}`}})}))};var l=o(860273),a=o(543059),c=o(607150);const d=({constraintMap:e,initialNavTiming:t,annotations:o})=>({...o,...(0,c.jh)("constraint_",e),...(0,c.jh)("mark_",(0,a.gQ)()),...(0,c.jh)("browser_",{...t?(0,c.D3)(t):{},...(0,c.rX)()})});var u=o(358864),_=o(505771),h=o(156381);const p=(e,t)=>{const{firstInputDelay:o}=(0,h.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...o?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:o.startTime,endTime:o.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var m=o(22773),g=o(453821),f=o(638089);const x=({annotateExperiments:e,annotations:t,binaryAnnotations:o,constraintMap:n,endTime:i,imageTimings:r,metricId:s,pwtStaticContext:a,startTime:c,traceId:u,spans:_})=>{const h=(0,m.Cg)();let x;"initial_app_load"===s.navigationType&&(x=(0,l.Z)());const y=r.map((({name:e})=>e)),v=h.map((e=>(0,g.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},o)=>e>o.endTime||!!t&&t<o.startTime||e<o.startTime-100)(e,{startTime:c,endTime:i})));return{type:"COMPLETE",traceId:u,startTime:c,endTime:i,spans:p(v,u).concat(_),annotationMap:d({constraintMap:n,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,f.rA)({annotateExperiments:e,binaryAnnotations:o,entries:h,metricId:s,performanceResources:v,pwtEndTime:i,pwtStaticContext:a})}};let y=!1;const v=(e,t)=>e&&t?y?((0,r.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(y=!0,t):(0,u.Z)();var P=o(883119),b=o(226464),A=o(785893);function w({children:e,heading:t}){return(0,A.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,A.jsx)("thead",{children:(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,A.jsx)(P.xv,{weight:"bold",align:"center",children:t})})})}),(0,A.jsx)("tbody",{children:e})]})}function C({name:e,children:t}){return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,A.jsx)(P.xv,{weight:"bold",children:e})}),(0,A.jsx)("td",{children:"string"==typeof t?(0,A.jsx)(P.xv,{children:t}):t})]})}function E({result:e}){return"ABORT"===e.type?(0,A.jsx)(C,{name:"Abort Reason",children:e.reason}):(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(C,{name:"PWT (ms)",children:(0,A.jsx)(P.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,A.jsx)(C,{name:"PinTrace",children:(0,A.jsx)(P.xv,{italic:!0,children:(0,A.jsx)(P.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function T({data:e}){const{metricId:t,constraints:o,constraintMap:n,startTime:i,result:r}=e;return(0,A.jsxs)(P.xu,{children:[(0,A.jsxs)(w,{heading:(0,b.KJ)(t),children:[(0,A.jsx)(C,{name:"Thrift Id",children:String((0,b.Rp)(t))}),(0,A.jsx)(C,{name:"Surface",children:t.surface}),(0,A.jsx)(C,{name:"Navigation Type",children:t.navigationType}),(0,A.jsx)(C,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,A.jsx)(w,{heading:"Constraints",children:o.map((e=>(0,A.jsx)(C,{name:e,children:(0,A.jsx)(P.xv,{align:"end",children:n[e]?Math.round(n[e]-i):"pending..."})},`constraint_${e}`)))}),(0,A.jsx)(w,{heading:"Result",children:r?(0,A.jsx)(E,{result:r}):(0,A.jsx)(C,{name:"result",children:(0,A.jsx)(P.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var S=o(223815);const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function j({data:e}){const[t,o]=(0,n.useState)(!1);return(0,A.jsx)(S.Z,{children:(0,A.jsxs)(P.mh,{children:[(0,A.jsx)(P.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,A.jsx)(P.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>o(!0)})}),t&&(0,A.jsx)(P.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,A.jsx)(P.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>o(!1),footer:null,size:"sm",children:(0,A.jsx)(P.xu,{padding:6,children:(0,A.jsx)(T,{data:e})})})})]})})}var z=o(558775);const R=(e,t)=>{const o=(0,n.useRef)(e);(0,n.useEffect)((()=>{o.current=e}),[e]);const i=(0,n.useRef)(t);(0,n.useEffect)((()=>{i.current=t}),[t]),(0,n.useEffect)((()=>()=>i.current(o.current)),[])},D=(e,t)=>{const[o,i]=(0,n.useState)(t);return{state:o,dispatch:t=>i((o=>e(o,t)))}};var O=o(985271),k=o(7789),L=o(383434),N=o(567450),M=o(276602),F=o(404646);const U=["initial_app_load","client_route_push"],B=(0,L.X)("PwtSurface"),Z="NavigationComplete",G="VisuallyComplete",H=(e,t)=>{e.isSampled&&(0,z.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},V=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var o;const{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:l},annotations:c,binaryAnnotations:d,constraintMap:u,startTime:_,imageTimings:h,isSampled:p,spans:m}=e;(0,a.L8)(`PWT_Complete_${(0,b.KJ)(n)}`);const g=v("initial_app_load"===n.navigationType,null===(o=i.serverData)||void 0===o?void 0:o.trace_id),f=x({annotateExperiments:l,annotations:c,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:n,pwtStaticContext:i,startTime:_,traceId:g,spans:m});p&&(0,z.Z)({metricId:n,pwtStaticContext:i,result:f});try{s(String(f.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,r.H)("image_ratio_check_error",{error:y})}return{...e,result:f,status:"DONE"}})(e,t)}return e},W=(e,t)=>{const{constraint:o,time:n}=t,i=(0,b.KJ)(e.metricConfig.metricId);return O.Z?e.metricConfig.constraints.find((e=>e===o))?e.constraintMap[o]?(B(`constraint "${o}" is already complete.`),(0,r.H)("duplicated_constraint_complete",{constraint:o,action:i}),e):(B(`marking constraint "${o}" as complete`),(0,a.ZP)(`constraint_${o}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[o]:n||O.Z.now()}})):(B(`marked constraint "${o}" is not a required constraint.`),e):((0,r.H)("missing_window_performance",{action:i}),e)},$=(e,t)=>{if(B("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:o,startTime:n,isSampled:i}=t;if("TIMING"===e.status&&n!==e.startTime&&H(e,"routeUpdatedOnSameSurface"),!o)return{status:"DISABLED",metricConfig:null};const s=(0,b.KJ)(o.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap.NavigationComplete?((0,r.H)("duplicated_init_route_action",{action:s}),e):("Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,r.A9)(`TIMING.${s}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(a=l.navigator)||void 0===a?void 0:a.userAgent}}),(0,r.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,r.A9)(`TIMING.${s}`),(0,r.A9)(`TIMING.sampled.${s}`,{sampleRate:.5})),W({status:"TIMING",metricConfig:o,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:Z}));var l,a,c,d})(e,t.payload);if("TIMING"!==e.status)return B(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":H(e,t.reason);const o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":const{name:n}=t.payload;if(!O.Z)return e;const i=O.Z.now();return B(`adding annotation {${n}: ${i}}`),{...e,annotations:{...e.annotations,[n]:i}};case"BINARY_ANNOTATE":const{name:s,value:l,annotationType:a}=t.payload;return B(`adding binary annotation {${s}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[s]:{value:l,type:a}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!O.Z){const t=(0,b.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}B(`removing constraint "${t}"`);const o=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:n,...i}=e.constraintMap;return V({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!O.Z){const t=(0,b.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}B(`updating pwt segment to "${t}"`);const o={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:o}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:o}}=t;if(0===o.length){H(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const n=Math.max(...o.map((e=>e.responseEnd||0)));return W({...e,imageTimings:o},{constraint:G,time:n})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:_,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,u.Z)(),startTime:_||c,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:O.Z?O.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const f=e.spans.findIndex((e=>e.name===t.payload.name));return f>-1?(e.spans[f].endTime=O.Z?O.Z.now():0,t.payload.annotations&&(e.spans[f].annotationMap={...e.spans[f].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[f].binaryAnnotationMap={...e.spans[f].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,r.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const x=(0,b.KJ)(e.metricConfig.metricId);return(0,r.H)("invalid_pwt_surface_action",{action:x}),e}};function Y({children:e,...t}){var o;const i=(0,F.fM)(),s=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(o=t.annotateExperiments)&&void 0!==o?o:[]],a={...t,annotateExperiments:l,navigationInfo:{navigationType:s,clientNavigation:i}},{state:c,context:d}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:i,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:a},sampleRate:c})=>{const d=(0,n.useRef)("NOT_SET"),u=(0,F.N5)(),{state:_,dispatch:h}=D($,{status:"DISABLED",metricConfig:null});if(d.current!==l&&(d.current=l,u)){const{isAuthenticated:n}=u,d=s||U,_=e&&a&&d.includes(a)?{metricId:{type:"surface",surface:e,navigationType:a,isAuthenticated:n,segment:o},annotateExperiments:r,constraints:[Z,...t||[],...i?[G]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:_,startTime:l?l.time:0,isSampled:!c||Math.random()<c}})}if((0,n.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};N.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{N.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),R(_,(e=>{B("handling unmount",e),"TIMING"===e.status&&H(e,"unmount")})),"TIMING"!==_.status||!_.constraintMap.NavigationComplete)return{state:_,context:null};const{startTime:p,metricConfig:m}=_;return{state:_,context:{id:p,metricId:m.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),setVisuallyCompleteResult:m.constraints.includes(G)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:O.Z?O.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,o,n={},i={},r=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:r}}),startSubspan:(e,t={},o={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}}),stopSubspan:(e,t={},o={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:n}})}}})(a);return(()=>{const e=(0,M.EV)(),t=!!e;(0,n.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,b.KJ)(e.metricId):null;(0,r.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(M.Sb,{value:d,children:e}),k.DQ&&"DISABLED"!==c.status&&(0,A.jsx)(j,{data:{metricId:c.metricConfig.metricId,constraints:c.metricConfig.constraints,constraintMap:c.constraintMap,startTime:c.startTime,result:"DONE"===c.status?c.result:null}})]})}},317254:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(969853),i=o(667294),r=o(276602),s=o(543059);function l({children:e,isAtEndOfFeed:t,pinData:o,itemCount:l,includeBackgroundImages:a=!1,includeVideos:c=!1}){return(0,n.Z)({pinData:o,isAtEndOfFeed:t,includeBackgroundImages:a,includeVideos:c}),function(e){const t=(0,r.EV)(),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{e!==o.current&&(o.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(l),e}},311560:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},886858:(e,t,o)=>{o.d(t,{Z:()=>s,k:()=>r});const n=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),i=e=>!n.has(e)&&!e.startsWith("__track__");function r(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[o,n]=t.split("=");return e[o]=JSON.parse(n),e}),{})}const s=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(i).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},780280:(e,t,o)=>{o.d(t,{B:()=>u,LC:()=>c,P2:()=>a,fH:()=>d,gf:()=>_});var n=o(667294),i=o(608832),r=o(620707),s=o(785893);const l=(0,n.createContext)();function a({children:e,value:t}){const[o,a]=(0,n.useState)(t),c=(0,n.useMemo)((()=>({requestContext:o,updateRequestContext:e=>{const t={...o,...e};(0,r.Ak)(o,e)||a(t),(0,i.J)(t)}})),[o]);return(0,s.jsx)(l.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,n.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,n.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,n.useContext)(l);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function _(){const e=(0,n.useContext)(l);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},505920:(e,t,o)=>{o.d(t,{UZ:()=>u,Z8:()=>_,my:()=>h});var n=o(667294),i=(o(966338),o(6637)),r=o(425288),s=o(785893);function l(e,t,o){var n;const i=[...null!==(n=t[e][o.payload.name])&&void 0!==n?n:[],o.payload.handler],r={...t};return r[e]={...t[e],[o.payload.name]:i},r}function a(e,t,o){if(!t[e][o.payload.name])return t;const n=t[e][o.payload.name].filter((e=>e!==o.payload.handler)),i={...t};return i[e]={...t[e],[o.payload.name]:n},i}const{Provider:c,useHook:d}=(0,r.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:o},r]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return l("listeners",e,t);case"addMoreListener":return l("moreListeners",e,t);case"removeListener":return a("listeners",e,t);case"removeMoreListener":return a("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});i.ZP.fetchCompleteCallback=({resource:e,options:o,response:n,normalizedResponse:i,refresh:r,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:r,normalizedResponse:i,options:o,schema:s,resource:e,response:n})))},i.ZP.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:i,refresh:r,resourceSchema:s})=>{o[e]&&o[e].forEach((o=>o({isRefresh:r,normalizedResponse:i,options:t,schema:s,resource:e,response:n})))};const d=(0,n.useMemo)((()=>({listenerDispatch:r})),[]);return(0,s.jsx)(c,{value:d,children:e})}function _(e,t){const{listenerDispatch:o}=d();(0,n.useEffect)((()=>(o({type:"addListener",payload:{name:e,handler:t}}),()=>{o({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:o}=d();(0,n.useEffect)((()=>(o({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{o({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},379725:(e,t,o)=>{o.d(t,{U2:()=>a,bi:()=>c,v_:()=>d});var n=o(886858),i=o(6637),r=o(414327),s=o(718368);function l({fetchOptions:e,resource:t,retry:o}){return(a,c)=>{var d,u,_;const{bookmark:h,headers:p,options:m,refresh:g,schema:f}=e,x=(0,n.Z)(m);if(null!==(d=c().resources)&&void 0!==d&&null!==(u=d[t])&&void 0!==u&&null!==(_=u[x])&&void 0!==_&&_.fetching&&!o)return Promise.resolve();const y=o?o.bookmark:h,v=y?{...m,bookmarks:[y]}:m;return a((0,r.LQ)(t,m,!0)),i.ZP.create(t,v).callGet(void 0,p).then((n=>{var c,d,u;const _=null===(c=n.resource_response)||void 0===c?void 0:c.data,[p]=n.bookmarks||[];if(Array.isArray(_)&&0===_.length&&p&&p!==s.q){const n=o?o.count:0;if(!(n>=s.s))return a(l({resource:t,fetchOptions:e,retry:{count:n+1,bookmark:p}}))}null===(d=i.ZP.customDataManipulations)||void 0===d||d.call(i.ZP,t,_,m);const{normalizedResponse:x,resourceSchema:y}=(null===(u=i.ZP.normalizeResponse)||void 0===u?void 0:u.call(i.ZP,{data:_,opts:{bookmark:h,options:m,schema:f},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?(a((0,r.Dm)(t,m,n,x,y)),i.ZP.fetchMoreCompleteCallback&&i.ZP.fetchMoreCompleteCallback({resource:t,options:m,response:n,normalizedResponse:x,refresh:g,resourceSchema:y})):(a((0,r.Sr)(t,m,n,x,g,y)),i.ZP.fetchCompleteCallback&&i.ZP.fetchCompleteCallback({resource:t,options:m,response:n,normalizedResponse:x,refresh:g,resourceSchema:y})),Promise.resolve()}),(e=>{a((0,r.Tl)(t,m,e))}))}}const a=(e,{bookmark:t,headers:o,options:n,schema:i})=>l({resource:e,fetchOptions:{bookmark:t,headers:o,options:n,refresh:!1,schema:i}}),c=(e,{headers:t,options:o,schema:n})=>l({resource:e,fetchOptions:{headers:t,options:o,refresh:!0,schema:n}});function d(e,t,o){return n=>{const{options:s}=t;return i.ZP.create(e,s).callCreate().then((t=>{var i;if(null!==(i=t.resource_response)&&void 0!==i&&i.data){const i=t.resource_response.data,l=(null==o?void 0:o(i))||null;n((0,r.XM)(e,s,t,l))}return t}),(t=>(n((0,r.Tl)(e,s,t)),t)))}}},718368:(e,t,o)=>{o.d(t,{q:()=>n,s:()=>i});const n="-end-",i=10},338739:(e,t,o)=>{o.d(t,{AF:()=>n,KK:()=>i,aW:()=>l,cR:()=>r,se:()=>a,zP:()=>s});const n="CREATE_COMPLETE",i="FETCHING",r="FETCH_ERROR",s="FETCH_COMPLETE",l="FETCH_MORE_COMPLETE",a="RESOURCE_INVALIDATE"},414327:(e,t,o)=>{o.d(t,{Dm:()=>a,LQ:()=>r,Sr:()=>l,Tl:()=>s,XM:()=>i,jB:()=>c});var n=o(338739);function i(e,t,o,i){return{type:n.AF,payload:{resource:e,options:t,response:o,normalizedResponse:i}}}function r(e,t,o){return{type:n.KK,payload:{resource:e,options:t,isFetching:o}}}const s=(e,t,o)=>({type:n.cR,payload:{resource:e,options:t,error:o}});function l(e,t,o,i,r,s){return{type:n.zP,payload:{isRefresh:r,normalizedResponse:i,options:t,resource:e,response:o,schema:s}}}function a(e,t,o,i,r){return{type:n.aW,payload:{resource:e,options:t,response:o,normalizedResponse:i,schema:r}}}function c(e,t){return{type:n.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(966338),r=o(886858),s=o(718368),l=o(925927),a=o(780280),c=o(379725);const d={};function u({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:o,headers:u,name:_,noCache:h,options:p,schema:m}){const g=(0,i.useDispatch)(),f=(0,r.Z)(p),x=(0,n.useRef)(null),y=(0,n.useRef)(),v=(0,l.k6)(),P=v&&"POP"!==v.action,b=e=>(e[_]||d)[f]||d,A=(0,i.useSelector)((({resources:e})=>b(e).nextBookmark)),w=(0,i.useSelector)((({resources:e})=>b(e).data)),C=(0,i.useSelector)((({resources:e})=>b(e).auxData)),E=(0,i.useSelector)((({resources:e})=>b(e).error)),T=(0,i.useSelector)((({resources:e})=>Boolean(b(e).fetching))),S=Boolean(E)||void 0!==w,I=S&&!T&&A===s.q,j=Boolean(S&&t&&P&&!e),[z,R]=(0,n.useState)(j),D=(0,n.useCallback)((e=>{x.current=g((0,c.U2)(_,{options:p,schema:m,bookmark:e,headers:u}))}),[g,_,f,m,u]),O=()=>{x.current=g((0,c.bi)(_,{options:p,schema:m,headers:u}))},{isBot:k}=(0,a.B)(),L=()=>{if(!e&&y.current!==f){const e=void 0===y.current;y.current=f,!S&&!T||e&&E&&(({httpStatus:e})=>!e||e>=500)(E)?D():(!k&&h||j)&&O()}};(0,n.useEffect)((()=>{o||L()})),o&&L();const N=(0,n.useCallback)((()=>{e||(O(),R(!0))}),[e,c.bi,_,f,u,R]),M=(0,n.useCallback)((()=>{!A||I||T||e||D(A)}),[e,D,A,I,T]);if(x.current)if(S&&!T)x.current=null;else if(o)throw x.current;const F=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:M,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),U={auxData:C,data:w,error:E,fetchMore:M,isAtEnd:I,isFetching:T,isLoaded:S,isRefreshing:z,nextBookmark:A,refresh:N};return(0,i.shallowEqual)(U,F.current)||(!z||!F.current.data&&j||(0,i.shallowEqual)(U.data,F.current.data)||(U.isRefreshing=!1,R(!1)),F.current=U),F.current}},857079:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({accessibilityLabel:e}){return(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294);const i=(0,n.createContext)();var r=o(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:o=!1}){const s=t||null;(0,n.useContext)(i);return(0,r.jsx)(n.Suspense,{fallback:s,children:e})}},947599:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(497997).Z},304903:(e,t,o)=>{function n(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function r(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function s(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}o.d(t,{MX:()=>s,S$:()=>i,Uy:()=>n,aZ:()=>r,vM:()=>l})},864537:(e,t,o)=>{o.d(t,{Jc:()=>l,NO:()=>s,R3:()=>r,ge:()=>d,th:()=>a});var n=o(643913);const i=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function l({type:e,term:t="",index:o}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${o}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${o}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${o}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${o}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${o}`;default:return""}}function a({queryStates:e}){return 0===e.length?"":"&"+(0,n.Z)({term_meta:e.map((e=>l(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>i.includes(e.toLowerCase())))?[e]:t}return[]}function d({type:e,query:t="",index:o}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:o,term:t,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:o})));default:return[]}}},80816:(e,t,o)=>{o.d(t,{i:()=>n});const n={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},835209:(e,t,o)=>{function n({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}o.d(t,{Z:()=>n})},458882:(e,t,o)=>{o.d(t,{l:()=>r,r:()=>s});var n=o(667294);const i=(0,n.createContext)(null),r=()=>(0,n.useContext)(i),s=i.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(458882),i=o(780679);const r=()=>{const e=(0,i.g)(),t=(0,n.l)();return o=>{const{mobileOptions:n,desktopOptions:i,reason:r,attributionLabel:s}=o;var l;e?e.showDesktopSignupModal({modalType:null!==(l=null==i?void 0:i.modalType)&&void 0!==l?l:"signup",reason:r,attributionLabel:s,...null==i?void 0:i.modalOptions}):t&&t.showMobileSignupModal({reason:r,attributionLabel:s,headingType:null==n?void 0:n.headingType})}}},936776:(e,t,o)=>{o.d(t,{Z:()=>i});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,i=e=>n.test(e)},70061:(e,t,o)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}o.d(t,{Z:()=>n})},430323:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(722767),r=o(706922),s=o(245474),l=o(558068),a=o(780280),c=o(790123),d=o(425288);const{Provider:u,useMaybeHook:_}=(0,d.Z)("timeSpentContext");var h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class m extends n.Component{constructor(e){super(e),p(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),p(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:o,objectId:n,timeSpentContext:i,view:r,viewParameter:s}=this.props;return{view:r||i&&i.view,viewParameter:s||i&&i.viewParameter,component:t||i&&i.component,element:o,objectId:n||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),p(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),p(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),p(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),p(this,"getTimedPair",(()=>this.state.timedPair)),p(this,"setTimedPair",(e=>this.setState({timedPair:e}))),p(this,"isRegistered",!1),p(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),p(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),p(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:o,left:n,right:i,top:r}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===o&&0===n&&0===i&&0===r?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,r.Z)(e.auxData,this.props.auxData)&&(0,r.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function g(e){var t;const o=(0,l.Hv)(),i=_(),r=(0,c.w)(),{requestIdentifier:s=""}=(0,a.B)(),d={app_instance_id:s.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==r||r.setHistoryStackContext(o)}),[o,r]),r?(0,h.jsx)(m,{...e,auxData:d,timeSpentContext:i,timeSpentManager:r,children:e.children}):e.children}g.displayName="TimeSpent";const f=g},790123:(e,t,o)=>{o.d(t,{j:()=>i,w:()=>r});var n=o(425288);const{Provider:i,useMaybeHook:r}=(0,n.Z)("TimeSpentManagerContext")},245474:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(172045),i=o(17314);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const s="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){r(this,"start",(()=>(this.startTime=s(),this.startTime))),r(this,"end",(()=>(this.endTime=s(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,o)=>{o.d(t,{E5:()=>c,T7:()=>n,Y_:()=>d,Yj:()=>s,d9:()=>_,nx:()=>u,pe:()=>l,xt:()=>a});o(883119);function n(e,t,o){const n=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),i=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${n}/${encodeURIComponent(i)}/${o}/`}const i={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},r={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},s=(e,t)=>{const o=r[e];return!(null===o||o!==t&&!t.startsWith(o))},l=e=>i[e],a=(e,t,o)=>e||(t||o||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),_=e=>{var t,o;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(o=e.width)&&void 0!==o?o:1)}},758127:(e,t,o)=>{o.d(t,{U:()=>r,Z:()=>s});var n=o(883119),i=o(785893);const r=", ";function s(){return(0,i.jsx)(n.xu,{display:"visuallyHidden",children:r})}},6663:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(701500),r=o(391254),s=o(898781),l=o(486840),a=o(883119),c=o(785893);function d({color:e,completeButtonText:t,completeUrl:o,dismissButtonText:d,experienceId:u,external:_,message:h,onComplete:p,onDismiss:m}){const g=(0,l.Z)(),f=(0,s.ZP)(),x=(0,n.useRef)(null),y=({event:e})=>{10202===u&&g(),p&&p(e)},v=({event:e})=>{m&&m(e)},P=h&&!t,b=500735===u,A=t&&(!o||b)&&(0,c.jsx)(a.zx,{color:"white",onClick:y,text:t}),w=t&&o&&(0,c.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:x.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,c.jsx)(a.zx,{accessibilityLabel:t,ref:x,role:"link",href:o,onClick:({event:e})=>y({event:e}),rel:_?"nofollow":"none",size:"md",color:"white",text:t},"naglink")}),C=d&&m&&(0,c.jsx)(a.xu,{mdPaddingX:2,children:(0,c.jsx)(a.zx,{color:e&&"default"!==e?"white":"gray",onClick:v,text:d})}),E=P&&!b&&m&&!d&&(0,c.jsx)(a.hU,{accessibilityLabel:f._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:v,icon:"cancel"});return(0,c.jsxs)(a.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"darkGray",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(a.xu,{column:12,smColumn:P?11:8,children:(0,c.jsxs)(a.xv,{color:"inverse",weight:b?"normal":"bold",children:[(0,c.jsx)(r.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,c.jsx)("div",{className:"Banner--message",children:(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"end",children:[C,A||w,E]})]})}},948618:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:o}){return(0,i.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,i.jsx)(n.xv,{color:t,inline:!0,size:null!=o?o:"200",children:"·"})})}},237900:(e,t,o)=>{o.d(t,{q:()=>r});var n=o(188682),i=o.n(n);const r=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=i()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},149230:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(954931);const i=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,n.Z)(e))},887831:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294);let i=null,r=!1,s=0;const l=()=>{i&&clearTimeout(i),r=!0,i=setTimeout((()=>{r=!1}),100)},a=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===s&&window.addEventListener("scroll",l),s+=1,()=>{o.current&&clearTimeout(o.current),s-=1,s||window.removeEventListener("scroll",l)})),[]);const i=e=>{o.current&&clearTimeout(o.current),o.current=e&&r?setTimeout((()=>i(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},50286:(e,t,o)=>{o.d(t,{HG:()=>a,Mm:()=>i,Wb:()=>l,ZP:()=>c,ml:()=>s});var n=o(780280);function i(e){const{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"}const r=()=>i((0,n.B)()),s=()=>"phone"===r(),l=()=>"tablet"===r(),a=()=>"desktop"===r(),c=r},311541:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){const o=(0,n.useRef)([]),[i,r]=(0,n.useState)(),[s,l]=(0,n.useReducer)(null!=i?i:()=>t,t),a=(0,n.useCallback)((t=>{i?l(t):(o.current.length||e().then((e=>{r((()=>e.default))})),o.current=[...o.current,t])}),[e,i]);return(0,n.useEffect)((()=>{i&&(o.current.forEach(l),o.current=[])}),[i]),[s,a]}},215292:(e,t,o)=>{o.d(t,{Z:()=>s,q:()=>r});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1);return{active:e,focused:o,hovered:r,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function r({children:e}){return e(i())}const s=i},411465:(e,t,o)=>{o.d(t,{G:()=>l,Z:()=>a});var n=o(667294),i=o(925927),r=o(785893);const s=(0,n.createContext)(!0);function l({children:e}){const t=(0,i.TH)(),[o,l]=(0,n.useState)(!0),a=(0,n.useRef)(t);return(0,n.useEffect)((()=>{a.current!==t&&(a.current=t,l(!1))}),[t]),(0,r.jsx)(s.Provider,{value:o,children:e})}function a(){return(0,n.useContext)(s)}},342877:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=o(720247);function r(){const e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(o,n){if(n){const e=t.current[n];e&&(e(),delete t.current[n])}const{cancel:r,promise:s}=(0,i.Z)(o);return n?t.current[n]=r:e.current.push(r),s}}},134906:(e,t,o)=>{o.d(t,{Bh:()=>d,C9:()=>v,CU:()=>s,FU:()=>T,G$:()=>x,GT:()=>l,Gy:()=>m,J_:()=>w,Jx:()=>h,MZ:()=>g,VC:()=>_,VG:()=>a,ZA:()=>c,Zt:()=>p,a3:()=>S,aH:()=>r,h7:()=>A,nw:()=>y,oR:()=>P,qA:()=>u,qp:()=>C,sG:()=>f,vd:()=>E,xk:()=>b});var n=o(89254);const i=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},o=String(e).split("");return o.forEach(((e,n)=>{const i=t[e];i&&(o[n]=i)})),o.join("")};function r(e){return function(t,o){const n=[];t&&/\S/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}const s=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function l(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(s)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function a(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function c(e){return function(t,o){const n=[];t&&(Number.isNaN(parseInt(t))&&n.push(e.invalidAgeString),e.ageTooShortString&&t<10&&n.push(e.ageTooShortString),t<=0||t>120?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<13&&n.push(e.checkUnderAgeWithString));const i={errors:n,warnings:[]};return o&&o(i),i}}function d(e){return function(t,o){const n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),i=[],r=!1!==e.checkLength&&n.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!r||i.push(e.message);const s={errors:i,warnings:[]};return o&&o(s),s}}function u(e){return function(t,o){const n=/^\d+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&r.push(e.message));const s={errors:r,warnings:[]};return o&&o(s),s}}function _(e){return function(t,o){const n=/^[\d\ -]+$/,r=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=i(t))&&!t.match(n)&&r.push(e.message));const s={errors:r,warnings:[]};return o&&o(s),s}}function h(e){return function(t,o){const n=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function p(e){return function(t,o){const i=[];if(t)try{const o=(0,n.Z)(t);o&&o.protocol&&("http"!==o.protocol||"localhost"===o.hostname)||i.push(e.message)}catch(s){i.push(e.message)}const r={errors:i,warnings:[]};return o&&o(r),r}}function m(e){return function(t,o){const n=[];(e.should_trim||!1)&&(t=t&&t.trim());const i=t.length;e.min&&i<e.min?n.push(e.minErrorString):e.max&&i>e.max&&n.push(e.maxErrorString);const r={errors:n,warnings:[]};return o&&o(r),r}}function g(e){return function(t,o){const n=!e.checkExclusion,i=e.substrings,r=[];(n&&!i.some((e=>t.includes(e)))||!n&&i.some((e=>t.includes(e))))&&r.push(e.message);const s={errors:r,warnings:[]};return o&&o(s),s}}function f(e){return function(t,o){const n=[];t!==(e&&e.targetValue)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function x(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<=e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function y(e){return function(t,o){t&&(t=parseFloat(t));const n=[];t<e.value&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function v(e){return function(t,o){const n=new Date(t),i=[];e.date instanceof Date&&n instanceof Date&&e.date<n&&i.push(e.message);const r={errors:i,warnings:[]};return o&&o(r),r}}function P(e){return function(t,o){const n=[];/^[\040-\176]*$/.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function b(e){return function(t,o){let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}const i=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),r.push(e.message));const s={errors:r,warnings:[]};return o&&o(s),s}}function A(e){return function(t,o){const n=[];Number(t)>=1e13&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function w(e){return function(t,o){t=t&&t.trim();const n=[],i=new Date(t);t&&!i.getTime()&&n.push(e.message);const r={errors:n,warnings:[]};return o&&o(r),r}}function C(e){return function(t,o){const n=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function E(e){return function(t,o){const n=[];e.pattern.test(t)||n.push(e.message);const i={errors:n,warnings:[]};return o&&o(i),i}}function T(e,t){const o=e.map((e=>e(t).errors));return[].concat(...o)}function S(e,t){let o="";return t.some((t=>{const n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},868565:(e,t,o)=>{function n(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}o.d(t,{Z:()=>n})},121630:(e,t,o)=>{o.d(t,{c:()=>i,e:()=>n});const n=e=>{if("undefined"==typeof window)return"";let t=0;const o=document.querySelector('[data-test-id="header"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:o}=e.getBoundingClientRect();t+=o}break;case"SearchItem":const o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o){const{height:e}=o.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},i=e=>e&&e.length>5&&"1"===e.substr(e.length-5,1)?e.substr(0,e.length-5)+"0"+e.substr(e.length-4):e},905723:(e,t,o)=>{o.d(t,{Z:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},319825:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294);const i="normal",r=({className:e,type:t="text",animation:o="pulse",hasChildren:n=!1,hideChildren:r=!0,enableAnimation:s=!0,color:l=("wave"===o?"rgba(239, 239, 239, 0.2)":"#ebebeb"),highlightColor:a="#EFEFEF",height:c,width:d,borderRadius:u,duration:_=1.5,direction:h="normal"})=>{const p="rtl"===h?"reverse":i,m="number"==typeof _?`${_}s`:"1.5s";return`\n@keyframes pulseAnimation {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes waveAnimation {\n  0% {\n    transform: translateX(-100%);\n  }\n  50% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n.${e} {\n  background-color: ${l};\n  display: block;\n  line-height: 1;\n  ${"text"===t?"\n  margin-top: 0;\n  margin-bottom: 0;\n  height: auto;\n  transform-origin: 0 55%;\n  transform: scale(1, 0.6);\n  ":""}\n  ${"circle"===t?"\n  border-radius: 50%;\n  ":""}\n  ${n&&!d?"\n  max-width: fit-content;\n  ":""}\n  ${n&&!c?"\n  height: auto;\n  ":""}\n  ${s&&"pulse"===o?`\n  animation-name: pulseAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  `:""}\n  ${s&&"wave"===o?"\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n\n  --webkit-mask-image: radial-gradient(white, black);\n  mask-image: radial-gradient(white, black);\n  ":""}\n  ${"circle"!==t&&"number"==typeof u||"string"==typeof u?`\n  border-radius: ${u}${"number"==typeof u?"px":""};\n  `:""}\n  ${"number"==typeof d||"string"==typeof d?`\n  width: ${d}${"number"==typeof d?"px":""};\n  `:""}\n  ${"number"==typeof c||"string"==typeof c?`\n  height: ${c}${"number"==typeof c?"px":""};\n  `:""}\n}\n${"text"===t?`\n.${e}:empty:before {\n  content: "\\00a0";\n}\n`:""}\n${n&&r?`\n.${e} > * {\n  visibility: hidden;\n}\n`:""}\n${s&&"wave"===o?`\n.${e}::after {\n  content: ' ';\n  animation-name: waveAnimation;\n  animation-direction: ${p};\n  animation-duration: ${m};\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n\n  background-repeat: no-repeat;\n  background-image: linear-gradient(\n    90deg,\n    ${l},\n    ${a},\n    ${l}\n  );\n  border-radius: 100px;\n  position: absolute;\n  transform: translateX(-100%);\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n`:""}\n`};var s=o(391254),l=o(883119),a=o(785893);function c({id:e,type:t="text",animation:o="pulse",children:i,...c}){const d=(0,l.JZ)(),u=Boolean(i),_=`catalog-loading-skeleton-${e}`,h=r({className:_,type:t,animation:o,hasChildren:u,enableAnimation:!d,...c});return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s.Z,{unsafeCSS:h}),(0,a.jsx)("span",{className:_,"data-test-id":_,children:u?i:(0,a.jsx)(n.Fragment,{children:"‌"})})]})}},487392:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(784590),i=o(19121),r=o(780280);function s(){var e;const t=(0,r.B)(),o=(0,i.Z)(),{advertiser:s}=t,l=(0,n.Z)({name:"UserResource",options:{user_id:s?s.owner_user_id:o.isAuth&&o.id,field_set_key:"merchant_summary"},dangerouslyDisableFetch:!(null==s||!s.merchant_id)});return{merchantId:(null==s?void 0:s.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==s?void 0:s.id)||"",ownerUserId:(null==s?void 0:s.owner_user_id)||(o.isAuth?o.id:""),advertiser:s}}},36675:(e,t,o)=>{o.d(t,{AC:()=>_,AV:()=>r,Bm:()=>u,E2:()=>d,HS:()=>l,cb:()=>n,mX:()=>c,rf:()=>i,yo:()=>s,zv:()=>a});const n=150,i=175,r=300,s=700,l=4e3,a=6e3,c={DESC:"desc",ASC:"asc"},d={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},u=32,_=10},183051:(e,t,o)=>{o.d(t,{C:()=>i,O:()=>n});const n=()=>["2","100","101","102","103","129","138","139","140","143","150","152","155"],i=()=>["108","114","115","116","117","118","119","121","123","124","125","126","127","129","130","131","132","133","134","136","137","144","145","146","147","148","149","153","154","155","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","174","4029","4043","4055"]},699639:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(618446),r=o.n(i);const s=e=>"object"!=typeof e?e:Array.isArray(e)?[...e]:{...e};var l=o(785893);function a(e,t,o){const i=(0,n.createContext)(),a=function(e){let t=e.slice(1);return t=t.endsWith("Context")?t:`${t}Context`,`${e[0].toUpperCase()}${t}`}(e);i.displayName=a;const c=({children:e})=>{const a=function(e,t){const[o,i]=(0,n.useReducer)(e,t),l=(0,n.useRef)([]),a=(0,n.useRef)([]),c=(0,n.useRef)(o),d=(0,n.useCallback)((()=>c.current),[]);(0,n.useEffect)((()=>{r()(o,c.current)||(c.current=s(o))}),[o]);const u=(0,n.useCallback)((e=>{l.current=a.current.slice();const t=l.current.slice();for(const o of t)o({action:e})}),[]),_=(0,n.useCallback)((()=>{a.current===l.current&&(a.current=l.current.slice())}),[]),h=(0,n.useCallback)((e=>{let t=!0;return _(),a.current=[...a.current.slice(),e],()=>{if(!t)return;t=!1,_();const o=a.current.indexOf(e);a.current=a.current.filter(((e,t)=>t!==o)),l.current=[]}}),[_]),p=(0,n.useCallback)(((e,t=r())=>{const o=()=>e(d());let n=s(o());return e=>({action:i})=>{const r=s(o());if(!t(n,r)){const t=n;n=r,e({action:i,state:r,prevState:t})}}}),[d]),m=(0,n.useCallback)((e=>{i(e),setTimeout((()=>u(e)),0)}),[i,u]);return(0,n.useMemo)((()=>({state:o,dispatch:m,watchChanges:p,subscribe:h,getState:d})),[o,m,p,h,d])}(t,o());return(0,l.jsx)(i.Provider,{value:a,children:e})},d=({children:e})=>{const t=(0,n.useContext)(i);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)};return c.displayName=`${a}Provider`,d.displayName=`${a}Consumer`,{Provider:c,Consumer:d,useStateStoreContext:()=>{const e=(0,n.useContext)(i);if(!e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e}}}},497020:(e,t,o)=>{o.d(t,{Bc:()=>v,Di:()=>w,Dy:()=>m,Hc:()=>x,I5:()=>T,Qv:()=>c,Sx:()=>I,Vn:()=>A,Yy:()=>h,bD:()=>P,bQ:()=>a,d9:()=>C,f7:()=>d,gP:()=>E,h$:()=>y,hW:()=>_,p6:()=>p,qH:()=>f,v6:()=>g});var n=o(66699),i=o(183051),r=(o(883119),o(749385)),s=o(451820),l=o(488177);const a=({feedProfile:e,workflows:t})=>{if(t.length){var o;const n=t[0].workflowStatus,i=l.EF.includes(n);return n===l.qN.DISAPPROVED?l.yn.DISABLED:(null==e?void 0:e.feedStatus)===l.Hm.INACTIVE?l.yn.PAUSED:n===l.qN.UNDER_REVIEW||n===l.qN.UNDER_APPEAL||i&&(null==e||null===(o=e.lastSuccessfulIngestion)||void 0===o?void 0:o.workflowStatus)!==l.qN.COMPLETED?l.yn.PENDING:null!=e&&e.lastSuccessfulIngestion?l.yn.ACTIVE:l.yn.INACTIVE}return null},c=(e,t=null)=>0===e&&(t===r.$o.PENDING||t===r.$o.APPEAL_PENDING),d=e=>({[l.yn.PENDING]:{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')},[l.yn.ACTIVE]:{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')},[l.yn.PAUSED]:{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')},[l.yn.DISABLED]:{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')},[l.yn.INACTIVE]:{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}}),u={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce"},_=(e,t,o)=>{if(o&&o in u)return u[o];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');const n=t.split("/");if(1===n.length)return t;const i=n.pop();return i.length>15?"../"+i.slice(i.length-15):"../"+i},h=(e,t,o,i,r)=>`${(0,n.Z)(i.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:r(e,t)})} | ${(0,n.Z)(i.ngettext('{{ count }} alert', '{{ count }} alerts', o, ' - ', ' -- '),{count:r(e,o)})}`,p=(e,t,o,n)=>o.toDateString()===t.toDateString()?n._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,s.Z)(e,t,s.k.NUMERIC),m=(e,t)=>{if(!e)return"-";const o=t[e]||e;return o.length>17?o.substring(0,14)+"...":o},g=e=>({...e.validationStatsWarnings,...e.ingestionStatsWarnings}),f=e=>({...e.validationStatsErrors,...e.ingestionStatsErrors}),x=e=>({warningStats:g(e),errorStats:f(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}),y=(e,t)=>Object.keys(e).length>0||Object.keys(t).length>0,v=e=>({id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName});function P(e){return e.filter((({workflowStatus:e})=>e===l.qN.COMPLETED||e===l.qN.COMPLETED_EARLY)).some((e=>Object.values(l.N7).some((t=>e[t]&&0!==e[t]))))}function b(e){const t="128",o="1008";return Object.keys(e).every((e=>[t,o].includes(e)))}function A(e,t){return b(t)&&0===Object.keys(e).length||b(t)&&!function(e){return Object.keys(e).some((e=>(0,i.C)().includes(e)))}(e)}function w(e){const{feed_format:t,feed_default_currency:o,default_availability_type:n,id:i,location_config:r,feed_username:s,feed_has_password:l,feed_status:a,preferred_schedule:c,locale:d,country:u,display_name:_,last_successful_ingestion:h,all_products_pg_item_count:p,integration_platform_type:m,created_at:g,domain:f}=e||{};return{id:i,url:r?r.full_feed_fetch_location:"",format:t,defaultCurrency:o,defaultAvailability:n,feedStatus:a,feedPreferredScheduleTime:c?c.time:void 0,feedPreferredScheduleTimezone:c?c.timezone:void 0,feedProfileName:_,integrationPlatformType:m,locale:d,country:u,credential:{username:s,hasPassword:l},lastSuccessfulIngestion:(x=h,x?{workflowStatus:x.workflow_status,workflowId:x.feed_fetch_workflow_id,productCount:x.product_count,inStockProductCount:x.in_stock_product_count,outOfStockProductCount:x.out_of_stock_product_count,preorderProductCount:x.preorder_product_count,originalProductCount:x.original_product_count,dateModified:x.created_at,originalUrl:x.original_url,s3SourceUrl:x.s3_source_url,s3ValidationUrl:x.s3_validation_url,validationStatsWarnings:x.validation_stats_warnings||{},validationStatsErrors:x.validation_stats_errors||{},ingestionStatsWarnings:x.ingestion_stats_warnings||{},ingestionStatsErrors:x.ingestion_stats_errors||{},ingestionStatsInfo:x.ingestion_stats_info||{},lastSuccessfulWorkflowId:x.last_successful_workflow_id}:null),allProductsPGItemCount:p,createdAt:g,domain:f};var x}function C(e){return(e||[]).map((e=>w(e)))}function E(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function T(e,t){return e.find((e=>E(t,e)))}const S=(e,t)=>({[l.ul.IN_STOCK]:t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type'),[l.ul.OUT_OF_STOCK]:t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type'),[l.ul.PREORDER]:t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')}[e]),I=e=>[{value:"NONE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')},...Object.keys(l.ul).map((t=>{var o;return{value:t,label:(null!==(o=S(l.ul[t],e))&&void 0!==o?o:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))]},677581:(e,t,o)=>{o.d(t,{O:()=>v,ZP:()=>P,rS:()=>b});var n=o(667294),i=o(6637),r=o(66699),s=o(319825),l=o(933543),a=o(487392),c=o(708032),d=o(139195),u=o(407043),_=o(529590),h=o(925927),p=o(898781),m=o(36675),g=o(306732),f=o(400264),x=o(883119),y=o(785893);const v=(e,t)=>{switch(e){case g.EK.MAX_GROUPS_FEATURED:return(0,r.Z)(t._('No more than {{maxFeaturedPGs}} product groups can be featured', 'ProductGroupTableFeatureCell.Flyout.maxGroupsFeatured', 'Tootip text saying you can\'t feature that group. maxFeaturedPGs: Maximum featured product groups limit'),{maxFeaturedPGs:`${m.Bm}`});case g.EK.TOO_MANY_PRODUCTS:return t._('Product groups with more than 500 items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooManyProducts', '[Catalogs] a tootip saying you can\'t feature that group');case g.EK.TOO_FEW_PRODUCTS:return(0,r.Z)(t._('Product groups with less than {{minPGPinLimit}} items can\'t be featured', 'ProductGroupTableFeatureCell.Flyout.tooFewProducts', 'Tootip saying you can\'t feature that group. minPGPinLimit: Minimum product group pin limit'),{minPGPinLimit:`${m.AC}`});case g.EK.TOO_FEW_UNIQUE_PRODUCTS:return(0,r.Z)(t._('To feature this product group, make sure it contains at least {{minPGPinLimit}} in stock items. Product group changes may take up to 24 hours to appear in Catalogs.', 'ProductGroupTableFeatureCell.Flyout.tooFewUniqueProducts', 'Tootip saying you can\'t feature that group. minPGPinLimit: Minimum product group pin limit'),{minPGPinLimit:`${m.AC}`});default:return""}};function P({productGroup:{id:e,featureStatus:t,featuredPosition:o},onFeaturedButtonClick:i,enableFeaturedButton:r=!1}){const{logContextEvent:a}=(0,u.v)(),c=(0,p.ZP)(),[d,_]=(0,n.useState)(!1),h=(0,n.useRef)(),m=null!=o,f=t===g.EK.FEATURING,P=t===g.EK.FEATURED,b=t===g.EK.CAN_FEATURE,A=P||!m&&f,w=v(t,c),C=(0,y.jsx)(l.Z,{cardId:e,children:(0,y.jsx)(x.hU,{accessibilityLabel:A?c._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):c._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:P?"darkGray":"gray",onClick:()=>{a({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205}),i&&i(e)},disabled:!r||f})});return(0,y.jsxs)(n.Fragment,{children:[b||f||P?(0,y.jsx)("div",{className:A?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:r&&!f?(0,y.jsx)(x.u,{inline:!0,idealDirection:"down",text:A?c._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):c._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:C}):(0,y.jsx)(s.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:C})}):(0,y.jsx)(x.xu,{position:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),ref:h,children:(0,y.jsx)(x.Sj,{icon:"alert",size:"lg"})}),d&&w&&(0,y.jsx)(x.mh,{zIndex:new x.Ry(50),children:(0,y.jsx)(x.J2,{anchor:h.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",positionRelativeToAnchor:!1,children:(0,y.jsx)(x.xu,{padding:3,children:(0,y.jsx)(x.xv,{color:"inverse",weight:"bold",children:w})})})})]})}function b({id:e,onFeaturedPgError:t}){const{logContextEvent:o}=(0,u.v)(),r=(0,p.ZP)(),[m,P]=(0,n.useState)(!1),[b,A]=(0,n.useState)(!0),[w,C]=(0,n.useState)(!1),E=(0,n.useRef)(),{state:{batchProductGroupsMap:T,featuredProductGroupsSet:S},dispatch:I}=(0,_.n)(),{advertiserId:j,merchantId:z}=(0,a.Z)(),{params:{feed_profile_id:R}}=(0,h.$B)();(0,n.useEffect)((()=>{if(!T)return()=>{};const e=setTimeout((()=>{A(!1)}),g.iu);return()=>{clearTimeout(e)}}),[T,A]);const{isLoaded:D,data:O,refresh:k}=(0,f.G7)({advertiserId:j,feedProfileId:R,productGroupsIds:(null==T?void 0:T[e])||[e]},b),L=null==O?void 0:O.find((t=>t.id===String(e))),N=L&&L.featured_position,M=D?(0,c._c)(O||[],String(e),""):"",F=null!=N,U=(null==S?void 0:S.has(String(e)))||M===g.EK.FEATURED;(0,n.useEffect)((()=>{S&&(S.has(String(e))&&M!==g.EK.FEATURED||!S.has(String(e))&&M===g.EK.FEATURED)&&(k(),C(!1))}),[S,k,M,e]);const B=M===g.EK.CAN_FEATURE,Z=v(M,r),G=(0,y.jsx)(l.Z,{cardId:e,children:(0,y.jsx)(x.hU,{accessibilityLabel:U?r._('Featured product group', 'ProductGroupTableFeatureCell.IconButton.featured', 'accessibility text for featured icon button'):r._('Feature product group', 'ProductGroupTableFeatureCell.IconButton.feature', 'accessibility text for feature icon button'),icon:"star",size:"lg",iconColor:U?"darkGray":"gray",onClick:()=>{o({event_type:101,view_type:236,view_parameter:3248,component:13331,element:12205});const n=i.ZP.create("FeaturedProductGroupsResource",{productGroupId:e,advertiserId:j,merchantId:z,feedProfileId:R}),r=U?n.callDelete():n.callCreate();C(!0),r.then((()=>{I((0,d.Oh)({featuringProductGroupIds:U?[]:[String(e)],unFeaturingProductGroupIds:U?[String(e)]:[]}))})).catch((()=>{t(),C(!1)}))},disabled:!(D||S)||w})});return(0,y.jsxs)(n.Fragment,{children:[B||U||F||w||!D?(0,y.jsx)("div",{className:U?"icon-button is-featured":"","data-test-id":"product-group-feature-button",children:!D&&!S||w?(0,y.jsx)(s.Z,{id:"feature-cell",type:"rect",animation:"pulse",color:"transparent",hideChildren:!1,children:G}):(0,y.jsx)(x.u,{inline:!0,idealDirection:"down",text:U?r._('Featured', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeaturedTooltipText', 'Tooltip for featured product group button'):r._('Feature', 'catalogs.productGroups.ProductGroupTableFeatureCell.FeatureTooltipText', 'Tooltip for feature product group button'),children:G})}):(0,y.jsx)(x.xu,{position:"relative",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),ref:E,children:(0,y.jsx)(x.Sj,{icon:"alert",size:"lg"})}),m&&Z&&(0,y.jsx)(x.mh,{zIndex:new x.Ry(50),children:(0,y.jsx)(x.J2,{anchor:E.current,color:"red",onDismiss:()=>{},size:"md",idealDirection:"left",positionRelativeToAnchor:!1,children:(0,y.jsx)(x.xu,{padding:3,children:(0,y.jsx)(x.xv,{color:"inverse",weight:"bold",children:Z})})})})]})}},933543:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(669381),r=o(785893);const s=e=>{const t=e=>e.stopPropagation();return Array.isArray(e)?e.reduce(((e,o)=>({...e,[o]:t})),{}):{[e]:t}};function l({cardId:e,children:t}){const{setIsHoveringCard:o}=(0,i.a)(),l=n.Children.only(t);return(0,r.jsx)("div",{...s(["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"]),onMouseEnter:()=>{o(null)},onMouseLeave:()=>{o(e)},children:l})}},787271:(e,t,o)=>{o.d(t,{KI:()=>s,ZP:()=>l});var n=o(808683);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const r=()=>({id:"id",name:"",status:-1,type:-1,selected:!1,parent:null,selectedChildren:0,totalChildren:0,children:new Map}),s=e=>"id"===e.id;const l=class{constructor(){i(this,"initialized",!1),i(this,"treeRoot",r()),i(this,"selectedPgNum",0),i(this,"getRoot",(()=>this.treeRoot)),i(this,"parseSourceId",(e=>e.split(" > "))),i(this,"insertNode",(e=>{let t=this.getRoot();if(null==e.source_id){const o={...r(),id:e.id,name:e.name,status:e.status,type:e.type,selected:e.status===n.CatalogProductGroupStatus.ACTIVE};t.children.set(e.id,o)}else{const o=this.parseSourceId(e.source_id);for(let i=0;i<o.length;i+=1)t&&(t.children.has(o[i])||t.children.set(o[i],{...r(),parent:t}),t=t.children.get(o[i])),i===o.length-1&&t&&(t.id=e.id,t.name=e.name,t.status=e.status,t.type=e.type,t.selected=e.status===n.CatalogProductGroupStatus.ACTIVE,t.parent&&(this.updateParentNodeWithChildrenNum(t.parent),t.selected&&this.updateParentNodeWithSelection(t.parent,!0)))}})),i(this,"updateParentNodeWithChildrenNum",(e=>{e&&(e.totalChildren+=1,this.updateParentNodeWithChildrenNum(e.parent))})),i(this,"updateParentNodeWithSelection",((e,t)=>{e&&(e.selectedChildren=t?e.selectedChildren+1:e.selectedChildren-1,this.updateParentNodeWithSelection(e.parent,t))})),i(this,"selectNode",(e=>{e.selected=!e.selected,this.updateParentNodeWithSelection(e.parent,e.selected),this.refreshSelectedPgNum()})),i(this,"selectAllNode",(e=>{this.internalSelectAllNode(this.getRoot(),e),this.refreshSelectedPgNum()})),i(this,"internalSelectAllNode",((e,t)=>{e.children.forEach((e=>{e.type!==n.CatalogProductGroupType.ALL_PRODUCTS&&(e.selected=t,e.selectedChildren=!1===t?0:e.totalChildren,this.internalSelectAllNode(e,t))}))})),i(this,"getSelectedPgNum",(()=>this.selectedPgNum)),i(this,"refreshSelectedPgNum",(()=>{this.selectedPgNum=this.internalRefreshSelectedPgNum(this.getRoot(),0)})),i(this,"internalRefreshSelectedPgNum",((e,t)=>(e.children.forEach((e=>{t=e.selected?t+1:t,t=this.internalRefreshSelectedPgNum(e,t)})),t))),i(this,"getPgStatusChangeList",(e=>this.internalGetPgStatusChangeList(this.getRoot(),e,[]))),i(this,"internalGetPgStatusChangeList",((e,t,o)=>(e.children.forEach((e=>{!0===t&&e.status===n.CatalogProductGroupStatus.SUGGESTED&&e.selected&&o.push(e.id),!1!==t||e.status!==n.CatalogProductGroupStatus.ACTIVE||e.selected||o.push(e.id),o=this.internalGetPgStatusChangeList(e,t,o)})),o))),i(this,"createTree",(e=>(e.forEach((e=>this.insertNode(e))),this.refreshSelectedPgNum(),this.initialized=!0,this.getRoot())))}}},306732:(e,t,o)=>{o.d(t,{Be:()=>a,CN:()=>Y,DD:()=>w,EK:()=>c,Eo:()=>m,F$:()=>K,HK:()=>te,KO:()=>R,MD:()=>k,MU:()=>L,PD:()=>M,QE:()=>E,R0:()=>Q,Tj:()=>x,V0:()=>f,Vw:()=>$,WH:()=>z,XT:()=>P,Y3:()=>u,aF:()=>U,bS:()=>g,cU:()=>C,cm:()=>Z,d0:()=>A,eu:()=>p,g2:()=>T,gd:()=>S,gw:()=>W,h8:()=>s,hL:()=>I,hh:()=>b,iu:()=>J,j1:()=>F,k7:()=>ee,kc:()=>h,kl:()=>_,kq:()=>B,l5:()=>y,pF:()=>N,pM:()=>D,pV:()=>v,ps:()=>l,q9:()=>d,qB:()=>V,r2:()=>X,rC:()=>O,rD:()=>ie,t7:()=>ne,ul:()=>r,vr:()=>oe,wZ:()=>H,yA:()=>G,yq:()=>j,zq:()=>q});var n=o(225643),i=o(808683);const r={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},s={NEW:"new",USED:"used",REFURBISHED:"refurbished"},l={MALE:"male",FEMALE:"female",UNISEX:"unisex"},a={[i.CatalogProductGroupType.ALL_PRODUCTS]:"All Products",[i.CatalogProductGroupType.BEST_DEALS]:"Best Deals",[i.CatalogProductGroupType.PINNER_FAVORITES]:"Most Popular",[i.CatalogProductGroupType.TOP_SELLERS]:"Top Sellers",[i.CatalogProductGroupType.BACK_IN_STOCK]:"Back In Stock",[i.CatalogProductGroupType.NEW_ARRIVALS]:"New Arrivals"},c={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},d=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.I2PC],u=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.I2PC],_=[i.CatalogProductGroupType.ALL_PRODUCTS,i.CatalogProductGroupType.BEST_DEALS,i.CatalogProductGroupType.PINNER_FAVORITES,i.CatalogProductGroupType.TOP_SELLERS,i.CatalogProductGroupType.BACK_IN_STOCK,i.CatalogProductGroupType.NEW_ARRIVALS,i.CatalogProductGroupType.SHOPIFY_COLLECTIONS,i.CatalogProductGroupType.MERCHANT_CREATED,i.CatalogProductGroupType.I2PC],h=90,p=350,m=72,g=450,f=200,x=12,y=114,v={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},P={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},b={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},A=[b.PRODUCT_CATEGORY,b.PRODUCT_TYPE,b.BRANDS,b.CUSTOM_LABEL_0,b.CUSTOM_LABEL_1,b.CUSTOM_LABEL_2,b.CUSTOM_LABEL_3,b.CUSTOM_LABEL_4],w={[b.ITEM_ID]:["ITEM_ID"],[b.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[b.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[b.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[b.COST]:["MIN_PRICE","MAX_PRICE"],[b.BRANDS]:["BRAND"],[b.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[b.AVAILABILITY]:["AVAILABILITY"],[b.CONDITION]:["CONDITION"],[b.GENDER]:["GENDER"]},C=[b.CUSTOM_LABEL,b.COST,b.CURRENCY],E={[n.AvailabilityType.IN_STOCK]:r.IN_STOCK,[n.AvailabilityType.OUT_OF_STOCK]:r.OUT_OF_STOCK,[n.AvailabilityType.PREORDER]:r.PREORDER},T={[n.ConditionType.NEW]:s.NEW,[n.ConditionType.USED]:s.USED,[n.ConditionType.REFURBISHED]:s.REFURBISHED},S={[n.GenderType.MALE]:l.MALE,[n.GenderType.FEMALE]:l.FEMALE,[n.GenderType.UNISEX]:l.UNISEX},I={[i.CatalogProductGroupFilterKey.ITEM_ID]:b.ITEM_ID,[i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0]:b.PRODUCT_CATEGORY,[i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0]:b.PRODUCT_TYPE,[i.CatalogProductGroupFilterKey.BRAND]:b.BRANDS,[i.CatalogProductGroupFilterKey.AVAILABILITY]:b.AVAILABILITY,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0]:b.CUSTOM_LABEL_0,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1]:b.CUSTOM_LABEL_1,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2]:b.CUSTOM_LABEL_2,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3]:b.CUSTOM_LABEL_3,[i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4]:b.CUSTOM_LABEL_4,[i.CatalogProductGroupFilterKey.CONDITION]:b.CONDITION,[i.CatalogProductGroupFilterKey.GENDER]:b.GENDER,[i.CatalogProductGroupFilterKey.MIN_PRICE]:b.PRICE,[i.CatalogProductGroupFilterKey.MAX_PRICE]:b.PRICE,[i.CatalogProductGroupFilterKey.CURRENCY]:b.CURRENCY,[i.CatalogProductGroupFilterKey.ITEM_GROUP_ID]:b.ITEM_GROUP_ID},j={[b.ITEM_ID]:i.CatalogProductGroupFilterKey.ITEM_ID,[b.PRODUCT_CATEGORY]:i.CatalogProductGroupFilterKey.GOOGLE_PRODUCT_CATEGORY_0,[b.PRODUCT_TYPE]:i.CatalogProductGroupFilterKey.PRODUCT_TYPE_0,[b.BRANDS]:i.CatalogProductGroupFilterKey.BRAND,[b.AVAILABILITY]:i.CatalogProductGroupFilterKey.AVAILABILITY,[b.CUSTOM_LABEL_0]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_0,[b.CUSTOM_LABEL_1]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_1,[b.CUSTOM_LABEL_2]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_2,[b.CUSTOM_LABEL_3]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_3,[b.CUSTOM_LABEL_4]:i.CatalogProductGroupFilterKey.CUSTOM_LABEL_4,[b.CONDITION]:i.CatalogProductGroupFilterKey.CONDITION,[b.GENDER]:i.CatalogProductGroupFilterKey.GENDER,[b.PRICE]:i.CatalogProductGroupFilterKey.MAX_PRICE,[b.CURRENCY]:i.CatalogProductGroupFilterKey.CURRENCY,[b.ITEM_GROUP_ID]:i.CatalogProductGroupFilterKey.ITEM_GROUP_ID},z={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},R={[z.GREATER_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.GREATER_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MIN_PRICE,filterOperator:{negated:!1,inclusion:!0}},[z.LESS_EXCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!1}},[z.LESS_INCLUSION]:{filterType:i.CatalogProductGroupFilterKey.MAX_PRICE,filterOperator:{negated:!1,inclusion:!0}}},D="newlyCreatedPGId",O="storefront",k={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},L=163,N=350,M={LIST:"LIST",GRID:"GRID"},F="236x",U=50,B="calc(100vh - 277px)",Z="calc(100vh - 175px)",G=75,H=200,V=40,W=127,$=", ",Y=/[\t\n,]+/,K=/[^\t\n,]+/gi,X=/^[\s]+$/,q=/[^\S\t\n]+/,Q={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC"},J=500,ee=20,te=40,oe=100,ne=4,ie={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"}},529590:(e,t,o)=>{o.d(t,{a:()=>s,n:()=>l});var n=o(699639),i=(o(667294),o(139195));const r=()=>({productGroupsCountMap:{},featuredProductGroupsSet:null,batchProductGroupsMap:null,batchSideSheetProductGroupsMap:null});const{Provider:s,useStateStoreContext:l}=(0,n.Z)("ProductGroups",((e,t)=>{switch(t.type){case i.N9.BATCH_PRODUCT_GROUPS:return((e,t)=>({...e,batchProductGroupsMap:{...t.payload}}))(e,t);case i.N9.BATCH_SIDE_SHEET_PRODUCT_GROUPS:return((e,t)=>({...e,batchSideSheetProductGroupsMap:{...t.payload}}))(e,t);case i.N9.UPDATE_PRODUCT_COUNT:return((e,t)=>({...e,productGroupsCountMap:{...e.productGroupsCountMap,[t.payload.id]:t.payload.count}}))(e,t);case i.N9.UPDATE_FEATURED_PRODUCT_GROUP_SET:return((e,{payload:{featuringProductGroupIds:t,unFeaturingProductGroupIds:o}})=>{const n=new Set(e.featuredProductGroupsSet);return t.forEach((e=>n.add(e))),o.forEach((e=>n.delete(e))),{...e,featuredProductGroupsSet:n}})(e,t);default:return e}}),r)},669381:(e,t,o)=>{o.d(t,{a:()=>r,w:()=>i});var n=o(425288);const{Provider:i,useHook:r}=(0,n.Z)("ProductGroupsTable")},708032:(e,t,o)=>{o.d(t,{I3:()=>c,Kk:()=>s,_c:()=>a});var n=o(36675),i=o(306732);const r=e=>(e||[]).filter((e=>void 0!==e.featured_position&&null!==e.featured_position)).map((e=>({...e,featured:!0}))),s=(e,t)=>(e=>r(e).map((e=>e.id.toString())))(e).includes(t.toString()),l=(e,t)=>(e||[]).find((({id:e})=>e.toString()===t))||null,a=(e,t,o)=>{const a=r(e).filter((e=>e.group_type===i.pV.MERCHANT_CREATED)).length,c=((e,t)=>{const o=l(e,t);return o&&o.featureable_status&&o.featureable_status.code?o.featureable_status.code:i.XT.FEATUREABLE})(e,t);return o===t?i.EK.FEATURING:s(e,t)?i.EK.FEATURED:c===i.XT.UNFEATUREABLE_NOT_ENOUGH_PINS?i.EK.TOO_FEW_PRODUCTS:c===i.XT.UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS?i.EK.TOO_FEW_UNIQUE_PRODUCTS:c===i.XT.UNFEATUREABLE_EXCEEDED_PINS_LIMIT?i.EK.TOO_MANY_PRODUCTS:a>=n.Bm?i.EK.MAX_GROUPS_FEATURED:i.EK.CAN_FEATURE},c=(e,t,o,n,i)=>t.map((t=>{const r=t.id.toString(),s=l(e,r),c=a(e,r,o||"");return{id:t.id.toString(),name:t.name,lastUpdate:t.last_update,createdAt:t.created_at,productCount:t.product_count?Number(t.product_count):0,type:t.type,featuredPosition:null==s?void 0:s.featured_position,featureStatus:c,promotedStatus:"",previewPins:null==s?void 0:s.preview_pins,filters:t.filters,filter_v2:t.filter_v2,promoted:!!n.find((({catalog_product_group_id:e})=>e===t.id.toString())),promotedButNotAccessible:!!i.includes(t.id),sourceId:t.source_id}}))},400264:(e,t,o)=>{o.d(t,{G7:()=>c,Lp:()=>d,Ib:()=>a});var n=o(667294),i=o(898781),r=o(784590),s=o(306732),l=o(808683);function a(e={},t=!1,o=!1){const a=(0,i.ZP)(),c=(0,r.Z)({name:"ProductGroupsResource",options:e,dangerouslyDisableFetch:t,enabledRouteRefresh:!0,noCache:o}),d=(0,n.useMemo)((()=>c.data&&c.isLoaded?c.data.map((e=>(e.name===s.Be[Number(e.type)]&&(Number(e.type)===l.CatalogProductGroupType.ALL_PRODUCTS?e.name=a._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):Number(e.type)===l.CatalogProductGroupType.BEST_DEALS?e.name=a._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):Number(e.type)===l.CatalogProductGroupType.PINNER_FAVORITES?e.name=a._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):Number(e.type)===l.CatalogProductGroupType.TOP_SELLERS?e.name=a._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):Number(e.type)===l.CatalogProductGroupType.BACK_IN_STOCK?e.name=a._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):Number(e.type)===l.CatalogProductGroupType.NEW_ARRIVALS&&(e.name=a._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals'))),e))):[]),[a,c.data,c.isLoaded]);return{...c,data:d}}function c(e={},t=!1){const o=(0,r.Z)({name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e,dangerouslyDisableFetch:t});return(0,n.useEffect)((()=>{o.isAtEnd||o.fetchMore()}),[o.nextBookmark]),{...o,data:o&&o.data||[]}}function d(e={}){const t=(0,r.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return{...t,data:t&&t.data||{}}}},139195:(e,t,o)=>{o.d(t,{N9:()=>n,Oh:()=>l,b0:()=>i,qu:()=>s,sT:()=>r});const n={BATCH_PRODUCT_GROUPS:"batchProductGroups",BATCH_SIDE_SHEET_PRODUCT_GROUPS:"batchSideSheetProductGroups",UPDATE_PRODUCT_COUNT:"updateProductGroupCount",UPDATE_FEATURED_PRODUCT_GROUP_SET:"updateFeaturedProductGroupSet"},i=e=>({type:n.BATCH_PRODUCT_GROUPS,payload:e}),r=e=>({type:n.BATCH_SIDE_SHEET_PRODUCT_GROUPS,payload:e}),s=({id:e,count:t})=>({type:n.UPDATE_PRODUCT_COUNT,payload:{id:e,count:t}}),l=e=>({type:n.UPDATE_FEATURED_PRODUCT_GROUP_SET,payload:e})},869899:(e,t,o)=>{o.r(t),o.d(t,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>x});var n=o(667294),i=o(389643),r=o(784590),s=o(19121),l=o(217468),a=o(425288),c=o(70061);const d=e=>{const t={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&("object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?t[(0,c.Z)(o)]=e[o]:t[(0,c.Z)(o)]=d(e[o]));return t},u=(e,t)=>{const o=[];for(const r in e)r!==t&&o.push({id:r,...d(e[r])});const n=o.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),i=new Map;for(const r of n)i.set(r.id,r);return i};var _=o(622096);const h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,o]=(0,n.useReducer)(p,h),i=(({dispatch:e,isEnabled:t,state:o})=>{const{orbacVisibility:i,disableProfileChanger:r,headerVisible:s}=o;return{changeProfile:(0,n.useCallback)((o=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:o})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=o?o:!i})}),[t,e,i]),toggleDisableProfileChanger:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=o?o:!r})}),[t,e,r]),toggleHeaderVisibility:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=o?o:!s})}),[t,e,s])}})({dispatch:o,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:s}=t;(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacVisibility",s)}),[s]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:i,receiveProfiles:(0,n.useCallback)(((e,t)=>{o({type:"LOAD_PROFILES",payload:u(e,t)})}),[o])}};var g=o(785893);const{Provider:f,useMaybeHook:x}=(0,a.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const t=(0,l.t)("web_m10n_business_access_orbac_www"),o=(0,s.Z)(),a=Boolean(o.isAuth&&o.isPartner&&t().anyEnabled),{state:c,actions:d,receiveProfiles:u}=m(a),{activeProfile:_,headerVisible:h,profiles:p=[]}=c,x=p?Array.from(p.values()):[],y=(0,i.Z)(x),v=!!(o.isAuth&&x.length>0)&&y,P=o.isAuth?o.id:"",b=o.isAuth?o.username:"",{changeProfile:A,toggleORBACVisibility:w,toggleDisableProfileChanger:C,toggleHeaderVisibility:E}=d;(0,n.useEffect)((()=>{a&&("string"!=typeof y?_||A(P):A(y))}),[y,P,a,A,_]),(0,n.useEffect)((()=>{a&&(v&&!h&&E(!0),!v&&h&&E(!1))}),[E,v,a,h,p]);const{data:T}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!a}),S=null==T?void 0:T.profiles;let I;o&&o.isAuth&&c.activeProfile===o.id?I={id:o.id,permissions:["OWNER"],user:{username:b,businessName:o.fullName,imgUrl:o.imageSmallUrl}}:_&&c.profiles&&(I=c.profiles.get(_)),(0,n.useEffect)((()=>{S&&u(S,P)}),[u,S,P]);const j=c.profiles?Array.from(c.profiles.values()):[];return(0,g.jsx)(f,{value:{profiles:j,headerVisible:c.headerVisible,activeProfile:I,changeProfile:A,toggleORBACVisibility:w,toggleDisableProfileChanger:C,toggleHeaderVisibility:E},children:e})}},717615:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(217468),i=o(869899);const r=()=>{const e=(0,n.t)("web_m10n_business_access_orbac_www"),t=(0,i.useRoleBasedAccessControlContext)(),{activeProfile:o}=t||{};return e().anyEnabled&&o||Object.freeze({})}},389643:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(966338),i=o(19121),r=o(217468),s=o(53987),l=o(925927);const a=e=>{var t;const o=(0,l.TH)(),a=(0,i.Z)(),{anyEnabled:c}=(0,r.t)("web_m10n_business_access_orbac_www")(),d=(0,l.$B)("/:username"),u=null==d||null===(t=d.params)||void 0===t?void 0:t.username,_=(0,l.$B)("/pin/:id"),h=(0,n.useSelector)((e=>{var t,o,n,i;return!(null==_||null===(t=_.params)||void 0===t||!t.id)&&(null==e||null===(o=e.pins)||void 0===o||null===(n=o[_.params.id])||void 0===n||null===(i=n.pinner)||void 0===i?void 0:i.id)}));if((0,s.ej)(o))return!1;if((0,s.RU)(o))return!0;if((0,s.mY)(o))return c;const p=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find((e=>{const{user:t={},id:o}=e||{},{username:n}=t;return!!(n&&u||h&&o)&&(n===u||h===o)}));return!!p&&p.id}},231947:(e,t,o)=>{o.d(t,{D3:()=>c,DX:()=>l,KY:()=>d,Ms:()=>n,N1:()=>u,_P:()=>s,lJ:()=>r,nl:()=>i,q6:()=>a});const n=(e,t)=>{let o=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(o=t.user.username),o},i=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,o)=>{var n;return o&&o.user&&t&&t.isAuth&&o.id!==t.id?o.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},l=(e,t,o)=>o&&o.user&&e.isAuth&&o.id!==e.id?o.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,a=(e,t,o)=>!!(e&&e.isAuth&&o&&o.id&&o.id!==e.id&&o.id===t),c=(e,t,o)=>!!(a(e,t,o)||e&&e.isAuth&&t===e.id),d=(e,t,o)=>{const n=t&&t.owner&&t.owner.id||"";return c(e,n,o)};function u(e,t,o){const n=t?t.id:"";return c(e,n,o)}},874934:(e,t,o)=>{o.d(t,{pb:()=>f,nf:()=>x,lV:()=>y});var n=o(667294),i=o(6637),r=o(618446),s=o.n(r),l=o(682492),a=o.n(l);const c={feature_map:Object.freeze({})},d=(e,t)=>{const o={...a()({},e,t),...t.content?{content:t.content}:Object.freeze({}),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return s()(e,o)?e:o},u=(e=c,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:o}}=t,n=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){const t=(n||[]).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&n&&n.length>0){const t=n.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,o)=>(t[o.id]=d(e[o.id],o),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&n&&n.length>0){const t=n[0].aggregated_comment,o=t?{[t.id]:d(e[t.id],t)}:{},i=n[0].creator_reply,r=i?{[i.id]:d(e[i.id],i)}:{};return{...e,...o,...r}}if("AggregatedCommentFeaturesResource"===o&&n&&Object.keys(n).length>0)return{...e,feature_map:n}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:o}}=t,n={...e};return delete n[o],n}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==o})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:o}}=t;return{...e,[o.id]:d(e[o.id],o)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.reaction_counts[1]||0,r={1:o.reaction_by_me?i+1:i-1},s={...n,reaction_by_me:o.reaction_by_me,reaction_counts:r};return{...e,[o.id]:s}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:o}}=t,n=e[o.id],i=n.helpful_count||0,r=o.marked_helpful_by_me?i+1:i-1,s={...n,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:r};return{...e,[o.id]:s}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:o}}=t,n={...e[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:n}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e.feature_map,...o}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:o,id:n}}=t,i=e[n],r={...i,comment_count:i.comment_count+o};return{...e,[n]:r}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:o,tagged_users:n}}=t,i={...e[o],tagged_users:n};return{...e,[o]:i}}}return e};var _=o(425288),h=o(505920),p=o(785893);const{Provider:m,useHook:g}=(0,_.Z)("AggregatedComments");function f({children:e}){const[t,o]=(0,n.useReducer)(u,c),i=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,h.Z8)("AggregatedCommentFeaturesResource",i),(0,h.my)("AggregatedCommentFeaturesResource",i),(0,h.Z8)("AggregatedCommentFeedResource",i),(0,h.my)("AggregatedCommentFeedResource",i),(0,h.Z8)("AggregatedCommentReplyFeedResource",i),(0,h.my)("AggregatedCommentReplyFeedResource",i),(0,h.Z8)("DidItCommentsResource",i),(0,h.my)("DidItCommentsResource",i),(0,h.Z8)("UnifiedCommentsPreviewResource",i),(0,h.my)("UnifiedCommentsPreviewResource",i),(0,h.Z8)("UnifiedCommentsResource",i),(0,h.my)("UnifiedCommentsResource",i);const r=(0,n.useMemo)((()=>({aggregatedComments:t,dispatch:o})),[t,o]);return(0,p.jsx)(m,{value:r,children:e})}function x(){const{dispatch:e}=g();return(0,n.useMemo)((()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:o})=>{const n={commentId:e,reason:t,detailedReasons:o};return i.ZP.create("AggregatedCommentFlagResource",n).callCreate()},deleteCommentMention:async t=>{var o;const{resource_response:n}=await i.ZP.create("MentionsResource",{aggregatedCommentId:t,field_set_key:"comment"}).callDelete(),r=null!==(o=null==n?void 0:n.data)&&void 0!==o?o:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:r.id,tagged_users:r.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o})=>{const n=i.ZP.create("HelpfulResource",{helpfulModelType:1,objectId:t});o?n.callDelete({showError:!1}):n.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:({aggregatedCommentId:t,pinId:o,isHighlighted:n})=>{const r=i.ZP.create("AggregatedCommentHighlightResource",{aggregatedCommentId:t,pinId:o});n?r.callDelete({showError:!1}):r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o})=>{const n=i.ZP.create("AggregatedCommentLikeResource",{aggregatedCommentId:t});o?n.callDelete({showError:!1}):n.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:o?0:1}}})},updateAggregatedComment:async({commentId:t,orbacSubjectId:o,tags:n,text:r})=>{var s;const{resource_response:l}=await i.ZP.create("AggregatedCommentResource",{commentId:t,tags:n,text:r,...o?{orbacSubjectId:o}:{}}).callUpdate({showError:!1}),{tagged_users:a}=null!==(s=null==l?void 0:l.data)&&void 0!==s?s:{},c=a.map((e=>Object.assign({},e)));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(n),text:r}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o})=>{var n;const{resource_response:r}=await i.ZP.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:o}).callUpdate({showError:!1}),s=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:s}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}})),[e])}function y(){const{aggregatedComments:e}=g();return e}},107656:(e,t,o)=>{o.d(t,{o:()=>n});const n={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},494349:(e,t,o)=>{o.d(t,{g:()=>h,I:()=>_});var n=o(667294),i=o(567450),r=o(150361),s=o.n(r);const l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},a=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:r}=o,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:a,organicVideosAutoplaying:c}=l,d=s()(a),u=s()(c);return i?d[n]={pinId:n,currentTime:r,paused:!1}:u[n]={pinId:n,currentTime:r,paused:!1},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:o}=t,{pinId:n,isPromoted:i,currentTime:r}=o,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:a,organicVideosAutoplaying:c}=l,d=s()(a),u=s()(c);return i?d[n]={...d[n],paused:!0,currentTime:r}:u[n]={...u[n],paused:!0,currentTime:r},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=o(425288),d=o(785893);const{Provider:u,useHook:_}=(0,c.Z)("AppUI");function h({children:e}){const[t,o]=(0,n.useReducer)(a,l),r=(0,n.useCallback)((e=>o({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),s=(0,n.useCallback)((e=>o({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,n.useCallback)((e=>o({type:"SET_CURRENT_VIDEO",payload:e})),[]),_=(0,n.useCallback)((e=>o({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,n.useCallback)((e=>o({type:"SET_IS_AUTOPLAY",payload:e})),[]),p=(0,n.useCallback)((e=>o({type:"SET_VIEWPORT_SIZE",payload:e})),[]),m=(0,n.useCallback)((e=>o({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,n.useMemo)((()=>({pauseAutoplay:r,setCurrentVideo:c,setFooterPlusButtonVisible:_,setIsAutoplay:h,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:s,appUI:t})),[r,c,_,h,p,m,s,t]);return(0,n.useEffect)((()=>{i.Z.onSessionResume((()=>{s(!0)})).onSessionPause((()=>{s(!1)}))}),[s]),(0,d.jsx)(u,{value:g,children:e})}},87732:(e,t,o)=>{o.d(t,{a:()=>u,S:()=>d});var n=o(667294),i=o(6637);const r={boardMap:{}};function s(e=r,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){const{payload:{boardId:o,blockingActions:n}}=t;let i=null,r=null;const s={};return n.forEach((({section_id:e,progress:t,id:o,created_timestamp:n})=>{const l={id:o,createdAt:n,progress:t};e?"-1"===e?i=l:s[e]=l:r=l})),{...e,boardMap:{...e.boardMap,[o]:{wholeBoard:i,unorganized:r,sectionMap:s}}}}return e}var l=o(425288),a=o(785893);const{Provider:c,useMaybeHook:d}=(0,l.Z)("BlockingAction");function u({children:e}){const[t,o]=(0,n.useReducer)(s,r),l=(0,n.useCallback)((e=>function(e){return i.ZP.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,o)=>{const n=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;n?t(n):o(new Error("No blocking actions found in the response"))}))))}(e).then((t=>(o({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)))),[]),d=(0,n.useMemo)((()=>({blockingActions:t,fetchBlockingActions:l})),[t,l]);return(0,a.jsx)(c,{value:d,children:e})}},980750:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(87732),i=o(343341),r=o(667294),s=o(391254),l=o(50286),a=o(898781),c=o(883119),d=o(499128),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function h(){const e=(0,a.ZP)();return(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:[(0,u.jsx)(s.Z,{unsafeCSS:"\n@keyframes spin {\n  from {\n    opacity: 1;\n    transform: rotate(0deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate(360deg);\n  }\n}"}),(0,u.jsx)(c.xu,{display:"block",opacity:0,dangerouslySetInlineStyle:{__style:{animationDelay:"0.3s",animationDuration:"1.2s",animationIterationCount:"infinite",animationName:"spin",animationTimingFunction:"linear"}},children:(0,u.jsx)(c.JO,{accessibilityLabel:e._('board action pending', 'accessibility label for board action toast to indicate pending action', 'accessibility label for board action toast to indicate pending action'),color:"inverse",icon:"knoop",size:40})})]})}class p extends r.Component{constructor(...e){super(...e),_(this,"state",{hiding:!1,visible:!1}),_(this,"handleHide",(()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,d.Vg)})),_(this,"handleMouseEnter",(()=>{window.clearTimeout(this.timeout)})),_(this,"handleMouseLeave",(()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)}))}componentDidMount(){this.firstLine&&(window.setTimeout((()=>{this.setState({visible:!0})}),100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){const{actionType:e,actionStatus:t,location:{isSection:o}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":return o?n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section'):n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":return o?n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section'):n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":return o?n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section'):n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){const{actionStatus:e,deviceType:t,location:o}=this.props,{visible:n,hiding:i}=this.state;if(!this.firstLine)return null;const s="inProgress"===e?`${o.name}...`:o.name;return(0,u.jsx)(c.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:{__style:(0,d.UZ)({deviceType:t,visible:n,hiding:i})},children:(0,u.jsx)(c.FN,{text:(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.xv,{children:this.firstLine}),(0,u.jsx)(c.xv,{weight:"bold",children:s})]}),thumbnail:"completed"===e?void 0:(0,u.jsx)(h,{})})})}}function m(e){const t=(0,l.ZP)(),o=(0,a.ZP)();return(0,u.jsx)(p,{...e,deviceType:t,i18n:o})}const g=["merge","move_pins","create_section"];let f=0;const x={};const y=(e,t,o,n)=>({hideToast:i})=>{var r,s;return(0,u.jsx)(m,{actionType:t,actionStatus:e,duration:2e3,location:{name:n?null!==(r=n.title)&&void 0!==r?r:"":null!==(s=o.name)&&void 0!==s?s:"",isSection:!!n},onHide:i})};function v(){var e;const{showToast:t}=(0,i.F9)(),{fetchBlockingActions:o}=null!==(e=(0,n.S)())&&void 0!==e?e:{fetchBlockingActions:e=>new Promise((e=>e([])))};return{showBlockingActionToast:({actionType:e,board:n,section:i})=>{t(y("inProgress",e,n,i)),function({check:e,checkDelay:t,checkInterval:o,onComplete:n}){const i=`timeout${f}`;f+=1;const r=()=>{const t=Date.now();e().then((e=>{const s=Date.now()-t;e?(n(),delete x[i]):x[i]=setTimeout(r,Math.max(1e3,o-s))})).catch((()=>{delete x[i]}))};x[i]=setTimeout(r,t)}({check:()=>o(n.id).then((t=>!function({blockingActions:e,actionType:t,boardId:o,sectionId:n}){return e.find((e=>!(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)!==t||g.includes(e.action_type)&&e.is_origin||e.board_id!==o||(n?n!==e.section_id:e.section_id&&"-1"!==e.section_id)||1===e.progress)))}({blockingActions:t,actionType:e,boardId:n.id,sectionId:i&&i.id}))),checkDelay:2e3,checkInterval:5e3,onComplete:()=>t(y("completed",e,n,i))})}}}},344676:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(966338),r=o(978776),s=o(27255),l=o(717615),a=o(19121),c=o(223123),d=o(898781),u=o(231947),_=o(883119),h=o(98265),p=o(785893);function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(...e){super(...e),m(this,"state",{selectedCollaborators:[]}),m(this,"handleSubmit",(e=>{const{advertiserId:t,createBoard:o,onBoardCreate:n,viewer:i,orbacActingAs:r}=this.props,s=(0,u.lJ)(i,r),{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_}=e;return o({boardCreateOptions:{name:l,description:a,privacy:c,collab_board_email:d,collaborator_invites_enabled:_,...t?{advertiser_id:t}:{},...s?{orbac_subject_id:s}:Object.freeze({})}}).then((e=>{this.inviteSelectedColaborators(e.id),n(e)}))})),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}inviteSelectedColaborators(e){const t=this.state.selectedCollaborators.filter((({type:e})=>"email"===e));t.length>=1&&(0,h.OA)(e,t.map((({type:e})=>e)));const o=this.state.selectedCollaborators.filter((({type:e})=>e.startsWith("user")));o.length>=1&&(0,h.pS)(e,o.map((({id:e})=>e)))}render(){const{advertiserId:e,isAdAccountOwner:t,onClose:o,privacy:n,useModalWithNoLayer:i}=this.props;return(0,p.jsx)(r.Z,{board:{...this.emptyBoardData,privacy:t?n:s.Z.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:o,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:i,title:(0,p.jsx)(_.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(_.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}function f(e){const t=(0,c.Z)(),o=(0,d.ZP)(),n=(0,a.Z)(),r=(0,i.useSelector)((({advertiser:e})=>e?e.id:void 0)),s=(0,l.Z)(),u=(0,i.useSelector)((({advertiser:e})=>!e||n.isAuth&&e.owner_user_id===n.id));return(0,p.jsx)(g,{...e,advertiserId:r,createBoard:t,dispatch:(0,i.useDispatch)(),isAdAccountOwner:u,viewer:n,i18n:o,orbacActingAs:s})}m(g,"defaultProps",{privacy:s.Z.BoardPrivacy.PUBLIC})},479301:(e,t,o)=>{o.d(t,{i5:()=>v,sX:()=>b,Z5:()=>y,NG:()=>P,MT:()=>A});var n=o(667294),i=o(6637),r=o(802201),s=o(682492),l=o.n(s);const a=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const o={};return e.filter((e=>!!e)).reduce(((e,n)=>{const i=t(n);return o[i]?(l()(o[i],n),e):(o[i]=n,e.concat([n]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,o){let n=a(e,t).concat(o);return n=c(n,(e=>e.id)),d(n)}const _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function h(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e[o]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const o={...e,data:{...e.data}},{id:n}=t.payload;return delete o.data[n],o}if("FETCH_COMPLETE"===t.type){const{options:o,resource:n,response:i}=t.payload,r=i.resource_response.data;if("ConversationMessagesResource"===n){const t=r||[],n=(null==o?void 0:o.conversation_id)||"",i=u(e,n,t),s=i[i.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:i,unread:0,last_message:s}}}}if("ConversationsResource"===n){const t=r||[],o={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:i,board:r,emails:s,unread:l,users:a,last_message:c}=e,d=u(o,t,[c]);o.data[t]={...o.data[t],id:t,created_at:n,name:i,board:r,emails:s||[],unread:l||0,users:a||[],last_message:c,messages:d}})),o}if("ConversationResource"===n){const t=r||{},{id:o}=t,n={...e,data:{...e.data}};return o&&(n.data[o]={...n.data[o],...t}),n}if("NewsHubBadgeResource"===n){if(r){const t=r.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:o,message:n}=t.payload;if(e.data[o]){const t=u(e,o,[n]);return{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:t,last_message:n}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:o,messageId:n,newMessageId:i}=t.payload;if(e.data[o]){const t=a(e,o).find((e=>e.id===n));if(t){const r={...t,id:i};let s=a(e,o).filter((e=>e.id!==n)).concat([r]);return s=c(s,(e=>e.id)),s=d(s),{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:s}}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:o}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:o}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var p=o(425288),m=o(505920),g=o(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:x,useHook:y}=(0,p.Z)("Conversations");function v({children:e}){const[t,o]=(0,n.useReducer)(h,_),r=(0,n.useCallback)((e=>o({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",r),(0,m.my)("ConversationMessagesResource",r),(0,m.Z8)("ConversationsResource",r),(0,m.Z8)("ConversationResource",r),(0,m.Z8)("NewsHubBadgeResource",r);const s=(0,n.useCallback)(((e,t=!1,n="")=>o({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),l=(0,n.useCallback)(((e,t="",n=!1)=>o({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),a=(0,n.useCallback)((e=>o({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,n.useCallback)((e=>o({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,n.useCallback)(((e,t,n)=>{i.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;o({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),u=(0,n.useCallback)((()=>{o({type:"CLOSE_DROPDOWN"})}),[]),p=(0,n.useCallback)((()=>{o({type:"OPEN_DROPDOWN"})}),[]),f=(0,n.useCallback)((e=>{o({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),y=(0,n.useCallback)(((e,t)=>o({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),v=(0,n.useCallback)(((e,t,n)=>o({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}})),[]),P=(0,n.useCallback)((e=>o({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),b=(0,n.useCallback)((e=>o({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),A=(0,n.useMemo)((()=>({conversationOpen:s,conversationClose:l,conversationCreate:a,conversationDelete:c,conversationGet:d,dropdownClose:u,dropdownOpen:p,newMessageOpen:f,pendingMessageSend:y,pendingMessageClear:v,updateNewsHubCount:P,updateUnreadCount:b,conversations:t})),[s,l,a,c,d,u,p,f,y,v,P,b,t]);return(0,g.jsx)(x,{value:A,children:e})}function P(){const{conversations:e,conversationCreate:t,pendingMessageSend:o,pendingMessageClear:n}=y(),s=(0,r.AF)();return(r,l,a,c)=>new Promise(((d,u)=>{const{text:_,pinId:h,boardId:p,userId:m,didItId:g}=l;function x(){const e=i.ZP.create("ConversationMessagesResource",{conversation_id:r,text:_,pin:h,board:p,user:m,user_did_it_data:g,source:a}),t=`${f()}`;o(r,{text:_,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:h?s[h]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{n(r,t,e.resource_response.data.id),d()})).catch(u)}e.data[r]?x():i.ZP.create("ConversationResource",{conversation_id:r}).callGet().then((e=>{const o=e&&e.resource_response&&e.resource_response.data;t(o),x()}))}))}function b(e){const{conversations:t}=y();return t.data[e]}function A(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},781212:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(784590),i=o(116303),r=o(694379),s=o(898781),l=o(545062),a=o(19121),c=o(349700),d=o(883119),u=o(785893);const _=({creatorData:e,onTap:t,onUserFollow:o})=>{const n=(0,s.ZP)(),_=(0,a.Z)(),{explicitly_followed_by_me:h,follower_count:p=0,full_name:m,id:g,image_medium_url:f,username:x,verified_identity:y}=e||{},v=`/${x}/`;return(0,u.jsx)(d.sg,{span:4,children:(0,u.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:1,dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},children:[(0,u.jsx)(d.iP,{href:v,onTap:()=>t(g),role:"link",children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,u.jsx)(d.xu,{width:60,height:60,children:(0,u.jsx)(i.Z,{name:null!=m?m:"",size:"fit",src:null!=f?f:"",verified:!(null==y||!y.verified)})}),(0,u.jsxs)(d.xu,{paddingY:2,marginBottom:1,children:[(0,u.jsx)(d.xu,{marginBottom:1,children:(0,u.jsx)(d.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:m})}),(0,u.jsx)(d.xv,{align:"center",size:"100",children:(0,c.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', p, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,u.jsx)(r.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:p},p)})})]})]})}),(0,u.jsx)(l.Z,{fullName:m,id:g,imageUrl:f,isOwnProfile:_.isAuth&&_.id===g,profileUrl:`/${x}/`,userFollowed:h,onUserFollow:e=>o({userIsNowFollowing:e,creatorId:g}),isSecondaryButton:!0,size:"sm",shouldStopEventPropagation:!0,viewType:3,viewParameter:156})]})})};var h=o(829407),p=o(407043);const m=({creatorRecs:e,fullName:t,pinId:o,viewParameter:n,viewType:i})=>{const{logContextEvent:r}=(0,p.v)(),l=(0,s.ZP)();(0,h.Z)((()=>{r({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})}));const a=e=>{r({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...o?{pin_id:o}:{}}})},m=({userIsNowFollowing:e,creatorId:t})=>{r(e?{event_type:45,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}}:{event_type:46,component:13891,object_id_str:t,view_parameter:n,view_type:i,aux_data:{...o?{pin_id:o}:{}}})};return(0,u.jsx)(d.xu,{minWidth:440,paddingY:4,children:(0,u.jsxs)(d.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[t&&(0,u.jsx)(d.X6,{align:"center",size:"300",children:(0,c.nk)(l._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:t})}),(0,u.jsx)(d.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map((e=>(0,u.jsx)(_,{creatorData:e.user,onTap:a,onUserFollow:m},e.user_id)))})]})})},g=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity"],f=({fullName:e,id:t,numCreatorsToShow:o=3,pinId:i,viewParameter:r,viewType:s})=>{const l=(0,n.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:g.join(","),page_size:o,referrer:4,target_user:t}}});if(!l.isLoaded||!l.data||l.data.length!==o)return null;const a=l.data||[];return(0,u.jsx)(m,{creatorRecs:a,fullName:e,pinId:i,viewParameter:r,viewType:s})}},992732:(e,t,o)=>{o.d(t,{b:()=>l,n:()=>s});var n=o(605028),i=o(802201),r=o(558068);function s(){const{forward:e}=(0,r.Hv)(),t=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(!!t&&(e=>e.includes("/:username/"))(t))}function l(e){const t=(0,i.S6)()(e);if(s()&&t){const{isLeadPin:e,isProduct:o}=(0,n.Z)(t);return{creatorRecsPrevState:!(!t||e||o)&&!!t.show_suggested_creator_recs}}return{creatorRecsPrevState:!1}}},160380:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(772745),i=o(263116),r=o(785893);const s=(0,i.ZP)({resolved:{},chunkName:()=>"EditorWithMentionsInternal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.all([o.e(89333),o.e(35978)]).then(o.bind(o,158266)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 158266}});function l(e){return(0,r.jsx)(s,{...e,fallback:(0,r.jsx)(n.Z,{})})}},772745:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(883119),r=o(785893);function s(){const e=(0,n.ZP)();return(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},641012:(e,t,o)=>{o.d(t,{SF:()=>n,XU:()=>r,b7:()=>i});const n=5,i=5,r=1},545062:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(966338),r=o(694379),s=o(898781),l=o(349700),a=o(883119),c=o(785893);const d=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,s.ZP)();return(0,l.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(a.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,c.jsx)(a.xv,{color:o?"subtle":"inverse",children:(0,c.jsx)(r.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(a.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(a.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=o(704177),_=o(829407),h=o(602574),p=o(11363),m=o(584595),g=o(407043),f=o(918301),x=o(281180),y=o(480622),v=o(946984),P=o(343341),b=o(5226);function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class w extends n.PureComponent{constructor(...e){super(...e),A(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...t||Object.freeze({})}),this.toggleFollowUnfollow()}),(0,p.N4)({i18n:this.props.i18n,toFollow:!this.props.userFollowed}))),A(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),A(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:r}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:r,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:r,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),A(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),A(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:r}=this.props;r||i.showOneToast((({hideToast:i})=>(0,c.jsx)(h.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),A(this,"showConfirmation",(()=>{const e=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')})});this.showToast(e)})),A(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:i}=this.props,r=o?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===m.H9)return void i();const s=(0,c.jsx)(n.Fragment,{children:(0,c.jsx)(a.xv,{children:(0,l.nk)(r,{usernameComponent:(0,c.jsx)(a.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(s)})),A(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:r,size:s,showFollowerCount:l,userFollowed:u}=this.props,_=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:_,onClick:this.handleButtonClick,userFollowed:u});if(n)return(0,c.jsx)(a.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(l){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:_}):_;return(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{color:u?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(a.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(a.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:r||u?"gray":"red",selected:i?!u:!!u,fullWidth:o,onClick:this.handleButtonClick,size:null!=s?s:void 0,text:_})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(a.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(a.iP,{onTap:this.handleClick,children:(0,c.jsx)(a.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(a.o3,{paused:t||!1})})})]})}}function C(e){const{logContextEvent:t}=(0,g.v)(),o=(0,s.ZP)(),{id:n,setMostRecentPinId:r}=(0,y.f)(),l=(0,v.Z)(),a=(0,i.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,f.y9)(),h=(0,x.mN)()(e.id),p=null==h?void 0:h.follower_count,m=h?h.explicitly_followed_by_me:e.userFollowed;return(0,_.Z)((()=>{const{id:t}=e,o=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";o&&o===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),a((0,b.ZN)(o)))})),(0,c.jsx)(w,{...e,follow:(e,t,o,n)=>{a((0,b.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:p,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:l,setMostRecentPinId:r,showEmailVerificationReminderModal:d,toastManagerContext:(0,P.F9)(),unfollow:(e,t,o,n)=>{a((0,b.KF)(e,t)).then(o,n)},userFollowed:m})}},70598:(e,t,o)=>{o.d(t,{Z:()=>A});var n=o(829407),i=o(898781),r=o(112690),s=o(728214),l=o(602574),a=o(667679),c=o(19121),d=o(957314),u=o(755506),_=o(217468),h=o(802201),p=o(281180),m=o(50286),g=o(925927),f=o(343341),x=o(687999),y=o(867820),v=o(883119),P=o(785893);const b=({children:e,pulsar:t,testId:o})=>t.show?(0,P.jsx)(v.xu,{position:"relative","data-test-id":o,children:(0,P.jsxs)(v.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,P.jsx)(v.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,P.jsx)(v.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,P.jsx)(v.o3,{})})]})}):(0,P.jsx)(v.xu,{"data-test-id":o,children:e});function A({auxData:e,disabled:t,disableLog:o,followEventType:A,id:w,inline:C,invertColors:E,isFollowed:T,isIdeaPin:S,isLegoEnabled:I,isSecondaryButton:j,isUserFollowButton:z,isUserMe:R,onFollow:D,onUnfollow:O,pinId:k,shouldUseLegoColors:L,showPulsar:N,size:M,textType:F="FollowFollowing",unfollowEventType:U,viewParameter:B,viewType:Z}){const G=(0,i.ZP)(),H=(0,g.TH)(),V=(0,m.HG)(),{showToast:W}=(0,f.F9)(),$=(0,r.Z)(),Y=(0,a.Z)(),K=(0,_.t)("pcons_dweb_contextual_follow_modal"),X=(0,_.t)("pcons_mweb_contextual_follow_modal"),q=(0,s.Z)(),Q=(0,c.Z)(),J=Q&&Q.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:te}=(0,x.f)(),oe=(0,p.mN)()(w),ne=(0,h.S6)()(null!=k?k:""),ie=(0,u.wS)(ne),re=null!=oe?oe:ie;(0,n.Z)((()=>{!V&&J&&ee&&w&&ee===w&&D(w)}));const se=q({fn:()=>{J?T?(O(w),o||$({event_type:U,view_type:Z,view_parameter:B,object_id_str:w,aux_data:e})):(D(w),z&&W((({hideToast:e})=>{if(!re)return null;const t=re.username?`/${re.username}/`:"";return(0,P.jsx)(l.Z,{handleHide:e,text:(0,P.jsx)(v.xv,{children:G._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:w,href:t,imageUrl:re.image_medium_url})})),o||$({event_type:A,view_type:Z,view_parameter:B,object_id_str:w,aux_data:e})):((0,y.My)(`mweb_unauth_follow_button.tap.${String(Z)}`),5===Z&&26===A&&(0,y.My)("mweb_unauth_board_page_follow_button.tap"),(0,y.NC)(T?"press_profile_unfollow":"press_profile_follow"),(0,y.LW)({action:"click",pageLocation:H,item:"board-follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:S?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:V&&K().anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&X().anyEnabled?{headingType:"follow"}:void 0}),V||te(null!=w?w:""),(0,y.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:G,toFollow:!T})}),le=!T&&!!N,ae=()=>{if(R)return G._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===F)return T?G._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):G._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===F?G._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):G._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return T?e:G._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(b,{pulsar:le?{show:!0,onClick:se}:{show:!1},testId:R||T?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(v.zx,{color:L||"AddRemove"===F||!I&&j||T?"gray":"red",disabled:R||t,fullWidth:C,onClick:le?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||$({event_type:101,component:13672,element:11951,object_id_str:w,view_type:Z,view_parameter:B,aux_data:e}),se()},selected:E?!T:L&&T||!!T&&j,size:M,text:ae(),accessibilityLabel:ae()})})}},91214:(e,t,o)=>{o.d(t,{HW:()=>s,YW:()=>u,i3:()=>_,o2:()=>d});var n=o(667294),i=o(425288),r=o(785893);const s=660,l={educationId:null,paddingRight:0,zIndex:s};function a(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function _({children:e}){const[t,o]=(0,n.useReducer)(a,l),i=(0,n.useCallback)((e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),s=(0,n.useCallback)((e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,n.useCallback)((e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,n.useMemo)((()=>({...t,setEducationId:s,setPaddingRight:i,setZIndex:d})),[t,s,i,d]);return(0,r.jsx)(c,{value:u,children:e})}},480622:(e,t,o)=>{o.d(t,{C:()=>a,f:()=>l});var n=o(667294),i=o(425288),r=o(785893);const{Provider:s,useHook:l}=(0,i.Z)("MostRecentPin");function a({children:e}){const[t,o]=(0,n.useState)(),[i,l]=(0,n.useState)(),a=(0,n.useCallback)((e=>{const t=i?i.slice(0,10):[],o=[e].concat(t.filter((t=>t!==e)));l(o)}),[i]),c=(0,n.useMemo)((()=>({id:t,plpImageSignatures:i,setMostRecentPinId:o,setMostRecentPinImage:a})),[t,i,a]);return(0,r.jsx)(s,{value:c,children:e})}},2361:(e,t,o)=>{o.d(t,{G:()=>_,Kl:()=>h,vo:()=>u});var n=o(667294),i=o(311541),r=o(425288),s=o(505920),l=o(785893);const a=()=>o.e(86497).then(o.bind(o,786497)),{Provider:c,useHook:d}=(0,r.Z)("NativeEngagements");function u({children:e}){const[t,o]=(0,i.Z)(a,[]),r=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,s.Z8)("NativeInteractionsResource",r),(0,s.my)("NativeInteractionsResource",r);const d=(0,n.useMemo)((()=>({dispatch:o,nativeEngagements:t})),[o,t]);return(0,l.jsx)(c,{value:d,children:e})}function _(){const{dispatch:e}=d();return(0,n.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function h(){const{nativeEngagements:e}=d();return e}},232843:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>r});var n=o(425288);const{Provider:i,useMaybeHook:r}=(0,n.Z)("PinCreateDeleteContext")},256883:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n,i,r,s=o(319915),l=o(705834),a=o(667294),c=o(116303),d=o(985913),u=o(70598),_=o(499128),h=o(50286),p=o(898781),m=o(780280),g=o(343341),f=o(883119),x=o(167912),y=o(785893);const v=void 0!==n?n:n=o(896355),P=({follower:e,viewerId:t,viewParameter:n,viewType:s})=>{const l=(0,p.ZP)(),P=(0,h.ZP)(),b=(0,x.useFragment)(v,e),{fullName:A,entityId:w,username:C,imageMediumUrl:E,imageXlargeUrl:T,explicitlyFollowedByMe:S,verifiedIdentity:I}=b,j=`/${String(C)}/`,{isRTL:z}=(0,m.B)(),{showOneToast:R}=(0,g.F9)();let D="";A&&A.length>0&&(D=A.length<=15?A:`${A.substring(0,15)}...`);const O=void 0!==i?i:i=o(382375),k=void 0!==r?r:r=o(200722),[L,N]=(0,x.useMutation)(O),[M,F]=(0,x.useMutation)(k),U=N||F,B=()=>{S?M({variables:{followee:w}}):(L({variables:{followee:w}}),"desktop"===P&&R((({hideToast:e})=>(0,y.jsx)(_.ZP,{onHide:e,text:(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(f.xv,{children:l._('Now following', 'text that comes before a board/user name in toast', 'text that comes before a board/user name in toast')}),(0,y.jsx)(f.xv,{weight:"bold",children:A})]}),href:j,imageUrl:null!=E?E:""}))))},Z=C?`/${encodeURIComponent(C)}/`:"/",G=(0,d.Z)(l._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=A?A:""});return(0,y.jsx)(f.xu,{"data-test-id":"user-rep",display:"flex",justifyContent:"center",paddingX:2,height:75,position:"relative",children:(0,y.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:["desktop"===P?(0,y.jsx)(f.xu,{width:72,children:(0,y.jsx)(f.rU,{accessibilityLabel:G,href:j,children:(0,y.jsx)(c.Z,{accessibilityLabel:"",name:null!=A?A:"",size:"lg",src:null!=T?T:void 0,verified:Boolean(null==I?void 0:I.verified)})},`${j}:avatar`)}):(0,y.jsx)(f.xu,{paddingX:2,children:(0,y.jsx)(f.HE,{accessibilityLabel:l._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),role:"link",href:Z,collaborators:[{name:A||"",src:null!=E?E:void 0}],size:"sm"})}),(0,y.jsx)(f.xu,{paddingX:2,children:(0,y.jsx)(f.xv,{weight:"desktop"===P?"bold":void 0,children:(0,y.jsx)(f.rU,{href:Z,rounding:2,tapStyle:"compress",children:D})})}),(0,y.jsx)(f.xu,{paddingX:3,position:"absolute",left:z,right:!z,children:(0,y.jsx)(u.Z,{id:w,disabled:U,size:"md",isFollowed:S||!1,isUserFollowButton:!0,isUserMe:!!t&&t===w,onFollow:B,onUnfollow:B,followEventType:45,unfollowEventType:46,viewParameter:n,viewType:s})})]})})};var b,A=o(19121);const w=()=>window;function C({scrollContainer:e,userReference:t}){var n,i,r;const s=(0,h.ZP)(),{data:l,loadNext:a,hasNext:c}=(0,x.usePaginationFragment)(void 0!==b?b:b=o(44438),t),{id:d}=(0,A.Z)(),u=(null===(n=l.followers)||void 0===n||null===(i=n.connection)||void 0===i||null===(r=i.edges)||void 0===r?void 0:r.map((e=>null==e?void 0:e.node)).filter(Boolean))||[];let _=300;"desktop"===s&&(_=e?535:600);const p=!!u&&(0,y.jsx)(f.Rk,{columnWidth:_,comp:({data:e})=>e?(0,y.jsx)(P,{follower:e,viewerId:d,viewType:4,viewParameter:50}):null,gutterWidth:0,items:null!=u?u:[],layout:"desktop"===s?"uniformRow":"flexible",loadItems:()=>{c&&a(10)},minCols:1,scrollContainer:null!=e?e:w,virtualize:!0});return"desktop"===s?(0,y.jsx)(f.kC,{justifyContent:"center",children:(0,y.jsx)(f.kC.Item,{maxWidth:_,children:p})}):p}var E,T=o(947599),S=o(430323),I=o(784590),j=o(925927);const z=void 0!==E?E:E=o(958045),R=({scrollContainer:e,userId:t})=>{var o;const n=(0,x.useLazyLoadQuery)(z,{userId:t}),{data:i}=null!==(o=n.v3GetUserHandlerQuery)&&void 0!==o?o:{};return i?(0,y.jsx)(l.Z,{viewType:4,viewParameter:50,children:(0,y.jsx)(S.Z,{view:4,component:223,children:(0,y.jsx)(f.xu,{"data-test-id":"profile-followers-feed",paddingY:2,children:(0,y.jsx)(C,{scrollContainer:e,userReference:i})})})}):null};function D({scrollContainer:e}){const t=(0,p.ZP)(),{username:o}=(0,j.UO)(),{data:n}=(0,I.Z)({name:"UserResource",options:{field_set_key:"profile",username:o}});return null!=n&&n.id?(0,y.jsx)(s.Z,{name:"SafeSuspense_ProfileFollowersControllerGraphQL_ProfileFollowersController",children:(0,y.jsx)(T.Z,{fallback:(0,y.jsx)(f.xu,{padding:5,children:(0,y.jsx)(f.$j,{accessibilityLabel:t._('Loading profile followers list', 'profile.ProfileFollowersControllerGraphQL.loading', 'accessibility label for profile followers loading spinner'),show:!0})}),children:(0,y.jsx)(R,{scrollContainer:e,userId:n.id})})}):null}},330899:(e,t,o)=>{o.d(t,{x:()=>l,y:()=>a});var n=o(667294),i=o(425288),r=o(785893);const{Provider:s,useMaybeHook:l}=(0,i.Z)("ProfileViewContext");function a({children:e}){const[t,o]=(0,n.useState)(),[i,l]=(0,n.useState)(new Map),[a,c]=(0,n.useState)(),[d,u]=(0,n.useState)(),_=(0,n.useCallback)(((e,t)=>{l(new Map(i.set(e,t)))}),[i]),h=(0,n.useMemo)((()=>({boardPinDensity:t,boardSortOrder:i,profileBoardView:a,profilePinDensity:d,setBoardPinDensity:o,updateBoardSortOrder:_,setProfileBoardView:c,setProfilePinDensity:u})),[t,i,a,d,_]);return(0,r.jsx)(s,{value:h,children:e})}},281180:(e,t,o)=>{o.d(t,{Tt:()=>d,kW:()=>a,kY:()=>u,mN:()=>c});var n=o(966338),i=o(19121),r=o(425288),s=o(785893);const{Provider:l,useHook:a}=(0,r.Z)("Users");function c(){const e=a();return t=>e[t]}function d(){const{id:e}=(0,i.Z)();return a()[null!=e?e:""]}function u({children:e}){const t=(0,n.useSelector)((({users:e})=>e),n.shallowEqual);return(0,s.jsx)(l,{value:t,children:e})}},565733:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(66699);const i=(e,t)=>`${e>0?(0,n.Z)(t.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', e, 'Label for the number of scheduled pins a user owns', 'Label for the number of scheduled pins a user owns'),{pinCount:e}):t._('0 Pins', 'zero scheduled pins', 'zero scheduled pins')} ‧ ${t._('Only visible to you', 'The explanatory text that the scheduled pin section is only visible to the profile owner', 'The explanatory text that the scheduled pin section is only visible to the profile owner')}`},711108:(e,t,o)=>{o.d(t,{l:()=>d,E:()=>c});var n=o(667294),i=o(425288);function r(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:i}=t;if("ShareSuggestionsResource"===i.resource){var o;const n=t.payload.response.resource_response.data||[],{term:r=""}=null!==(o=i.options)&&void 0!==o?o:{};return{...e,[r]:n}}if("ShareSuggestionsTypeaheadResource"===i.resource){var n;const o=(t.payload.response.resource_response.data||{}).items||[],{term:r=""}=null!==(n=i.options)&&void 0!==n?n:{};return{...e,[r]:o}}}return e}var s=o(505920),l=o(785893);const{Provider:a,useHook:c}=(0,i.Z)("ShareSuggestions");function d({children:e}){const[t,o]=(0,n.useReducer)(r,{}),i=e=>{o({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,s.Z8)("ShareSuggestionsResource",i),(0,s.Z8)("ShareSuggestionsTypeaheadResource",i);const c=(0,n.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,l.jsx)(a,{value:c,children:e})}},482664:(e,t,o)=>{o.d(t,{N:()=>d,Z:()=>_});var n=o(66699),i=o(941646),r=o(898781),s=o(349700),l=o(883119),a=o(785893);const c={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){const t=(0,r.ZP)(),{helpfulCount:o,isMarkedHelpfulByMe:n,onHelpfulClick:i}=e,d=t._('Helpful', 'Comments marked helpful text.', 'Comments marked helpful text.'),u=(0,s.nk)(t._('Helpful {{helpfulCount}}', 'Comments marked helpful count text.', 'Comments marked helpful count text.'),{helpfulCount:o||0});return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:i,rounding:2,children:(0,a.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:c,color:n?"brandPrimary":"subtle",size:16}),(0,a.jsx)(l.xu,{paddingX:1,children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:void 0!==o&&o>0?u:d})})]})})})}function u(e){const{likeCount:t,isLikedByMe:o,onLikeClick:n}=e;return(0,a.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(l.iP,{onTap:n,rounding:2,children:(0,a.jsxs)(l.xu,{display:"flex","data-test-id":"reactions-likeWithCountButton",children:[(0,a.jsx)(l.JO,{accessibilityLabel:"like icon",icon:"heart",color:o?"brandPrimary":"subtle",size:16}),t>0&&(0,a.jsx)(l.xu,{paddingX:1,"data-test-id":"reactions-likeCount",children:(0,a.jsx)(l.xv,{size:"100",color:"subtle",weight:"bold",children:t})})]})})})}function _(e){const t=(0,r.ZP)(),{commentCount:o=0,reactionCounts:s={},hideReplyCount:c,isLikedByMe:_=!1,onLikeClick:h,onReplyClick:p,onReplyCountClick:m,isMarkedHelpfulByMe:g,onHelpfulClick:f,helpfulCount:x,flyout:y,small:v}=e,P=s[1]||0,b=!!o&&(0,n.Z)(t.ngettext('{{commentCount}} reply', '{{commentCount}} replies', o, ' - ', ' -- '),{commentCount:o}),A=v?1:2;return(0,a.jsxs)(l.kC,{alignItems:"center",children:[(0,a.jsxs)(l.xu,{display:"flex",marginStart:-A,marginEnd:-A,children:[(0,a.jsx)(u,{likeCount:P,isLikedByMe:_,onLikeClick:h}),(0,a.jsx)(l.xu,{paddingX:A,children:(0,a.jsx)(i.Z,{id:"reactions-reply",children:(0,a.jsx)(l.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:p,size:v?"sm":"md"})})}),!!y&&(0,a.jsx)(l.xu,{paddingX:A,children:y})]}),(0,a.jsxs)(l.xu,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3,children:[!!b&&!c&&(0,a.jsx)(i.Z,{id:"reactions-reply-count",children:(0,a.jsx)(l.xu,{paddingX:3,children:m?(0,a.jsx)(l.iP,{onTap:m,rounding:2,children:(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:b})}):(0,a.jsx)(l.xv,{size:"200",color:"subtle",weight:"bold",children:b})})}),(0,a.jsx)(d,{helpfulCount:x,isMarkedHelpfulByMe:g,onHelpfulClick:f})]})]})}},868065:(e,t,o)=>{o.d(t,{US:()=>m,X2:()=>f,mW:()=>g});var n=o(667294),i=o(6637),r=o(311541),s=o(760372),l=o(425288),a=o(505920),c=o(785893);const d=()=>o.e(62623).then(o.bind(o,462623));function u(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function _(e){return i.ZP.create("InterestFollowResource",{interest_id:e,interest_list:s.X})}const{Provider:h,useHook:p}=(0,l.Z)("Topics");function m({children:e}){const[t,o]=(0,r.Z)(d,{}),i=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,a.Z8)("InterestFollowingResource",i),(0,a.Z8)("InterestResource",i);const s=(0,n.useMemo)((()=>({dispatch:o,topics:t})),[o,t]);return(0,c.jsx)(h,{value:s,children:e})}function g(){const{dispatch:e}=p();return(0,n.useMemo)((()=>({follow:(t,o=!1)=>{_(t).callCreate({showError:!1}).catch((()=>e(u(t,!1,o)))),e(u(t,!0,o))},unfollow:t=>{_(t).callDelete({showError:!1}).catch((()=>e(u(t,!0)))),e(u(t,!1))}})),[e])}function f(){const{topics:e}=p();return e}},687999:(e,t,o)=>{o.d(t,{f:()=>l,w:()=>a});var n=o(667294),i=o(425288),r=o(785893);const{Provider:s,useHook:l}=(0,i.Z)("Session");function a({children:e}){const[t,o]=(0,n.useState)(void 0),i=(0,n.useCallback)((()=>o(void 0)),[]),l=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:i})),[t,i]);return(0,r.jsx)(s,{value:l,children:e})}},326015:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(993786),r=o(883119),s=o(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:o,identityIsVerified:l,isVerifiedMerchant:a,truncate:c=!1}){const d=o.split(" "),u=d.slice(0,d.length-1).join(" "),_=" ".concat(d[d.length-1]);return c?(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(r.xv,{lineClamp:1,weight:"bold",children:o}),(0,s.jsx)(r.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,s.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]}):(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)("span",{children:u}),(0,s.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[_," ",(0,s.jsx)(r.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,s.jsx)(i.Z,{size:e,hasVerifiedIdentity:l,isVerifiedMerchant:a})})]})]})}},486840:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(231486),r=o(172071),s=o(6637),l=o(226198);function a(e,t){i.t8(l.L9,"allowed",(0,i.kZ)(l.L9)),t&&t(),r.Z.increment("auth.web.notifications.allowed",1);let o=e.subscriptionId;if(!o){const t=e.endpoint.split("/");o=t[t.length-1]}return s.ZP.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((t=>{var n,i;const r=null!==(n=null===(i=t.resource_response)||void 0===i?void 0:i.data)&&void 0!==n?n:{};if(!(o in r)){const t={registration_id:o,subscription_endpoint:e.endpoint};return s.ZP.create("WebPushDeviceResource",t).callCreate()}}))}var c=o(19121);function d(e,t){var o;if(r.Z.increment("auth.web.notifications.viewed",1),"undefined"!=typeof navigator&&"serviceWorker"in navigator)return null===(o=navigator.serviceWorker)||void 0===o?void 0:o.ready.then((o=>{var n;null==o||null===(n=o.pushManager)||void 0===n||n.subscribe({userVisibleOnly:!0}).then((t=>a(t,e)),(o=>{"Notification"in window&&"denied"!==Notification.permission?(i.t8(l.L9,"dismissed",(0,i.kZ)(l.L9)),t&&t(),r.Z.increment("auth.web.notifications.dismissed",1)):(i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),e&&e(),r.Z.increment("auth.web.notifications.denied",1))}))})).catch((()=>{}))}function u(){const{isAuth:e,isLimitedLogin:t}=(0,c.Z)();return(0,n.useEffect)((()=>{"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then((()=>{var o;t&&i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),e||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"showNotification"in ServiceWorkerRegistration.prototype||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"Notification"in window&&"denied"!==Notification.permission||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),"PushManager"in window||i.t8(l.L9,"denied",(0,i.kZ)(l.L9)),null===(o=navigator.serviceWorker)||void 0===o||o.ready.then((e=>e.pushManager.getSubscription())).then((e=>{if(e)return a(e);throw i.t8(l.L9,"none",(0,i.kZ)(l.L9)),new Error})).catch((e=>{}))})).catch((()=>{}))}),[e,t]),d}},705834:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(618446),r=o.n(i),s=o(674806),l=o(385740),a=o(785893);class c extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:o,viewType:n}=this.props;e({viewData:t,viewParameter:o,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:o,viewParameter:n,viewType:i}=this.props;n===e.viewParameter&&i===e.viewType&&r()(o,e.viewData)||t({viewData:o,viewParameter:n,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:o,objectIdStr:n,viewData:i,viewParameter:r,viewType:l,clientTrackingParams:c}=this.props;return(0,a.jsx)(s.Z,{auxData:e,component:o,objectIdStr:n,clientTrackingParams:c,viewData:i,viewParameter:r,viewType:l,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:o}=(0,l.sV)();return(0,a.jsx)(c,{...e,clearCurrentPageData:o,setCurrentPageData:t})}},674806:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(112690),r=o(867820);const s=({viewType:e,viewParameter:t,viewData:o,auxData:n,objectIdStr:i,component:s,clientTrackingParams:l,element:a},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:n,object_id_str:i,component:s,clientTrackingParams:l,element:a},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),c(d)};function l(e){const{auxData:t,clientTrackingParams:o,children:r,component:l,element:a,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,h=(0,i.Z)(),p=JSON.stringify(t),m=JSON.stringify(d);return(0,n.useEffect)((()=>{s(e,h)}),[h,p,o,l,a,c,m,u,_]),n.Children.only(r)}},223656:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(758127),r=o(898781),s=o(112690),l=o(892819),a=o(91885),c=o(349700),d=o(50286),u=o(780280),_=o(276602),h=o(883119),p=o(785893);const m="133%";function g(e){const{isRTL:t}=(0,u.B)(),o=(0,r.ZP)(),i=t?-1:1,{borderRadius:s=16,containerBackgroundColor:l="white",images:a,applyWash:c}=e,g=(0,_.EV)(),f=a.slice(0,5);for(;f.length<5;)f.push({name:"",url:""});const x=(0,d.HG)(),[y,v]=(0,n.useState)(Array.from({length:5},(()=>!1))),[P,b]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{y.includes(!1)||P||!g||(g.addAnnotation("allPinsCard.imagesLoaded"),b(!0))}),[P,y,g]),(0,p.jsxs)(h.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,p.jsx)(h.sg,{span:6,children:(0,p.jsx)(h.xu,{position:"relative",children:f.map(((e,t)=>{var n;return(0,p.jsx)(h.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:m,borderRadius:s,transform:`translateX(${25*i*t}%)`,zIndex:x?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:x?157:void 0,width:"100%",children:(0,p.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${l}`,borderRadius:s}},overflow:"hidden",children:(0,p.jsx)(h.zd,{width:"100%",height:"100%",wash:c,children:(0,p.jsx)(h.Ee,{alt:e.name||o._('Pin image', 'pileImageGroup', 'Alt text for group of pin images'),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,v((t=>{const o=[...t];return o.splice(e,1,!0),o}))}})})})},t)}))})}),(0,p.jsx)(h.sg,{span:6})]})}var f=o(867820),x=o(808058),y=o(925927);const v=({children:e})=>(0,d.HG)()?(0,p.jsx)(h.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,p.jsx)(h.xv,{lineClamp:1,weight:"bold",children:e});function P({storyPinImages:e,pinCount:t,subtitle:o,userId:_,isOwnProfile:m}){const P=(0,r.ZP)(),b=(0,y.TH)(),A=(0,s.Z)(),w=(0,l.Z)(),C=(0,y.UO)(),{isAuthenticated:E,locale:T}=(0,u.B)(),{username:S}=C,I=`/${null!=S?S:""}/pins/`,j=(0,d.HG)(),[z,R]=(0,n.useState)(!1);return(0,p.jsx)(h.xu,{height:"100%",padding:j?2:0,"data-test-id":a.Kb,children:(0,p.jsx)(h.iP,{role:"link",href:I,rounding:2,tapStyle:"compress",onMouseEnter:()=>{R(!0)},onMouseLeave:()=>{R(!1)},onTap:()=>{E?j&&A({event_type:101,component:13676,object_id_str:_,view_type:4,view_parameter:m?3106:3107}):((0,f.NC)("click_go_to_board"),(0,f.LW)({action:"click",pageLocation:b,item:"board-card-all-pins"}))},children:(0,p.jsx)(h.xu,{paddingY:j?0:3,width:j?x.M0:void 0,children:(0,p.jsxs)(h.xu,{height:"100%",position:"relative",width:"100%",children:[(0,p.jsx)(g,{images:e,applyWash:z}),(0,p.jsxs)(h.xu,{display:"block",height:j?void 0:x.s0,marginTop:j?0:1,paddingX:2,paddingY:j?2:0,children:[(0,p.jsx)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,p.jsx)(v,{children:P._('All Pins', 'allPinsCard.heading', 'Label for component leading to a page that shows all Pins of a user')})}),(0,p.jsx)(h.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,p.jsxs)(h.xv,{size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),(0,c.nk)(P.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.allPins.AllPinsCard.PinsCount', 'label for n amount of pins'),{count:w(T,t,{})}),(0,p.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:j?"inline-flex":"inline",paddingLeft:7}},children:(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]}):(0,p.jsxs)(h.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,p.jsx)(i.Z,{}),o]})})]})]})})})})}},14254:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(948618),r=o(70598),s=o(298361),l=o(112690),a=o(892819),c=o(19121),d=o(349700),u=o(867820),_=o(217468),h=o(50286),p=o(758127),m=o(322937),g=o(898781),f=o(808058),x=o(883119),y=o(785893);function v(e,t){const{full_name:o,username:n}=e,i=(0,y.jsx)(x.rU,{href:`/${n}`,inline:!0,underline:"hover",children:o});return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:i})}const P=({children:e})=>{const t=(0,c.Z)(),o=(0,h.HG)(),n=t&&t.isAuth;return o&&n?(0,y.jsx)(x.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(x.xv,{lineClamp:1,weight:"bold",children:e})};function b({archivedDate:e,boardUrl:t,canEdit:o,collaborators:c,collaboratorsCount:b=0,containerBackgroundColor:A,coverPhoto:w,followedByMe:C,fullSizeDrawer:E,sensitivityScreen:T,handleInviteResponse:S,hideMeta:I,id:j,invite:z,imagesLego:R=[],isBoardInviteAccepted:D,isActive:O,isAuthenticated:k,isCollaborative:L,isCollaborator:N,isOwner:M,isSecret:F,lastModifiedDate:U,layout:B,locale:Z,name:G,numCols:H,onEditClick:V,onFollow:W,onUnfollow:$,owner:Y,pinCount:K=0,sectionCount:X,showFollowButton:q,viewParameter:Q,viewType:J,viewerId:ee}){const te=(0,g.ZP)(),oe=(0,s.Z)(),ne=(0,a.Z)(),ie=(0,l.Z)(),re=(0,h.HG)()&&k,se="square"===B?f.M0:f.z9,le=R.map((e=>({url:e.url,name:G}))),ae=!!Y&&!o&&q,ce=(0,_.t)("mweb_board_sensitivity_screen"),de=!M&&!N&&ce().anyEnabled,ue=!(null==T||!T.show_warning)&&de,_e={board_id:j,reason:null==T?void 0:T.reason};(0,n.useEffect)((()=>{ue&&ie({event_type:13,component:13861,view_type:215,aux_data:_e})}),[]);const he=Y?Y.id:void 0,pe=[...c.filter((({id:e})=>e===he)),...c.filter((({id:e})=>e===ee&&e!==he)),...c.filter((({id:e})=>![he,ee].includes(e)))].map((e=>{var t,o;return{name:null!==(t=re?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let me=b>=pe.length?b-pe.length:0;me=me>99?100:me;const ge=[...pe,...Array(me).fill({name:"",src:""})],fe=re?24:16,xe=fe/3*(2*(pe.length>2?3:pe.length)+1);return(0,y.jsxs)(x.xu,{"data-test-id":`boardCard-${G}`,height:ae?220:"100%",position:"relative",width:re?se:"100%",children:[(0,y.jsx)(m.Z,{canEdit:o,containerBackgroundColor:A,coverPhoto:w,images:le,isSecret:F,fullSize:E,showSensitivityScreen:ue,isActive:O,onEditClick:V,layout:B}),!I&&(0,y.jsx)(n.Fragment,{children:z?(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(x.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(x.xu,{width:"100%",children:[(0,y.jsx)(x.rU,{href:null!=t?t:"",children:(0,y.jsx)(x.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(P,{children:G})})}),D?(0,y.jsx)(x.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,y.jsx)(x.xv,{size:"200",children:v(z.invited_by_user,te)})]}),(0,y.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,y.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),D?(0,y.jsx)(x.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(x.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(x.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,y.jsxs)(x.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(x.zx,{fullWidth:!0,onClick:()=>{null==S||S(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,y.jsx)(x.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(x.zx,{fullWidth:!0,color:"red",onClick:()=>{null==S||S(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,y.jsxs)(x.xu,{height:re?void 0:f.s0,marginTop:re?0:1,paddingX:2,paddingY:re?2:0,children:[(0,y.jsxs)(x.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(P,{children:G}),L&&(0,y.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,y.jsx)(x.HE,{accessibilityLabel:p.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),(0,y.jsx)(x.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:(0,y.jsxs)(x.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', K, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(Z,K,{})}),!!X&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(i.Z,{ariaHidden:!0}),(0,y.jsx)(p.Z,{}),(0,d.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', X, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:X})]}),!e&&(0,y.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{display:re?"inline-flex":"inline",paddingLeft:7}},children:(0,y.jsxs)(x.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(p.Z,{}),oe(U,!0)]})})]})}),!!e&&(0,y.jsxs)(x.xu,{marginTop:1,children:[(0,y.jsx)(p.Z,{}),(0,y.jsx)(x.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),ae&&(0,y.jsx)(x.xu,{marginTop:2===H?3:void 0,column:2===H?12:void 0,flex:"none",children:(0,y.jsx)(r.Z,{disabled:null==Y?void 0:Y.blocked_by_me,followEventType:26,id:j,isFollowed:C,onFollow:e=>{k||(0,u.NC)("press_follow_board"),W&&W(e)},onUnfollow:e=>{k||(0,u.NC)("press_unfollow_board"),$&&$(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:Q,viewType:J})})]})})]})}},371918:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({customCover:e,height:t,imgUrl:o,imgPos:r,width:s}){const l=t/s;let a="center center";if(e&&r){let e=1;e=r.height/r.width>l?s/r.width:t/r.height;a=`-${r.x*e}px -${r.y*e}px`}const c={backgroundImage:`url(${o})`,backgroundPosition:a,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:s}},children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(371918),i=o(217508),r=o(898781),s=o(50286),l=o(780280),a=o(808058),c=o(883119),d=o(785893);const u="100%";function _(e){var t,o,_,h;const p=(0,r.ZP)(),{containerBackgroundColor:m="white",coverPhoto:g,fullSize:f,images:x,isSecret:y,showSensitivityScreen:v,isActive:P,canEdit:b,onEditClick:A,layout:w}=e,C=(0,s.HG)(),{isRTL:E,isAuthenticated:T}=(0,l.B)(),S=C&&T,I=x[0],j=!g&&(null===(t=x[0])||void 0===t?void 0:t.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),z=Array(2).fill(),R=new c.Ry(1),D="square"===w?a.M0:a.z9,O="square"===w?a.FP:a.FC,k=v?{filter:"blur(20px)"}:{};return(0,d.jsx)(c.zd,{height:f?"100%":void 0,rounding:4,width:"100%",wash:P,children:(0,d.jsxs)(c.xu,{"aria-hidden":!0,display:"flex",height:S?O:"100%",direction:"row",children:[(0,d.jsx)(c.sg,{span:8,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:k},position:"relative",height:f?"100%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[y&&(0,d.jsx)(c.xu,{left:!E,right:E,margin:2,position:"absolute",top:!0,zIndex:R,children:(0,d.jsx)(i.Z,{backgroundColor:"white",iconColor:"default",size:S?32:24})}),S&&null!=g&&g.url?(0,d.jsx)(n.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=g.url)&&void 0!==o?o:"",width:Math.floor(D/3*2),height:O}):(0,d.jsx)(c.Ee,{alt:j,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(_=null!==(h=null==g?void 0:g.url)&&void 0!==h?h:null==I?void 0:I.url)&&void 0!==_?_:""})]})})})}),(0,d.jsx)(c.sg,{span:4,children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:k},height:"100%",children:[b&&P&&(0,d.jsx)(c.xu,{left:E,right:!E,margin:2,position:"absolute",bottom:!0,zIndex:R,children:(0,d.jsx)(c.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==A?void 0:A(e),size:"sm"})}),z.map(((e,t)=>{var o,n;const i=x[S?t:t+1];return(0,d.jsx)(c.xu,{position:"relative",height:f?"50%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,d.jsx)(c.Ee,{alt:null!==(o=null==i?void 0:i.name)&&void 0!==o?o:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==i?void 0:i.url)&&void 0!==n?n:""})})})},t)}))]})}),v&&(0,d.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,d.jsx)(c.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},259986:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r(e){const{accessibilityLabel:t,bgColor:o,icon:r,onClick:s,selected:l,size:a}=e;return(0,i.jsx)(n.hU,{accessibilityLabel:t,bgColor:null!=o?o:"transparent",icon:r,iconColor:"darkGray",onClick:s,selected:l,size:null!=a?a:"lg"})}},468747:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(90543),i=o(883119),r=o(785893);function s(e,t){return(0,r.jsx)(i.xu,{"data-test-id":`${e.props.icon}-button`,children:e},t)}function l(e){const{buttonsLeft:t,buttonsRight:o,children:l,headerHeight:a,minHeight:c,shouldStick:d}=e;return(0,r.jsx)(n.Z,{position:d?"sticky":void 0,shouldShowShadow:!0,style:{zIndex:1},top:null!=a?a:"pending",children:(0,r.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},paddingX:4,width:"100%",children:(0,r.jsxs)(i.xu,{alignItems:"center","data-test-id":"action-bar",display:"flex",justifyContent:"between",minHeight:c,width:"100%",children:[(0,r.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",children:t.map(s)}),(0,r.jsx)(i.xu,{margin:"auto",children:l}),(0,r.jsx)(i.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:o.map(s)})]})})})}},2819:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(259986),r=o(883119),s=o(785893);function l({bgColor:e,children:t,icon:o,label:l,size:a}){const c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),_=()=>u(!1);return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(r.xu,{ref:c,children:(0,s.jsx)(i.Z,{accessibilityLabel:l,bgColor:e,icon:o,onClick:()=>u(!d),selected:d,size:a})}),d&&(0,s.jsx)(r.Lt,{id:"actionBarMenuButton",idealDirection:"down",anchor:c.current,onDismiss:_,zIndex:new r.Ry(1e3),children:t({handleClose:_})})]})}},19878:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(694379),i=o(898781),r=o(349700),s=o(883119),l=o(785893);function a({pinCount:e,placesCount:t,sectionCount:o}){const a=(0,i.ZP)(),c=!!t&&0!==e||!t;return(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t?(0,l.jsx)(s.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,lineClamp:1,children:(0,r.nk)(a.ngettext('{{ count }} place', '{{ count }} places', t, 'label for n amount of places', 'label for n amount of places'),{count:(0,l.jsx)(n.Z,{value:t},"places-count")})})}):null,o?(0,l.jsx)(s.xu,{display:"none",smDisplay:"flex",overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,lineClamp:1,children:(0,r.nk)(a.ngettext('{{ count }} section', '{{ count }} sections', o, 'label for n amount of sections', 'label for n amount of sections'),{count:(0,l.jsx)(n.Z,{value:o},"section_count")})})}):null,c&&(0,l.jsx)(s.xu,{overflow:"hidden",children:(0,l.jsx)(s.xv,{size:"200",lineClamp:1,children:(0,r.nk)(a.ngettext('{{ count }} Pin', '{{ count }} Pins', e, 'label for n amount of pins', 'label for n amount of pins'),{count:(0,l.jsx)(n.Z,{value:e},"pin_count")})})})]})}},976849:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(966338),r=o(830944),s=o(263116),l=o(558446),a=o(717615),c=o(19121),d=o(935409),u=o(87732),_=o(407043),h=o(50286),p=o(904411),m=o(782534),g=o(298361),f=o(898781),x=o(231947),y=o(883119),v=o(785893);function P(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const b=(0,s.ZP)({resolved:{},chunkName:()=>"BoardEdit-BoardEditModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>o.e(71654).then(o.bind(o,684333)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 684333}}),A="write";class w extends n.Component{constructor(...e){super(...e),P(this,"state",{isEditModalOpen:!1}),P(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),P(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:o}=this.props,n="list"===o;return e.archived_by_me_at?n?(0,v.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._('Archived', 'profileBoardCard.footer.archived', 'Indicating that a board is archived'):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||n?this.props.getHumanizedTimeSince(null!==(r=e.board_order_modified_at)&&void 0!==r?r:"",!0):null:n?(0,v.jsx)("span",{children:(0,v.jsx)(m.Z,{dateFormatType:m.k.LONG,value:new Date(null!==(i=e.created_at)&&void 0!==i?i:"")})}):null;var i,r})),P(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4})})),P(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:o}=this.props;this.setState({isEditModalOpen:!0}),o({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),P(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e,t,o;const{board:i,forwardedRef:s,isAuthDesktop:a,isReordering:c,isOwnProfile:d,layout:u,onBoardArchiveChange:_,onBoardDelete:h,onBoardPrivacyChange:p,onBoardLeave:m,onBoardUpdate:g,slotIndex:f,viewer:P,orbacActingAs:w}=this.props,{isEditModalOpen:C}=this.state;if(!i)return null;const E=(0,x.D3)(P,null!==(e=null===(t=i.owner)||void 0===t?void 0:t.id)&&void 0!==e?e:"",w),T=(0,x.lJ)(P,w),{url:S}=i,I=T&&(0,r.Z)(i)?`?orbac_subject_id=${T}`:"",j=d||(null===(o=i.access)||void 0===o?void 0:o.includes(A))||E,z=this.getSubtitleText();return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(y.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${null!=S?S:""}${I}`,ref:s,children:(0,v.jsx)(y.xu,{children:(0,v.jsx)(l.Z,{board:i,canEdit:j,isOwnProfile:d,isReordering:c,layout:u,onEditClick:this.handleEditClick,slotIndex:f,subtitle:z})})}),a&&C&&(0,v.jsx)(b,{boardId:i.id,onBoardArchiveChange:_,onBoardDelete:h,onBoardLeave:m,onBoardPrivacyChange:p,onBoardUpdate:g,onClose:this.handleEditClose})]})}}function C(e){var t;const{board:o}=e,{logContextEvent:n}=(0,_.v)(),r=(0,f.ZP)(),s=(0,g.Z)(),l=(0,a.Z)(),m=(0,c.Z)(),x=(0,i.useDispatch)(),y=((0,p.bn)()[o.id]||{}).images,{blockingActions:P}=null!==(t=(0,u.S)())&&void 0!==t?t:{},b=((P.boardMap[o.id]||{}).wholeBoard||{}).progress,A=m&&m.isAuth,C=(0,h.HG)()&&A;return(0,v.jsx)(w,{...e,i18n:r,viewer:m,orbacActingAs:l,getHumanizedTimeSince:s,logContextEvent:n,updateBoard:()=>x((0,d.oG)(o.id,"profile_grid_item")),images:y,progress:b,isAuthDesktop:C})}P(w,"defaultProps",{isOwnProfile:!1,isReordering:!1})},10905:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(883119),r=o(785893);function s(){const e=(0,n.ZP)();return(0,r.jsx)(i.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},808058:(e,t,o)=>{o.d(t,{FC:()=>l,FP:()=>r,M0:()=>i,s0:()=>n,z9:()=>s});const n=34,i=236,r=157,s=320,l=213},851850:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(19121),i=o(50286);function r(){const e=(0,i.HG)(),t=(0,n.Z)(),o=t&&t.isAuth;if(e&&o){return e=>{var t,o;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,i=null!==(t=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==t?t:n,r=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return i||r}}return(e,t)=>{var o,n;const i=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!i)return"";const r=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,s=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,a=null!==(o=null!==(n=null!=r?r:s)&&void 0!==n?n:l)&&void 0!==o?o:"",c=e.image_cover_url||"";return i||(t&&t>2&&a?a:"")||c}}},286268:(e,t,o)=>{o.d(t,{Bw:()=>l,Jx:()=>s,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),i=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var o;return"string"==typeof e?n(e)!==t:n(null!==(o=e.url)&&void 0!==o?o:"")!==t}},s=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(r(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(r(t)).map(i):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},61877:(e,t,o)=>{o.d(t,{Cq:()=>h,Dk:()=>m,Fk:()=>r,bI:()=>i,fS:()=>_,gw:()=>d,j1:()=>u,km:()=>p,lI:()=>l,lJ:()=>s,mS:()=>c,qW:()=>a});var n=o(883119);const i=new n.Ry(0),r=new n.Ry(1),s=3,l=new n.Ry(s),a=2,c=new n.Ry(a),d=new n.Ry(3),u=new n.Ry(3),_=3,h=4,p=new n.Ry(5),m=new n.Ry(100)},715173:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),r=o(868065),s=o(785893);function l({fullWidth:e,isFollowed:t,topicId:o,primaryAction:l=!1,onFollow:a=(()=>{}),onUnFollow:c=(()=>{}),isFollowedText:d,isNotFollowedText:u,size:_="md"}){const h=(0,n.ZP)(),p=(0,r.X2)(),{follow:m,unfollow:g}=(0,r.mW)(),f=p[o],x=f?Boolean(f.is_followed):t;return(0,s.jsx)(i.zx,{color:"gray",selected:!x,fullWidth:!e,onClick:()=>{x?(c(o),g(o)):(a(o),m(o,l))},text:x?d||h._('Following', 'Button text to display for unfollowing an interest', 'Button text to display for unfollowing an interest'):u||h._('Follow', 'Button text to display for following an interest', 'Button text to display for following an interest'),size:_})}},464019:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(715173),i=o(694379),r=o(898781),s=o(349700),l=o(883119),a=o(785893);function c({backgroundColor:e,followersCount:t,followersCountDisplay:o,height:n,image:i,name:c,width:d}){var u,_,h;const p=(0,r.ZP)(),m=p.ngettext('{{ count }} {{ label }}', '{{ count }} {{ label }}', t || 0, 'indicate a number of followers', 'indicate a number of followers'),g=p.ngettext('follower', 'followers', t || 0, 'used in {{count}} {{followers}}', 'used in {{count}} {{followers}}'),f=n||d;return(0,a.jsx)(l.xu,{children:(0,a.jsxs)(l.zd,{rounding:4,children:[i?(0,a.jsxs)(l.xu,{position:"relative",children:[(0,a.jsx)(l.GH,{width:d,height:f,contentAspectRatio:(null!==(u=i.width)&&void 0!==u?u:1)/(null!==(_=i.height)&&void 0!==_?_:1),children:(0,a.jsx)(l.Ee,{alt:c,color:e,naturalHeight:1,naturalWidth:1,src:null!==(h=i.url)&&void 0!==h?h:""})}),(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},position:"absolute",top:!0})]}):(0,a.jsx)(l.xu,{height:f,width:d,dangerouslySetInlineStyle:{__style:{backgroundColor:e}}}),(0,a.jsxs)(l.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"center",bottom:!0,left:!0,padding:3,position:"absolute",right:!0,top:!0,children:[(0,a.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:c}),t?(0,a.jsx)(l.xu,{children:(0,s.nk)(m,{count:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:o},"followersCount"),label:(0,a.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",children:g},"followersLabel")})}):null]})]})})}const d=236;function u(e){const{backgroundColor:t,followedByMe:o,followersCount:r,height:s,id:u,image:_,name:h,url:p,width:m=d,followingButton:g}=e,f=r?(0,a.jsx)(i.Z,{value:r,shortform:!0,shortformMaximumFractionDigits:1}):"",x=g||(0,a.jsx)(n.Z,{fullWidth:!0,topicId:u,isFollowed:o}),y=(0,a.jsx)(c,{backgroundColor:t,followersCount:r,followersCountDisplay:f,image:_,name:h,width:m,height:s});return(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.xu,{width:m,children:[p?(0,a.jsx)(l.iP,{role:"link",href:`/ideas/${p}/${u}`,children:y}):y,(0,a.jsx)(l.xu,{marginTop:2,display:"flex",justifyContent:"center",children:x})]})})}},56291:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(966338),r=o(116303),s=o(70598),l=o(898781),a=o(326015),c=o(349700),d=o(883119),u=o(5226),_=o(785893);function h({isSelf:e,showVerified:t=!1,user:o={}}){const[h,p]=(0,n.useState)(o.explicitly_followed_by_me||!1),m=(0,i.useDispatch)(),g=(0,l.ZP)(),{domain_verified:f,full_name:x,is_verified_merchant:y,username:v}=o,P=o.image_medium_url||o.image_small_url;return(0,_.jsxs)(d.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,_.jsx)(d.xu,{flex:"grow",paddingX:1,children:(0,_.jsx)(d.iP,{role:"link",href:`/${v}/`,children:(0,_.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",gap:2,children:[(0,_.jsx)(d.xu,{width:50,children:(0,_.jsx)(r.Z,{name:(0,c.nk)(g._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:x}).join(" "),src:null!=P?P:"",size:"fit"})}),(0,_.jsx)(d.xv,{weight:"bold",children:t&&(y||f)?(0,_.jsx)(a.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=x?x:"",identityIsVerified:f,isVerifiedMerchant:y}):x})]})})}),(0,_.jsx)(d.xu,{paddingX:1,children:(0,_.jsx)(s.Z,{followEventType:45,id:o.id,isFollowed:h,isUserMe:Boolean(e),onFollow:e=>{m((0,u.ZN)(e)),p(!0)},onUnfollow:e=>{m((0,u.fv)(e)),p(!1)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},993786:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(966113),r=o(898781),s=o(883119),l=o(785893);const a={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,r.ZP)();return(0,l.jsx)(s.u,{link:(0,l.jsx)(s.rU,{href:i.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,l.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:o,showText:i,size:d}){const u=(0,r.ZP)(),_=(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(s.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:a[d]}),i&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(n.Fragment,{children:[o&&!t&&(0,l.jsx)(c,{children:_}),o&&t&&_,e&&!o&&(0,l.jsx)(s.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:a[d]})]})}},154391:(e,t,o)=>{o.d(t,{H:()=>r,o:()=>i});var n=o(425288);const{Provider:i,useHook:r}=(0,n.Z)("LimitedLogin")},957314:(e,t,o)=>{o.d(t,{N4:()=>r,Wh:()=>n,hr:()=>i});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(50286),r=o(154391),s=o(957314);const l=()=>{const e=(0,n.ZP)(),t=(0,i.HG)(),{viewer:o,loginForMore:l,limitedLoginModalSubheader:a,limitedLoginModalNextLocation:c}=(0,r.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:n})=>i=>{let r=null;i&&(i.nativeEvent&&i.nativeEvent instanceof Event?r=i:i.event&&(r=i.event)),r&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),o||(o=t?(0,s.hr)(e):(0,s.Wh)(e)),null==l||l.setVisible(!0),null==a||a.setText(o),n&&(null==c||c.setRoute(n))}:({fn:e})=>e}},409828:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),r=o(774807),s=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,userId:o}){const{logContextEvent:d}=(0,l.v)(),[u,_]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(s.xu,{ref:m,children:e({showSendMessageFlyout:()=>{_((e=>!e))}})}),u&&(0,c.jsx)(r.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),_(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[o],text:e}),n=await t.callCreate(),r=null==n?void 0:n.resource_response.data;g(r),f(r.id)},onDismiss:()=>_(!1),message:h})]})}},774807:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(934523),r=o(883119),s=o(785893);function l({anchor:e,idealDirection:t,message:o,onDismiss:l,onMessageChange:a,onMessageSubmit:c}){const d=(0,n.ZP)();return(0,s.jsx)(r.mh,{zIndex:new r.Ry(i.fe-1),children:(0,s.jsx)(r.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:l,size:"md",children:(0,s.jsxs)(r.xu,{padding:3,width:"100%",children:[(0,s.jsx)(r.Kx,{id:"message",value:o,onChange:({value:e})=>a(e),placeholder:d._('Add a message', 'profileHeader.actionBar.messageFlyout.textareaPlaceholder', 'Text placeholder when sending a message to another user')}),(0,s.jsx)(r.xu,{marginTop:3,children:(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",text:d._('Send', 'profileHeader.actionBar.messageFlyout.sendButton', 'Label for button to send this message to this user'),disabled:""===o.trim(),onClick:c})})]})})})}},106860:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(667294),i=o(161087),r=o(497997),s=o(898781),l=o(780280),a=o(883119),c=o(785893);function d({height:e,onCtaDidLoad:t,width:d}){const u=(0,s.ZP)(),[_,h]=(0,n.useState)(null),{locale:p}=(0,l.B)(),m=(0,i.default)(p);(0,n.useEffect)((()=>{m&&"none"!==m&&(e=>{const t=(0,n.lazy)((()=>o(453658)(`./${e}`)));h(t)})(m)}),[m]),(0,n.useEffect)((()=>{_&&t()}),[_]);const g=u._('Open Pinterest and tap the camera icon for ideas', 'PincodeCTA.title', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label for an image'),f=(0,c.jsx)(a.xv,{align:"center",children:g});return"none"===m?f:_?(0,c.jsx)(r.Z,{fallback:f,children:(0,c.jsx)(_,{height:e,title:g,width:d})}):(0,c.jsx)(a.$j,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},161087:(e,t,o)=>{function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":return"ESMX";case"ES-AR":return"ESAR";case"ES-419":return"ESMX";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}o.r(t),o.d(t,{default:()=>n})},672643:(e,t,o)=>{o.d(t,{ZP:()=>z});var n=o(667294),i=o(106860),r=o(785893);const s="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",l="#e60023",a="0 0 222 222";function c({size:e}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:a,children:(0,r.jsx)("path",{d:s,fill:l,fillRule:"evenodd"})})}var d=o(898781),u=o(883119);function _({getThumbnailImageSrcSet:e,images:t,onTouch:o}){const n=(0,d.ZP)();return(0,r.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map(((t,i)=>{var s,l,a,d;return(0,r.jsx)(u.xu,{padding:1,children:(0,r.jsx)(u.Zb,{children:(0,r.jsx)(u.iP,{fullWidth:!1,onTap:()=>o("logo"===t?"logo":i-1),rounding:2,children:(0,r.jsx)(u.zd,{rounding:"circle",width:85,height:85,children:"logo"===t?(0,r.jsx)(c,{size:85}):(0,r.jsx)(u.Ee,{alt:n._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(a=t.url)&&void 0!==a?a:"",srcSet:e&&e(null!==(d=t.url)&&void 0!==d?d:"")})})})})},"logo"===t?t:t.url)}))})}var h=o(784590);const p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`\n  <svg xmlns="http://www.w3.org/2000/svg" width="${m||222}" height="${m||222}" x="${g||0}" y="${g||0}" viewBox="0 0 222 222">\n    <path d="${s}" fill="#e60023" fill-rule="evenodd" />\n  </svg>`.trim())}`;var m,g;const f=600;function x(e,t,o){return`\n    <image id="image"\n      x="${100+("right"===t?300:0)}"\n      y="${100+("bottom"===o?300:0)}"\n      width="${f/("row"===t?1:2)}"\n      height="${f/("column"===o?1:2)}"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="${e}"\n      preserveAspectRatio="xMidYMid slice"\n    />`}function y(e,t){const o=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return o?e.replace(/<image[^>]*>/,o):e}class v extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(o="handleFetchChange")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}componentDidMount(){const{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){const{className:e,imageUrls:t,size:o,pincodeImageResource:{data:n,isLoaded:i}}=this.props,s=o,l=o;return(0,r.jsxs)(u.kC,{alignItems:"center",height:l,justifyContent:"center",width:s,children:[i&&!!n&&(0,r.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:y(n,t)},style:{width:s,height:l}}),(0,r.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!n})]})}}function P(e){const t=(0,d.ZP)(),o=(0,h.Z)({name:"PincodeImageResource",options:{object_id:e.id,hero_image_url:e.imageUrls[0]||p}});return(0,r.jsx)(v,{...e,i18n:t,pincodeImageResource:o})}var b=o(407043);function A(e){return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.ontimeout=o,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void o();const e=new FileReader;e.onloadend=()=>{const n=e.result;"string"==typeof n?t(n.split(/,/)[1]):o()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()}))}function w(e,t){if(!(e instanceof Element))return Promise.resolve(e);if(e instanceof window.SVGImageElement)return function(e,t){const o=e.href.baseVal;if(o.startsWith("data:"))return Promise.resolve();const n=t?t(o):o;return Promise.resolve(n).then(A).then((e=>`data:${function(e){const t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`)).then((t=>new Promise(((o,n)=>{e.onerror=n,e.href.baseVal=t,window.requestAnimationFrame(o)}))))}(e,t);const o=Array.from(e.childNodes);return Promise.all(o.map((e=>w(e,t))))}function C(e,t){return new Promise(((o,n)=>{const i=document.createElement("div");i.innerHTML=e.innerHTML,w(i,t).then((()=>{const t=new Image;t.onload=()=>{window.requestAnimationFrame((()=>o(t)))},t.onerror=n;const r=i&&i.querySelector("svg");r&&(/^[0-9]+$/.test(r.getAttribute("width")||"")||r.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(r.getAttribute("height")||"")||r.setAttribute("height",`${e.scrollHeight}`));const s=i.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(s.trim())}`}))}))}function E(e,t){return new Promise(((o,n)=>{(function(e){return new Promise(((t,o)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(l){o()}const i=window.atob(n.split(",")[1]),r=i.length,s=new Uint8Array(r);for(let e=0;e<r;e+=1)s[e]=i.charCodeAt(e);t(new window.Blob([s],{type:"image/png"}))}))})(e).then((e=>window.URL.createObjectURL(e))).then((e=>{const n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame((()=>{const t=()=>{window.requestAnimationFrame((()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),o()}))};n.addEventListener("click",t),n.click()}))})).catch(n)}))}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const S="pincodeMain",I="pincodeCTA";class j extends n.PureComponent{constructor(...e){super(...e),T(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),T(this,"getCustomHeroImages",(()=>{const{images:e,customizable:t}=this.props,{pickedImageIndex:o}=this.state;if(!t)return e;const n="logo"!==o&&e[o];return n?[n]:[]})),T(this,"normalizeUrl",(e=>{const{getMainImageURL:t}=this.props;return(e=>e.replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/"))((t||(e=>e))(e))})),T(this,"handleFetchChange",(e=>{this.setState({isFetchingPincodeImage:e})})),T(this,"handleCancelButtonClick",(()=>this.setState({isPickingHeroImage:!1}))),T(this,"handleEditButtonClick",(()=>this.setState({isPickingHeroImage:!0}))),T(this,"handleSelectImage",(e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e}))),T(this,"downloadPincodeImage",(()=>{const e=this.previewNode,{ctaIsLoaded:t,isFetchingPincodeImage:o,isDownloading:n}=this.state;if(!e||!t||o||n)return;const i=e.querySelector(".pincodeMain"),r=e.querySelector(".pincodeCTA");if(!i||!r)return;const{getDownloadImageURL:s,id:l,logContextEvent:a}=this.props;a({event_type:7078,component:13141,object_id_str:l}),this.setState({isDownloading:!0}),Promise.all([C(i,s),C(r)]).then((e=>{const[t,o]=e;return((e,t)=>{const o=document.createElement("canvas");o.width=3544,o.height=3544;const n=Math.round(.1*o.width),i=Math.round(.05*o.width),r=o.width-2*n,s=o.width-2*i,l=o.height-r,[a,c]=t.width/t.height>s/l?[s,s/t.width*t.height]:[l/t.height*t.width,l],d=o.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,o.width,o.height),d.drawImage(e,n,0,r,r),d.drawImage(t,(o.width-a)/2,r+(o.height-r-c)/2,a,c),o})(t,o)})).then((e=>E(e,`pincode_${this.props.id}.png`))).then((()=>{this.setState({isDownloading:!1})})).catch((()=>{this.setState({errorFlyoutIsOpen:!0})}))}))}render(){const{id:e,isLoadingImages:t,images:o,getThumbnailImageSrcSet:n,customizable:s}=this.props,{ctaIsLoaded:l,errorFlyoutIsOpen:a,isFetchingPincodeImage:c,isDownloading:d,isPickingHeroImage:h}=this.state;return h?(0,r.jsx)(u.xu,{width:350,color:"default",rounding:2,padding:4,children:(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(u.xu,{paddingY:1,children:(0,r.jsx)(u.X6,{size:"500",lineClamp:1,children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,r.jsx)(u.iz,{}),(0,r.jsx)(_,{images:o,getThumbnailImageSrcSet:n,onTouch:this.handleSelectImage}),(0,r.jsx)(u.xu,{padding:1,children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker'),onClick:this.handleCancelButtonClick})})]})}):(0,r.jsx)(u.xu,{width:350,color:"default",rounding:2,marginBottom:4,paddingX:4,children:(0,r.jsxs)(u.xu,{children:[(0,r.jsx)(u.xu,{ref:e=>{this.previewNode=e},children:(0,r.jsxs)(u.xu,{color:"default",display:"flex",direction:"column",alignItems:"center",justifyContent:"center",width:"100%",height:320,children:[t?(0,r.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,r.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,r.jsx)(P,{className:S,id:e,imageUrls:this.getCustomHeroImages().map((e=>{var t;return this.normalizeUrl(null!==(t=e.url)&&void 0!==t?t:"")})),onFetchingChange:this.handleFetchChange,size:230}),(0,r.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:7,marginTop:2,children:(0,r.jsx)("div",{className:I,children:(0,r.jsx)(i.default,{onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300,height:78})})})]})}),(0,r.jsxs)(u.xu,{marginTop:2,padding:1,children:[s&&o.length>0&&(0,r.jsx)(u.xu,{paddingY:1,children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image'),onClick:this.handleEditButtonClick})}),(0,r.jsxs)(u.xu,{paddingY:1,children:[(0,r.jsx)(u.xu,{ref:e=>{this.downloadButton=e},children:(0,r.jsx)(u.zx,{fullWidth:!0,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image'),color:"red",onClick:this.downloadPincodeImage,disabled:t||!l||c||d})}),a&&(0,r.jsx)(u.J2,{anchor:this.downloadButton,color:"red",idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),size:"sm",shouldFocus:!1,children:(0,r.jsx)(u.xu,{padding:3,children:(0,r.jsx)(u.xv,{color:"inverse",weight:"bold",children:(0,r.jsx)("span",{children:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported')})})})})]})]})]})})}}function z(e){const{logContextEvent:t}=(0,b.v)(),o=(0,d.ZP)();return(0,r.jsx)(j,{...e,i18n:o,logContextEvent:t})}},529758:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(121151),r=o(898781),s=o(883119),l=o(407043),a=o(785893);function c({children:e,objectId:t,onHide:o}){const{logContextEvent:c}=(0,l.v)(),d=(0,r.ZP)(),u={component:13141,object_id_str:t};return(0,n.useEffect)((()=>{c({event_type:6359})}),[t]),(0,a.jsx)(i.ZP,{accessibilityModalLabel:d._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:d._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{o(),c({event_type:6358,...u})},size:"sm",children:(0,a.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},301732:(e,t,o)=>{o.d(t,{ZP:()=>b,cs:()=>P});var n=o(667294),i=o(704115),r=o(715173),s=o(730320),l=o(104258),a=o(907301),c=o(464019),d=o(784590),u=o(19121),_=o(407043),h=o(898781),p=o(780280),m=o(883119),g=o(785893);function f({onClick:e}){const t=(0,h.ZP)();return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(m.iP,{role:"link",href:"/categories",onTap:e,children:(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.zd,{height:236,rounding:2,wash:!0,width:236,children:(0,g.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,g.jsx)(m.JO,{accessibilityLabel:t._('add topics', 'accessible label for Explore topics add icon', 'accessible label for Explore topics add icon'),color:"error",icon:"add-circle",size:40})})}),(0,g.jsx)(m.xu,{paddingY:3,children:(0,g.jsx)(m.X6,{size:"400",color:"subtle",children:t._('Explore topics', 'Text to display for link to find topics to follow', 'Text to display for link to find topics to follow')})})]})})})}function x(e){let t=e;return e.includes(":")&&2===e.indexOf(":")&&(t=e.substring(3)),t}function y(e){const{id:t="",images:o={},name:n="",background_color:i="",is_followed:s=!1,url_name:l="",primaryAction:a=!1}=e;return(0,g.jsx)(m.xu,{marginStart:-6,padding:6,children:(0,g.jsx)(c.Z,{backgroundColor:i,id:t,image:o["400x"],followedByMe:s,name:n,url:x(l),followingButton:Boolean(a)&&(0,g.jsx)(r.Z,{fullWidth:!0,topicId:t,isFollowed:s,primaryAction:Boolean(a)})})},t)}class v extends n.PureComponent{constructor(...e){var t,o,n;super(...e),n=()=>{this.props.logContextEvent({event_type:101,view_type:4,view_parameter:51,element:1224})},(o="handleFindTopicsClick")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{viewer:e,topicsResource:{data:t,fetchMore:o,isAtEnd:n,isFetching:i,isLoaded:r},user:c,hideExploreButton:d,primaryAction:u,requestContext:_}=this.props,h=e.isAuth&&e.username===c.username;return(0,g.jsxs)(m.xu,{children:[(0,g.jsx)(m.gr,{isAtEnd:n,isFetching:i,fetchMore:o}),r&&t&&(t.length?(0,g.jsxs)(a.Z,{itemWidth:260,children:[!d&&h&&(0,g.jsx)(f,{onClick:this.handleFindTopicsClick}),t.map((e=>Object.assign(e,{primaryAction:u,requestContext:_}))).map(y)]}):(0,g.jsx)(s.Z,{children:(0,g.jsx)(l.Z,{subject:"topics",surface:"following",user:c})})),(0,g.jsx)(m.$j,{accessibilityLabel:this.props.i18n._('Loading additional topics', 'Label for the loading state spinner in the Topics section of the Following page', 'Label for the loading state spinner in the Topics section of the Following page'),show:i||!r})]})}}function P(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),r=(0,u.Z)(),s=(0,d.Z)({name:"NuxInterestsResource",options:{is_renux:!0,isLazyLoading:!0,urlParams:(0,i.Z)()}});return(0,g.jsx)(v,{...e,hideExploreButton:!0,primaryAction:!0,requestContext:n,topicsResource:s,viewer:r,i18n:o,logContextEvent:t})}function b(e){const{logContextEvent:t}=(0,_.v)(),o=(0,h.ZP)(),n=(0,p.B)(),i=(0,u.Z)(),r=(0,d.Z)({name:"InterestFollowingResource",options:({user:e})=>({username:e.username})});return(0,g.jsx)(v,{...e,requestContext:n,topicsResource:r,viewer:i,i18n:o,logContextEvent:t})}},741982:(e,t,o)=>{o.d(t,{S:()=>d,w:()=>u});var n=o(667294),i=o(695683),r=o(311541),s=o(425288),l=o(785893);const a=()=>o.e(90251).then(o.bind(o,590251)),{Provider:c,useHook:d}=(0,s.Z)("MerchantStorefrontSettings");function u({children:e}){const[t,o]=(0,r.Z)(a,i.Z),s=(0,n.useMemo)((()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,n)=>{o({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{o({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}})),[o,t]);return(0,l.jsx)(c,{value:s,children:e})}},985310:(e,t,o)=>{o.d(t,{Z:()=>n});const n={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},695683:(e,t,o)=>{o.d(t,{Z:()=>n});const n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},120659:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({image:e,width:t,height:o}){return e?(0,i.jsx)(n.zd,{wash:!0,width:t,height:o,children:(0,i.jsx)(n.Ee,{alt:"board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})}):(0,i.jsx)(n.xu,{color:"secondary",width:t,height:o})}},728375:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(14254),r=o(19878),s=o(10905),l=o(898781),a=o(883119),c=o(785893);function d({board:e,canEdit:t,isActive:o,onEditClick:n,subtitle:i}){const d=(0,l.ZP)(),{image_cover_url:u,is_collaborative:_,name:h,pin_count:p,section_count:m}=e,g=_&&(0,c.jsx)(a.xu,{marginEnd:2,paddingX:1,children:(0,c.jsx)(a.JO,{accessibilityLabel:d._('Group board', 'Accessibility label to indicate group boards', 'Accessibility label to indicate group boards'),color:"default",icon:"people",size:16})});return(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4,children:[(0,c.jsx)(a.xu,{column:9,display:"flex",paddingX:4,children:(0,c.jsxs)(a.xu,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4,children:[(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:4,children:(0,c.jsxs)(a.xu,{display:"flex",marginEnd:-2,marginStart:-2,children:[(0,c.jsx)(a.xu,{flex:"none",paddingX:2,children:(0,c.jsx)(a.xu,{height:40,overflow:"hidden",rounding:1,width:40,children:u?(0,c.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:u}):(0,c.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2,children:(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:1,children:(0,c.jsx)(a.xv,{lineClamp:1,weight:"bold",children:h})})})]})}),(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",paddingX:4,children:["secret"===e.privacy&&(0,c.jsx)(a.xu,{marginEnd:2,children:(0,c.jsx)(s.Z,{})}),g,(0,c.jsx)(r.Z,{pinCount:null!=p?p:0,sectionCount:m})]})]})}),(0,c.jsxs)(a.xu,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4,children:[i&&(0,c.jsx)(a.xu,{overflow:"hidden",paddingX:1,children:(0,c.jsx)(a.xv,{size:"200",lineClamp:1,children:i})}),t&&o&&(0,c.jsx)(a.xu,{flex:"none",paddingX:1,children:(0,c.jsx)(a.hU,{accessibilityLabel:d._('Edit', 'Edit button accessibility label', 'Edit button accessibility label'),icon:"edit",onClick:({event:e})=>n(e)})})]})]})}var u=o(6637),_=o(499128),h=o(851850),p=o(19121),m=o(904411),g=o(597897),f=o(780280),x=o(343341),y=o(286268);function v({board:e,canEdit:t,invite:o,isReordering:r,layout:s,onDeclineRequest:v,onEditClick:P,subtitle:b,viewParameter:A,viewType:w}){var C;const E=(0,l.ZP)(),T=(0,p.Z)(),S=T&&T.isAuth,I=T.isAuth?T.id:"",[j,z]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),O=(0,g.U)(),k=(0,x.F9)(),{locale:L}=(0,f.B)(),N=(0,h.Z)();(0,n.useEffect)((()=>{r&&j&&z(!1)}),[r,j]);const M=null!==(C=null==e?void 0:e.id)&&void 0!==C?C:"",F=(0,m.gC)()(M),U=()=>{z(!r),O&&O.load(new URL("[username]/[slug].js","file://"))},B=()=>{z(!1)},Z=null!=e?e:F;if(Z){var G,H,V,W,$;const e=Z.owner,n=[e,...Z.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:o,full_name:n})=>({id:e,image_medium_url:t,username:o,full_name:n}))),r=N(Z),l={isCustom:Z.has_custom_cover,url:r,position:(0,y.Bw)(Z.cover_pin)},h=(0,y.Jx)(Z,r).map((({url:e})=>({name:(0,y.po)(e),url:e}))),p=(null==e?void 0:e.id)===I,m=n.filter((({id:e})=>e===I)).length>0;return(0,c.jsx)(a.xu,{"data-test-id":"profile-board-card",children:(0,c.jsx)(a.xu,{"data-test-id":`board-${null!==(G=Z.name)&&void 0!==G?G:""}`,onMouseEnter:U,onMouseLeave:B,children:"list"===s?(0,c.jsx)(d,{board:Z,canEdit:t,isActive:j,onEditClick:P,subtitle:b}):(0,c.jsx)(i.Z,{archivedDate:null!==(H=Z.archived_by_me_at)&&void 0!==H?H:void 0,boardUrl:Z.url,canEdit:t,collaborators:n,collaboratorsCount:Z.collaborator_count,containerBackgroundColor:Z.archived_by_me_at?"#f6f6f6":void 0,coverPhoto:r?l:null,followedByMe:Boolean(Z.followed_by_me),fullSizeDrawer:!0,handleInviteResponse:e=>{(async e=>{if(!o)return;const{board:t={},invited_user:n={}}=o,i={board_id:null==t?void 0:t.id,invited_user_id:n.id};await u.ZP.create("BoardInviteResource",i)[e?"callUpdate":"callDelete"](),D(e),!e&&v?(v(),k.showToast((({hideToast:e})=>(0,c.jsx)(_.ZP,{onHide:e,text:E._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})))):k.showToast((({hideToast:e})=>(0,c.jsx)(_.ZP,{duration:5e3,onHide:e,text:E._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})))})(e)},hideMeta:!1,id:Z.id,imagesLego:h,invite:o,isActive:j,isAuthenticated:S,isBoardInviteAccepted:R,isCollaborative:Boolean(Z.is_collaborative),isCollaborator:m,isOwner:p,isSecret:"secret"===Z.privacy,layout:"square"===s?"square":"wide",lastModifiedDate:null!==(V=Z.board_order_modified_at)&&void 0!==V?V:"",locale:L,name:null!==(W=Z.name)&&void 0!==W?W:"",numCols:4,onEditClick:P,owner:e,pinCount:Z.pin_count?Z.pin_count:void 0,sectionCount:null!==($=Z.section_count)&&void 0!==$?$:0,sensitivityScreen:Z.sensitivity_screen,showFollowButton:!1,viewParameter:A,viewType:w,viewerId:I})})})}return null}},558446:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(564194),i=o(728375),r=o(785893);function s({board:e,isOwnProfile:t,slotIndex:o,...s}){var l;const a=t?3069:3070;return(0,r.jsx)(n.Z,{componentType:13669,impressionType:"Board",loggingId:null!==(l=null==e?void 0:e.id)&&void 0!==l?l:"",slotIndex:o,viewParameter:a,viewType:4,children:(0,r.jsx)(i.Z,{board:e,...s,viewParameter:a,viewType:4})})}},132893:(e,t,o)=>{o.d(t,{F:()=>i,m:()=>r});const n={square:{width:236,height:157},wide:{width:320,height:213}};function i(e){return n["square"===e?"square":"wide"]}function r(e){return"list"===e?"100%":i(e).width+16}},31185:(e,t,o)=>{function n(e,t,o){return{privacy_filter:t?"secret":"public",sort:o||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}o.d(t,{Z:()=>n})},527885:(e,t,o)=>{o.d(t,{O:()=>l,Q:()=>a});var n=o(848900),i=o(414327),r=o(875495);const s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],l={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:o,username:n},i)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...i?{orbac_subject_id:i}:Object.freeze({})})},a=e=>s.reduce(((t,o)=>{const s=[(0,r.N8)("profileBoards",(0,n.Z)(e,o))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{s.push((0,i.jB)(l.name,l.options({username:e,boardOrder:o,mixPublicSecret:t,filterStories:n})))}))})),t.concat(s)}),[])},730320:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);const r=({children:e,marginTop:t=5,textSize:o="500"})=>(0,i.jsx)(n.W2,{children:(0,i.jsx)(n.xu,{marginBottom:5,marginTop:t,children:(0,i.jsx)(n.X6,{color:"subtle",size:o,children:e})})})},406379:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(349700),r=o(883119),s=o(785893);function l({fullName:e,isOwnProfile:t,isPartnerProfile:o}){const l=(0,n.ZP)(),a=t?l._('You haven\'t saved any Pins yet', 'ownProfile.boards.emptyState', 'Message on a user\'s own profile when they haven\'t saved anything'):(0,i.nk)(l._('{{ fullName }} hasn\'t saved any Pins yet', 'otherProfile.boards.emptyState', 'Message on another user\'s profile when that user hasn\'t saved anything'),{fullName:null!=e?e:""});return(0,s.jsx)(r.W2,{children:(0,s.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:8,children:[(0,s.jsx)(r.xv,{children:a}),t&&(0,s.jsx)(r.xu,{marginTop:4,children:(0,s.jsx)(r.zx,{role:"link",href:o?"/homefeed":"/",accessibilityLabel:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button accessibility label to redirect a user from their empty profile to homefeed to find ideas to save'),size:"lg",text:l._('Find ideas', 'ownProfile.boards.emptyStateButton', 'Button text to redirect a user from their empty profile to homefeed to find ideas to save')})})]})})}},104258:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),i=o(19121),r=o(349700);function s({subject:e,surface:t,user:o}){const s=(0,n.ZP)(),l=(0,i.Z)(),{first_name:a}=null!=o?o:{},c=((e,t)=>t.isAuth&&e&&t.id===e.id)(o,l),d=()=>c?(()=>{switch(e){case"boards":return s._('You haven\u2019t followed any boards yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards', 'Text displayed when the current user is viewing their own profile and has yet to follow any boards');case"topics":return s._('You haven\u2019t picked any topics to follow yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics', 'Text displayed when the current user is viewing their own profile and has yet to follow any topics');case"users":return s._('You haven\u2019t followed anyone yet', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users', 'Text displayed when the current user is viewing their own profile and has yet to follow any other users');default:return null}})():(()=>{switch(e){case"boards":return(0,r.nk)(s._('{{ firstName }} hasn\'t followed any boards yet', 'Text displayed when a user has not followed any boards', 'Text displayed when a user has not followed any boards'),{firstName:a});case"topics":return(0,r.nk)(s._('{{ firstName }} hasn\'t picked any topics to follow yet', 'Text displayed when a user has not followed any topics', 'Text displayed when a user has not followed any topics'),{firstName:a});case"users":return(0,r.nk)(s._('{{ firstName }} hasn\'t followed anyone yet', 'Text displayed when a user has not followed anyone', 'Text displayed when a user has not followed anyone'),{firstName:a});default:return null}})();switch(t){case"followers":return c?s._('Nobody has followed your boards yet', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their boards followed'):(0,r.nk)(s._('Nobody has followed {{ firstName }}\'s boards yet', 'Text displayed when a no one has followed a user\u2019s boards', 'Text displayed when a no one has followed a user\u2019s boards'),{firstName:null!==(_=null==o?void 0:o.first_name)&&void 0!==_?_:""});case"following":return d();case"profile":return(()=>{if(c)switch(e){case"pins":return null!=o&&o.is_partner?s._('Nothing to see yet! Pins you publish will show up here.', 'profile.businessProfile.latestFeed.emptyLabel', 'label for empty business profile self-view of latest feed'):null;default:return null}switch(e){case"pins":return(0,r.nk)(s._('{{ firstName }} hasn\'t saved any Pins yet', 'Text displayed when a user has not saved any pins', 'Text displayed when a user has not saved any pins'),{firstName:a});case"boards":return(0,r.nk)(s._('{{ firstName }} hasn\'t created any boards yet', 'Text displayed when a user has not created any boards', 'Text displayed when a user has not created any boards'),{firstName:a});case"domainPins":return(0,r.nk)(s._('{{ firstName }} hasn\'t had any pins saved from their domain yet', 'Text displayed when a user has not had any images from their website pinned', 'Text displayed when a user has not had any images from their website pinned'),{firstName:a});default:return null}})();case"community":return c?s._('No one is following you', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed', 'Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed'):(0,r.nk)(s._('Be the first to follow {{ firstName }}', 'Text displayed when a no one has followed a user\u2019s profile/boards', 'Text displayed when a no one has followed a user\u2019s profile/boards'),{firstName:null!==(u=null==o?void 0:o.first_name)&&void 0!==u?u:""});case"shop":return(()=>{switch(e){case"search":return s._('Sorry, we couldn\'t find any Pins for this search.', 'Text displayed when a search result is empty', 'Text displayed when a search result is empty');default:return null}})();default:return null}var u,_}},907301:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);const r=(e,t)=>Array.from(new Array(t)).map(((t,o)=>(0,i.jsx)(n.xu,{width:e},o)));const s=function({children:e,itemWidth:t,maxColumns:o=12}){return(0,i.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,r(t,o)]})}},85719:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(785893);function r({accessibilityLabel:e,color:t="darkGray",icon:o,info:r}){return(0,i.jsxs)(n.kC,{gap:7,children:[(0,i.jsx)(n.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),r]})}},766911:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(116303),i=o(300267),r=o(580496),s=o(898781),l=o(883119),a=o(785893);function c({onTouch:e,user:t,viewer:o}){const c=(0,s.ZP)(),{image_xlarge_url:d,username:u}=t,_=(0,r.Z)(t),h=(0,i.Z)({viewer:o,user:t})||o.isAuth&&o.isEmployee,p=(0,a.jsx)(n.Z,{name:u,outline:_,size:"xl",src:null!=d?d:void 0});return h?(0,a.jsx)(l.iP,{accessibilityLabel:c._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:p}):p}},245635:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(887831),r=o(898781),s=o(883119),l=o(785893);function a(){const e=(0,r.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:o,onMouseLeave:a}}=(0,i.Z)(),c=(0,n.useRef)();return(0,l.jsxs)(s.xu,{display:"inlineBlock",onFocus:o,onBlur:a,onMouseOver:o,onMouseLeave:a,position:"relative",tabIndex:0,children:[(0,l.jsx)(s.xu,{display:"inlineBlock",ref:c,children:(0,l.jsx)(s.JO,{accessibilityLabel:t?"":e._('Claimed website', 'Claimed website icon', 'Claimed website icon'),color:"default",icon:"globe-checked",inline:!0,size:16})}),t&&(0,l.jsx)(s.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,l.jsx)(s.xu,{column:12,padding:3,children:(0,l.jsx)(s.xv,{color:"inverse",overflow:"normal",size:"100",children:e._('This website has been claimed', 'Tooltip for claimed website.', 'Tooltip for claimed website.')})})})]})}},348070:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(624389),r=o(898781),s=o(349700),l=o(217468),a=o(407043),c=o(81636),d=o(290095),u=o(883119),_=o(785893);function h({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:h,user:p}){var m;const{logContextEvent:g}=(0,a.v)(),f=(0,l.t)("web_about_drawer")().anyEnabled,x=(0,r.ZP)(),y=(0,n.useRef)(null),[v,P]=(0,n.useState)(!1),[b,A]=(0,n.useState)(),w=(0,d.V)(e,(null===(m=p.partner)||void 0===m?void 0:m.profile_place)||{},x._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),C=()=>{P(!1)},{id:E,partner:T}=p,{contact_email:S="",contact_phone:I="",contact_phone_country:j="",enable_profile_address:z,enable_profile_message:R,profile_place:D={}}=null!=T?T:{},O=I?null==b?void 0:b(I,{defaultCallingCode:j&&"0"!==j.phone_code?j.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107});const k=async()=>{if(P((e=>!e)),I&&!b){const e=await o.e(55302).then(o.bind(o,755302));A((()=>e.parsePhoneNumberFromString))}g({event_type:101,component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107})},L=e=>{g({event_type:101,component:13674,element:e,object_id_str:E,view_type:48,view_parameter:3107})},N=S||O,M={contact:x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f?x._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'):x._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),message:x._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,s.nk)(x._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'Menu option to send an email to the user'),{contactEmail:S}),call:x._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!N&&!R)return null;const F=(0,d.T)(D||{});return(0,_.jsx)(i.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:h,userId:E,children:({toggleSendMessageFlyout:e})=>(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(u.xu,{ref:y,children:(0,_.jsx)(u.zx,{onClick:()=>{N?k():e()},selected:v,size:"lg",text:M.contact})}),v&&(0,_.jsxs)(u.Lt,{id:"profileHeader_contactMenu",anchor:y.current,idealDirection:"up",onDismiss:C,children:[(0,_.jsxs)(u.Lt.Section,{label:M.sectionTitle,children:[R&&(0,_.jsx)(u.Lt.Item,{onSelect:()=>{e(),L(11956),C()},option:{label:M.message,value:M.message}}),S&&(0,_.jsx)(u.Lt.Link,{isExternal:!0,href:`mailto:${S}`,onClick:()=>{L(11954),C()},option:{label:M.email.join(""),value:M.email.join("")}}),O||I?(0,_.jsx)(u.Lt.Link,{isExternal:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{L(11955),e(),C()},href:`tel:${O?O.getURI():I}`,option:{label:M.call,value:M.call}}):null]}),f&&z&&(0,_.jsx)(u.Lt.Section,{label:x._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,_.jsx)(u.Lt.Item,{onSelect:w,option:{label:F,value:F}})})]})]})})}},110293:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(898781),i=o(883119),r=o(81636),s=o(785893);function l({showSendMessageFlyout:e,userId:t}){const o=(0,n.ZP)();return(0,r.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,s.jsx)(i.zx,{fullWidth:!0,size:"lg",text:o._('Message', 'profileHeader.messageButton', 'Button on a user profile to message that user'),onClick:e})}},456141:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(468747),i=o(300267),r=o(667294),s=o(333312),l=o(898781),a=o(615071),c=o(304903),d=o(349700),u=o(407043),_=o(925927),h=o(134679),p=o(883119),m=o(785893);function g({headerHeight:e,isOwnProfile:t,selectedTab:o,user:n}){var i;const{logContextEvent:g}=(0,u.v)(),f=(0,l.ZP)(),x=(0,_.k6)(),y=(0,r.useRef)(null),{id:v,username:P}=n,[b,A]=(0,r.useState)(0),w=()=>{A((0,c.S$)())};(0,r.useEffect)((()=>(window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)})));const C={1:{tab:h.u.CREATED,text:f._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:y},0:{tab:h.u.SAVED,text:f._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},2:{tab:h.u.SHOP,text:f._('Shop', 'profileHeader.tabs.shop', 'Label for Shop tab on profile header')},3:{tab:h.u.TRIED,text:f._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}};function E({ref:e,tab:n,text:i}){return{href:`/${P}/${n}/`,id:`${n}-profile-tab`,isActive:o===n,onClick:()=>{return e=n,void g({event_type:101,component:h.D[e],object_id_str:v,view_type:4,view_parameter:t?3106:3107});var e},ref:e,text:i}}const T=[];if((null!==(i=n.eligible_profile_tabs)&&void 0!==i?i:[]).forEach((e=>{const{tab_type:t}=e,o=void 0===t?null:C[t];o&&T.push(E(o))})),T.length<2)return(0,m.jsx)(a.Z,{in:!!e&&b>e,timeout:300,classNames:"ProfileTabsFullName",unmountOnExit:!0,children:(0,m.jsx)(p.X6,{size:"400",children:n.full_name})});return(0,m.jsxs)(p.xu,{children:[(0,m.jsx)(p.mQ,{activeTabIndex:Math.max(T.findIndex((e=>e.isActive)),0),onChange:({event:e,activeTabIndex:t})=>{const o=T[t];o.onClick&&o.onClick(),0!==e.button||(e=>Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||(e.preventDefault(),x.push(o.href))},tabs:T.map((({href:e,id:t,ref:o,text:n})=>({href:e,id:t,ref:o,text:n})))}),y&&t&&(0,m.jsx)(s.default,{anchor:y.current,experienceIds:[502727],flyoutSize:300,idealDirection:"down",placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal",textOverrideFn:()=>(0,m.jsx)(p.xv,{align:"center",color:"inverse",children:(0,d.nk)(f._('New look! Click {{created}} to see Pins you\'ve published. Click {{saved}} to see your saved Pins and boards.', 'profileHeader.experience.tooltipText', 'Text informing users about purpose of Created and Saved tabs on profile'),{created:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Created', 'profileHeader.experience.createdTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')}),saved:(0,m.jsx)(p.xv,{inline:!0,color:"inverse",weight:"bold",children:f._('Saved', 'profileHeader.experience.savedTooltipText', 'Text informing users about purpose of Created and Saved tabs on profile')})})})})]})}function f({headerHeight:e,selectedTab:t,user:o,viewer:r}){const s=(0,i.Z)({user:o,viewer:r});return(0,m.jsx)(n.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,shouldStick:!0,children:(0,m.jsx)(g,{headerHeight:e,isOwnProfile:s,selectedTab:t,user:o})})}},624389:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(6637),r=o(774807),s=o(883119),l=o(407043),a=o(479301),c=o(785893);function d({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:d,userId:u}){const{logContextEvent:_}=(0,l.v)(),[h,p]=(0,n.useState)(""),m=(0,n.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,a.Z5)();return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(s.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{o(!d)}})}),d&&(0,c.jsx)(r.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=h;p(""),o(!1),_({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=i.ZP.create("ConversationsResource",{user_ids:[u],text:e}),n=await t.callCreate(),r=null==n?void 0:n.resource_response.data;g(r),f(r.id)},onDismiss:()=>o(!1),message:h})]})}},601785:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(2819),i=o(580496),r=o(898781),s=o(883119),l=o(785893);function a({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:o,user:a}){const c=(0,r.ZP)(),d=(0,i.Z)(a),{blocked_by_me:u}=a,_={label:c._('Message', 'profileHeader.actionBar.overflowFlyout.message', 'Overflow menu option on a user profile to send a message to that user'),clickHandler:o},h={label:c._('Block', 'profileHeader.actionBar.overflowFlyout.block', 'Overflow menu option on a user profile to block that user'),clickHandler:t},p={label:c._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user'),clickHandler:e},m=[];u||((()=>{var e;const{contact_email:t="",contact_phone:o="",enable_profile_message:n=!1}=null!==(e=a.partner)&&void 0!==e?e:{};return(!!t||!!o)&&n&&d})()&&m.push(_),m.push(h)),m.push(p);const g={label:c._('Profile options', 'profileHeader.actionBar.overflowFlyout.profileOptions', 'Category heading on Overflow menu on a user profile'),items:m};return(0,l.jsx)(n.Z,{icon:"ellipsis",label:c._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),children:({handleClose:e})=>[g].map((({items:t,label:o})=>(0,l.jsx)(s.Lt.Section,{label:o,children:t.map((({clickHandler:t,label:o})=>(0,l.jsx)(s.Lt.Item,{onSelect:()=>{e(),t()},option:{label:o,value:o}},o)))},o)))})}},793937:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(333312),r=o(300267),s=o(694379),l=o(966113),a=o(898781),c=o(19121),d=o(349700),u=o(883119),_=o(785893);function h({user:e,hideFollowers:t}){var o;const h=(0,a.ZP)(),p=(0,n.useRef)(),m=(0,c.Z)(),g=new u.Ry(2);if(-1===e.profile_views)return null;const f=null!==(o=e.profile_views)&&void 0!==o?o:0,x=f>=1e7?h._('10m+', 'viewerCount.overTenMillion', 'Shortform number for a count of over 10,000,000'):(0,_.jsx)(s.Z,{value:f||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,_.jsx)(u.xu,{ref:p,children:(0,_.jsxs)(u.xv,{weight:t?"bold":"normal",children:[(0,d.nk)(h._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:x,label:h._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')}),(0,r.Z)({user:e,viewer:m})&&(0,_.jsx)(i.default,{showCaret:!0,anchor:p.current,customWrapper:({children:e})=>(0,_.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(l.Z.settings.HELP_UPDATED_REPORTING_METRICS,"_blank"),placementId:19,textAlign:"center"})]})})}},290095:(e,t,o)=>{o.d(t,{T:()=>l,V:()=>a});var n=o(499128),i=o(407043),r=o(343341),s=o(785893);function l(e){const{street:t,extra_street:o,locality:n,region:i,postal_code:r,country:s}=e,l=t||"",a=o||"",c=n||"";return`${l}${a}${(l||a)&&","} ${c}${c&&","} ${i||""} ${r||""} ${s||""}`.trim()}function a(e,t,o){const{logContextEvent:a}=(0,i.v)(),{showToast:c}=(0,r.F9)();return()=>{a({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(l(t)),c((({hideToast:e})=>(0,s.jsx)(n.ZP,{onHide:e,text:o})))}}},134679:(e,t,o)=>{o.d(t,{D:()=>i,u:()=>n});const n={CREATED:"_created",DECIDER:"decider",FOLLOWERS:"_followers",FOLLOWING:"_following",PINS:"pins",SAVED:"_saved",SHOP:"_shop",STORY_PINS:"story_pins",TOPICS:"topics",TRIED:"tried",VIDEO_PINS:"video_pins"},i={[n.CREATED]:13668,[n.SAVED]:13669,[n.SHOP]:13670,[n.TRIED]:13671}},590908:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(648492),i=o(237900);function r(e){const t=(0,i.q)(e).replace(/^www\./,"");return(0,n.Z)(t)}},300267:(e,t,o)=>{function n({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}o.d(t,{Z:()=>n})},580496:(e,t,o)=>{function n(e){return Boolean(null==e?void 0:e.show_creator_profile)}o.d(t,{Z:()=>n})},794493:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(667294);function i(e,t){let o=null,i=null,r=null;const s=()=>{if(o){const t=o.clientHeight,n=o.clientWidth;i===t&&r===n||(i=t,r=n,e(o)),window.requestAnimationFrame(s)}};(0,n.useEffect)((()=>{var n;return t.current&&(n=t.current,o&&o===n||(o=n,i=n.clientHeight,r=n.clientWidth,e(o),s())),()=>{o=null}}),[t])}},806986:(e,t,o)=>{o.d(t,{Fj:()=>a,JI:()=>c,aG:()=>l});var n=o(667294),i=o(785893);const r=(0,n.createContext)(),s=(0,n.createContext)();function l({children:e}){const[t,o]=(0,n.useState)(!1);return(0,i.jsx)(r.Provider,{value:t,children:(0,i.jsx)(s.Provider,{value:o,children:e})})}function a(){const e=(0,n.useContext)(r);if(void 0===e)throw new Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){const e=(0,n.useContext)(s);if(void 0===e)throw new Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},958754:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(784590),i=o(19121),r=o(883119),s=o(925927),l=o(81636),a=o(301732),c=o(785893);function d(e){const t=(0,s.$B)(),o=(0,n.Z)({name:"UserResource",options:{username:t.params.username}}),d=(0,i.Z)();if((0,l.Q)({view_type:4,view_parameter:51}),!o.isLoaded||!o.data)return(0,c.jsx)(r.$j,{accessibilityLabel:"Page loading...",show:!0});const{data:u}=o;return d.id===u.id?(0,c.jsx)(a.cs,{user:u}):(0,c.jsx)(a.ZP,{user:u})}},814449:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(121151),i=o(966113),r=o(898781),s=o(349700),l=o(883119),a=o(785893);const c=i.Z.settings.HELP_BLOCKING+"?source=block_dialogue";function d({firstName:e,onBlockUser:t,onClearModal:o}){const i=(0,r.ZP)(),d=(0,s.nk)(i._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join("");return(0,a.jsxs)(n.ZP,{accessibilityModalLabel:d,onDismiss:o,heading:d,footer:(0,a.jsxs)(l.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",text:i._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:o})}),(0,a.jsx)(l.xu,{padding:1,children:(0,a.jsx)(l.zx,{fullWidth:!0,size:"md",color:"red",text:i._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,a.jsx)(l.xu,{padding:4,"data-test-id":"block-text",children:(0,a.jsx)(l.xv,{children:(0,s.nk)(i._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e})})}),(0,a.jsx)(l.xu,{padding:4,children:(0,a.jsx)(l.xv,{color:"default",weight:"bold",children:(0,a.jsx)(l.rU,{target:"blank",href:c,children:i._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]})}},678030:(e,t,o)=>{o.d(t,{$B:()=>a,S5:()=>d,UI:()=>s,jl:()=>l,vW:()=>c,yK:()=>u});var n=o(91214),i=o(934523),r=o(883119);const s=new r.H3([new r.Ry(n.HW),new r.Ry(i.fe)]),l=1e5,a={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},c={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},d={[c.SectionCategories]:a.CATEGORY,[c.SectionFeaturedProductGroups]:a.FEATURED,[c.SectionEditYourShop]:a.ALL},u={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"}},698726:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(150361),r=o.n(i),s=o(121151),l=o(6637),a=o(499128),c=o(898781),d=o(91214),u=o(934523),_=o(349700),h=o(407043),p=o(343341),m=o(645015),g=o(883119),f=o(785893);const x=new g.H3([new g.Ry(d.HW),new g.Ry(u.fe)]);function y({countries:e,feedProfiles:t,onDismiss:o,onSubmit:i,onUndo:d,settings:u,userId:y}){const{logContextEvent:v}=(0,h.v)(),P=(0,c.ZP)(),b=P._('Manage shop visibility', 'MerchantStorefront.ManageShopVisibilityModal.heading', 'Modal title'),A=P._('People on Pinterest in the selected regions/languages below can see your shop tab. These regions and languages are based on your active catalog feeds. To hide your shop in any region/language, deselect it and save your changes. ', 'MerchantStorefront.ManageShopVisibilityModal.subHeading', 'Modal subtitle'),w=P._('Cancel', 'MerchantStorefront.ManageShopVisibilityModal.cancel', 'Confirmation option'),{showOneToast:C}=(0,p.F9)(),[E,T]=(0,n.useState)(r()(u)),[S,I]=(0,n.useState)(!1),j=[...t].sort(((t,o)=>{const n=(0,m.LT)(e,(0,m.u3)(t)),i=(0,m.LT)(e,(0,m.u3)(o));return n.localeCompare(i)})),z=t.map(m.u3),R=(0,m.Q1)(u,t),D=(0,m.Q1)(E,t),O=D.map((t=>(0,m.LT)(e,t)));O.sort();const k=R.length!==D.length||D.reduce(((e,t)=>e||!R.includes(t)),!1);(0,n.useEffect)((()=>{v({event_type:9858,component:13999})}),[v]);const L=(0,_.Wc)(P.ngettext('Hide shop in {{count}} region/language?', 'Hide shop in {{count}} regions/languages?', D.length, 'MerchantStorefront.ManageShopVisibilityModal.confirmHeading', 'Header to confirm hiding'),{count:D.length.toString()}),N=1===D.length?(0,_.Wc)(P._('Hide shop in {{country}}?', 'MerchantStorefront.ManageShopVisibilityModal.confirmHeadingCountry', 'Header to confirm hiding'),{country:(0,m.LT)(e,D[0])}):"",M=D.length>1?L:N,F=()=>{o(),v({event_type:9860,component:13999})},U=()=>{o(),l.ZP.create("ApiResource",{url:`/v3/business/users/${y}/storefront/settings/`,data:{settings:JSON.stringify(E)}}).callUpdate().then((()=>{i(),v({event_type:9859,component:13999}),C((({hideToast:e})=>(0,f.jsx)("div",{className:"ShopVisibleToast",children:(0,f.jsx)(a.ZP,{duration:m.QE,onHide:e,text:(0,f.jsx)(n.Fragment,{children:(0,f.jsxs)(g.xv,{children:[0===D.length&&P._('Shop visible in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.visibleEverywhere', 'toast text'),D.length>0&&D.length<z.length&&(0,_.Wc)(P.ngettext('Shop hidden in {{count}} region/language', 'Shop hidden in {{count}} regions/languages', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenSomewhere', 'toast text'),{count:D.length.toString()}),D.length===z.length&&P._('Shop hidden in all regions/languages', 'MerchantStorefront.ManageShopVisibilityModal.hiddenEverywhere', 'toast text')]})}),button:(0,f.jsx)(g.zx,{text:P._('Undo', 'MerchantStorefront.ManageShopVisibilityModal.undoToast', 'Undo button in toast'),size:"lg",onClick:()=>{d(),e()}},"undo-button")})})))}))},B=D.length>1?(0,_.Wc)(P._('{{item1}} and {{item2}}', 'MerchantStorefront.ManageShopVisibilityModal.andItems', 'And joining two geographic locations'),{item1:O.slice(0,-1).join(", "),item2:O[O.length-1]}):O.join();return(0,f.jsx)(g.mh,{zIndex:x,children:S?(0,f.jsx)(s.ZP,{accessibilityModalLabel:M,align:"center",heading:M,onDismiss:F,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(g.zx,{color:"gray",text:w,onClick:()=>I(!1)}),(0,f.jsx)(g.zx,{color:"red",text:P._('Hide shop', 'MerchantStorefront.ManageShopVisibilityModal.hideShop', 'Confirmation option'),onClick:U})]}),size:"sm",children:(0,f.jsx)(g.xu,{paddingX:8,children:(0,f.jsx)(g.xv,{size:"300",align:"center",children:(0,_.Wc)(P.ngettext('People in {{region}} won\'t see your shop tab. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', 'People in the following regions won\'t see your shop tab: {{regions}}. Hiding your shop in any region/language won\'t delete or edit your product feeds in Catalogs.', D.length, 'MerchantStorefront.ManageShopVisibilityModal.hiddenRegions.bodyText', 'Message describing what regions the user is about to hide their store from'),{region:B,regions:B})})})}):(0,f.jsxs)(s.ZP,{accessibilityModalLabel:b,align:"start",heading:b,onDismiss:F,footer:(0,f.jsxs)(g.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,f.jsx)(g.zx,{color:"gray",text:w,onClick:F}),(0,f.jsx)(g.zx,{color:"red",text:P._('Save', 'MerchantStorefront.ManageShopVisibilityModal.save', 'Confirmation option'),onClick:()=>{D.length>0?I(!0):U()},disabled:!k})]}),size:"sm",children:[(0,f.jsx)(g.xu,{paddingX:8,marginBottom:8,children:(0,f.jsx)(g.xv,{size:"300",children:A})}),(0,f.jsx)(g.xu,{paddingX:8,children:j.map((t=>(0,f.jsx)(g.xu,{marginBottom:8,children:(0,f.jsx)(g.XZ,{checked:(0,m.c8)(E[(0,m.u3)(t)]),id:`country_language_${t.id||""}`,label:(0,m.LT)(e,(0,m.u3)(t)),name:"country_language",onChange:({checked:e})=>T({...E,[(0,m.u3)(t)]:{...E[(0,m.u3)(t)]||{},shop_visible:e}})})},t.id)))})]})})}},742656:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(116303),i=o(883119),r=o(785893);function s({avatarUrl:e,contentsRight:t,merchantName:o,text:s,username:l,accessibilityLevel:a}){return(0,r.jsxs)(i.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,r.jsx)(i.xu,{column:2}),(0,r.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,r.jsx)(i.xu,{marginEnd:2,children:(0,r.jsx)(i.iP,{role:"link",rounding:"circle",href:`/${l}`,children:(0,r.jsx)(n.Z,{name:o,size:"md",src:e})})}),(0,r.jsx)(i.rU,{underline:"none",href:`/${l}`,children:(0,r.jsx)(i.X6,{size:"500",accessibilityLevel:a,children:s})})]}),(0,r.jsx)(i.xu,{column:2,display:"flex",alignItems:"center",justifyContent:"end",children:t})]})}},180603:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(723820),r=o(81667),s=o(883119),l=o(785893);const a={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},c=["236x","368x368"];function d({onClick:e,productGroup:t,url:o}){const[d,u]=(0,n.useState)(!1);return(0,l.jsx)(s.xu,{position:"relative",onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:(0,l.jsxs)(s.iP,{role:"link",onTap:e,href:o,children:[(0,l.jsx)(s.xu,{position:"relative",children:(0,l.jsxs)(s.zd,{width:r.Fl,height:r.CT,rounding:8,children:[(0,l.jsx)(i.ZP,{productGroup:t,preferredPreviewPinSizes:c,coverFit:!0}),(0,l.jsx)(s.xu,{"data-test-id":"product-group-category-overlay",position:"absolute",width:r.Fl,height:r.CT,top:!0,dangerouslySetInlineStyle:{__style:d?a.hoverOverlay:a.bubbleOverlay}})]})}),(0,l.jsx)(s.xu,{display:"flex",height:r.CT,width:r.Fl,position:"absolute",top:!0,padding:3,alignItems:"center",justifyContent:"center",children:(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,l.jsx)(s.xv,{align:"center",color:"light",weight:"bold",children:t.name})})})]})})}},723820:(e,t,o)=>{o.d(t,{Hx:()=>a,ZP:()=>d,mF:()=>c});var n=o(667294),i=o(645015),r=o(883119),s=o(407043),l=o(785893);const a=488,c=488;function d({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:o=!1}){var d,u,_;const{logContextEvent:h}=(0,s.v)(),p=e.cover_images&&e.cover_images[0]&&(0,i.cB)(e.cover_images[0]),m=e.preview_pins&&e.preview_pins[0]&&e.preview_pins[0].images;let g;const[f,x]=(0,n.useState)(!p);m&&f&&(g=t.concat("orig").map((e=>m[e])).find((e=>!!e)));const y=f?null===(d=g)||void 0===d?void 0:d.height:a,v=f?null===(u=g)||void 0===u?void 0:u.width:c,P=f?null===(_=g)||void 0===_?void 0:_.url:p;return y&&v&&P?(0,l.jsx)(r.Ee,{alt:e.name,naturalHeight:y,naturalWidth:v,src:P,fit:o?"cover":"contain",onError:()=>{f||(h({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:p}}),x(!0))}}):null}},140555:(e,t,o)=>{o.d(t,{Z:()=>E});var n=o(667294),i=o(121151),r=o(6637),s=o(499128),l=o(487392),a=o(898781),c=o(784590),d=o(19121),u=o(808683),_=o(91214),h=o(934523),p=o(349700),m=o(407043),g=o(741982),f=o(343341),x=o(645015),y=o(883119),v=o(400264),P=o(785893);const b=new y.H3([new y.Ry(_.HW),new y.Ry(h.fe)]),A=316;function w({onFileUpload:e}){const t=(0,a.ZP)(),[o,i]=(0,n.useState)(!1),r=(0,n.useRef)(null),s=t._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,P.jsxs)(y.kC,{justifyContent:"center",children:[(0,P.jsx)(y.hU,{accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>i((e=>!e)),ref:r,size:"lg"}),o&&(0,P.jsx)(y.Lt,{anchor:r.current,id:"product-group-image-dropdown",onDismiss:()=>i(!1),children:(0,P.jsx)(y.Lt.Item,{onSelect:()=>{i(!1),e()},option:{value:s,label:s}})})]})}function C({image:e,onFileUpload:t,onError:o}){const n=(0,a.ZP)(),i=n._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,P.jsxs)(y.xu,{position:"relative",children:[(0,P.jsx)(y.xu,{height:A,width:A,rounding:5,overflow:"hidden",children:(0,P.jsx)(y.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:e,onError:o})}),(0,P.jsx)(y.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,P.jsx)(w,{onFileUpload:t})})]})}function E({onDismiss:e,onSubmit:t,productGroup:o}){var _,h,w;const{logContextEvent:E}=(0,m.v)(),T=(0,a.ZP)(),S=T._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),I=`/v3/business/users/${(0,d.Z)().id||""}/storefront/product_group_image/`,[j,z]=(0,n.useState)(""),[R,D]=(0,n.useState)(""),[O,k]=(0,n.useState)(),[L,N]=(0,n.useState)(),[M,F]=(0,n.useState)(!1),[U,B]=(0,n.useState)(0),[Z]=(0,n.useState)((new Date).getTime()),G=o.group_type!==x.yh,{merchantId:H,advertiserId:V}=(0,l.Z)(),{showOneToast:W}=(0,f.F9)(),{updateStorefrontLastUpdated:$}=(0,g.S)(),Y=(0,v.Ib)({advertiserId:V,merchantId:H,productGroupsIds:[o.id],uniq:Z},!1,!0),K=(0,c.Z)({name:"ApiResource",options:{url:I,data:{product_group_ids:[o.id]},uniq:Z},noCache:!0}),X=(0,n.useRef)(),q=Number(o.id),Q=null===(_=Y.data)||void 0===_?void 0:_.find((e=>e.id===q)),J=Y.isLoaded&&K.isLoaded,ee=Q&&(j!==Q.name||R!==(Q.description||"")||!!O),te=Q&&j!==Q.name,oe=Q&&R!==(Q.description||""),ne=J?(0,x.cB)(null===(h=K.data)||void 0===h||null===(w=h[o.id])||void 0===w?void 0:w[0]):null,ie=o.preview_pins[0],re=null==ie?void 0:ie.image_signature,se=(0,x.cB)(null==ie?void 0:ie.images),le=L||[ne,se].filter((e=>!!e))[U];(0,n.useEffect)((()=>{Q&&(z(Q.name||""),D(Q.description||""))}),[Q]),(0,n.useEffect)((()=>{E({event_type:9854,component:13998})}),[E]);const ae=()=>{e(),E({event_type:9856,component:13998})},ce=T._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),de=T._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,P.jsx)(y.mh,{zIndex:b,children:(0,P.jsx)(i.ZP,{accessibilityModalLabel:S,align:"center",heading:S,onDismiss:ae,footer:J?(0,P.jsxs)(y.kC,{alignItems:"start",children:[(0,P.jsx)(y.xu,{width:"50%",children:(0,P.jsx)(y.xv,{size:"300",children:(0,p.nk)(T._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,P.jsx)(y.rU,{href:"/product-catalogs",inline:!0,underline:"hover",children:(0,P.jsx)(y.xv,{weight:"bold",inline:!0,children:T._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,P.jsx)(y.xu,{width:"50%",children:(0,P.jsxs)(y.kC,{gap:2,alignItems:"center",justifyContent:"end",children:[(0,P.jsx)(y.zx,{color:"gray",text:de,onClick:ae}),(0,P.jsx)(y.zx,{color:"red",text:ce,onClick:()=>{const n=ne?O:re,i=[],l=[];n&&(i.push(r.ZP.create("ApiResource",{url:I,data:{image_signatures:[n],product_group_id:o.id}}).callUpdate()),l.push("cover_image")),(te||oe)&&(i.push(r.ZP.create("ProductGroupsResource",{name:j,description:R,productGroupId:Number(o.id),filters:null==Q?void 0:Q.filter_v2}).callUpdate()),te&&l.push("name"),oe&&l.push("description")),E({event_type:9857,component:13998,aux_data:{product_group_modal_changes:l.join(",")}}),e(),Promise.all(i).then((()=>{t(),$((new Date).getTime()),W((({hideToast:e})=>(0,P.jsx)("div",{className:"ProductGroupSavedToast",children:(0,P.jsx)(s.ZP,{duration:x.QE,onHide:e,text:T._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})))}))},disabled:!ee})]})})]},"product-group-details-footer"):(0,P.jsx)(n.Fragment,{}),size:G?"md":"sm",children:(0,P.jsx)(y.xu,{paddingX:8,marginBottom:2,children:J?(0,P.jsxs)(y.kC,{justifyContent:"center",children:[(0,P.jsxs)(y.xu,{width:320,children:[(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:T._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,P.jsx)("input",{accept:"image/*",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){const t=e.target.files[0],o=new FileReader;t&&o.readAsDataURL(t),o.addEventListener("load",(()=>{F(!0),E({event_type:9855,component:13998}),r.ZP.create("ApiResource",{url:I,data:{image_base64:o.result}}).callCreate().then((e=>{var t,n;k(null===(t=e.resource_response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.image_signature),F(!1),"string"==typeof o.result&&N(o.result)}))}),!1)}},ref:X,style:{display:"none"},type:"file"}),M&&(0,P.jsx)(y.xu,{height:A,width:A,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,P.jsx)(y.$j,{accessibilityLabel:T._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!M&&le&&(0,P.jsx)(C,{image:le,onFileUpload:()=>{var e;null===(e=X.current)||void 0===e||e.click()},onError:()=>B(U+1)})]}),G&&(0,P.jsxs)(y.xu,{width:320,marginStart:4,children:[(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:T._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,P.jsx)(y.nv,{disabled:(null==Q?void 0:Q.type)!==u.CatalogProductGroupType.MERCHANT_CREATED,id:"name",onChange:({value:e})=>z(e.slice(0,255)),size:"lg",type:"text",value:j}),(0,P.jsxs)(y.xu,{marginTop:2,marginBottom:4,height:30,children:[j&&(0,P.jsx)(y.xv,{size:"100",color:"subtle",children:T._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!j&&(0,P.jsx)(y.xv,{size:"100",color:"error",children:T._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,P.jsx)(y.xu,{marginBottom:4,children:(0,P.jsx)(y.xv,{size:"300",weight:"bold",children:T._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,P.jsx)(y.xu,{height:178,children:(0,P.jsx)(y.Kx,{id:"description",onChange:({value:e})=>D(e.slice(0,155)),placeholder:T._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:R,rows:7})})]})]}):(0,P.jsx)(y.$j,{accessibilityLabel:T._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},27038:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(140555),r=o(898781),s=o(723820),l=o(883119),a=o(785893);const c=s.mF-64;function d({onClick:e,productGroup:t,showControls:o,url:d}){const u=(0,r.ZP)(),_=u._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),[h,p]=(u._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),(0,n.useState)(!1)),[m,g]=(0,n.useState)(!1);return(0,a.jsxs)(l.xu,{position:"relative",onMouseEnter:()=>{g(!0)},onMouseLeave:()=>{g(!1)},children:[(0,a.jsxs)(l.xu,{position:"relative",children:[(0,a.jsxs)(l.zd,{width:s.mF,height:s.Hx,rounding:8,children:[(0,a.jsx)(s.ZP,{productGroup:t}),(0,a.jsx)(l.xu,{position:"absolute",width:s.mF,height:s.Hx,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,a.jsx)(l.xu,{position:"absolute",color:"selected",opacity:m?.5:0,width:s.mF,height:s.Hx,rounding:8,top:!0})]}),o&&m&&(0,a.jsxs)(l.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,a.jsx)(l.xu,{marginEnd:0,children:(0,a.jsx)(l.u,{text:_,idealDirection:"down",children:(0,a.jsx)(l.hU,{accessibilityLabel:_,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>p(!0),size:"xl"})})}),false]}),(0,a.jsxs)(l.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,a.jsx)(l.xu,{marginBottom:5,maxWidth:c,children:(0,a.jsx)(l.X6,{size:"600",color:"inverse",children:t.name})}),m&&(0,a.jsx)(l.xu,{marginBottom:5,maxWidth:c,children:(0,a.jsx)(l.xv,{size:"300",color:"inverse",children:t.description})}),(0,a.jsx)(l.zx,{accessibilityLabel:u._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:u._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:d,onClick:e})]}),o&&h&&(0,a.jsx)(i.Z,{onDismiss:()=>p(!1),onSubmit:()=>p(!1),productGroup:t})]})}},600224:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(698726),r=o(898781),s=o(349700),l=o(407043),a=o(741982),c=o(645015),d=o(384606),u=o(883119),_=o(785893);const h=({language:e,country:t,hidden:o,productCount:i,onClick:l,selected:a})=>{const d=(0,r.ZP)(),[h,p]=(0,n.useState)(!1);return(0,_.jsx)(u.iP,{onTap:l,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,_.jsxs)(u.xu,{alignItems:"center",color:h?"lightGray":void 0,display:"flex",justifyContent:"between",padding:2,position:"relative",rounding:2,children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{weight:a?"bold":"normal",overflow:"noWrap",children:(0,c.z1)(t,e)}),(0,_.jsx)(u.xv,{size:"200",color:"subtle",children:(0,s.nk)(d.ngettext('{{productCount}} product', '{{productCount}} products', i, 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.productCount', 'Shows how many products are in a merchant product feed'),{productCount:i})})]}),o&&(0,_.jsx)(u.xu,{color:"tertiary",rounding:1,dangerouslySetInlineStyle:{__style:{padding:"2px"}},marginStart:2,marginEnd:8,position:"absolute",right:!0,children:(0,_.jsx)(u.xv,{color:"inverse",size:"100",weight:"bold",overflow:"noWrap",align:"forceRight",children:d._('Shop hidden', 'merchantStorefront.storefrontLocaleSelector.shopHidden', 'Shop hidden badge')})}),a&&(0,_.jsx)(u.xu,{children:(0,_.jsx)(u.JO,{accessibilityLabel:d._('A checkmark indicating the currently selected locale on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.feedProfileOption.selectedIcon.accessibilityLabel', 'Accessibility label for the icon indicating the selected locale in a list'),icon:"check",color:"default"})})]})})},p=()=>{const{logContextEvent:e}=(0,l.v)(),t=(0,r.ZP)(),{merchantStorefrontSettings:{currentViewingLocale:{country:o,language:p}},updateLocaleStorefrontSetting:m,updateStorefrontLastUpdated:g}=(0,a.S)();(0,d.tt)();const[f,x]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),P=(0,n.useRef)(null),{countries:b,feedProfiles:A,isLoaded:w,settings:C,userId:E,refresh:T}=(0,d.LO)(),[S,I]=(0,n.useState)(!1),j=()=>{I(!0),x(!1)},z=e=>(0,c.z1)(b[e.country||""],e.locale),R=A.reduce(((e,t)=>{const o=e.findIndex((e=>z(e)===z(t)));return-1===o?e.push(t):(0,c.gE)(e[o])<(0,c.gE)(t)&&(e[o]=t),e}),[]);(0,n.useEffect)((()=>{f&&e({event_type:9853,component:13997})}),[e,f]);const D=[...R].sort(((e,t)=>z(e).localeCompare(z(t))));if(!(w&&o&&p&&R&&(0,c.Ee)(R,o,p)))return null;const O=D.reduce(((e,t)=>e||!(0,c.c8)(C[(0,c.u3)(t)])),!1);return(0,_.jsxs)(u.xu,{color:y?"lightGray":void 0,"data-test-id":"storefrontLocaleSelector",padding:4,rounding:6,ref:P,children:[(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to show a dropdown of locales you can select to show on your merchant storefront', 'merchantStorefront.storefrontLocaleSelector.button.accessibilityLabel', 'The accessibility label for the button the triggers a dropdown of selectable locales to view your storefront in'),onTap:()=>x(!f),onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:(0,_.jsx)(u.xv,{color:"default",overflow:"noWrap",children:(0,_.jsxs)(u.kC,{alignItems:"end",justifyContent:"start",children:[(0,s.nk)(t._('Viewing shop as: {{viewingStorefrontLocaleAsLabel}}', 'merchantStorefront.storefrontLocaleSelector.button.header', 'Header text telling the merchant in which country/language they are viewing the storefront currently'),{viewingStorefrontLocaleAsLabel:(0,_.jsx)(u.xu,{display:"inlineBlock",marginStart:1,children:(0,_.jsx)(u.xv,{weight:"bold",children:(0,c.z1)(b[o],p)})},"viewing-storefront-locale-as-label")}),(0,_.jsx)(u.xu,{marginStart:1,children:(0,_.jsx)(u.JO,{accessibilityLabel:t._('A downward arrow icon indicating this button will open a dropdown', 'merchantStorefront.storefrontLocaleSelector.button.icon.accessibiltyLabel', 'The accessibility label for downward arrow icon'),icon:"arrow-down",color:"default"})})]})})}),f&&(0,_.jsx)(u.mh,{zIndex:new u.Ry(1),children:(0,_.jsx)(u.J2,{anchor:P.current,idealDirection:"down",onDismiss:()=>x(!1),size:O?"lg":"md",positionRelativeToAnchor:!1,children:(0,_.jsxs)(u.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:2,paddingX:2,children:[(0,_.jsx)(u.xu,{padding:2,children:(0,_.jsx)(u.xv,{size:"100",children:(0,s.nk)(t._('Preview your shop in different regions / languages based on your active product feeds in Catalogs. {{manageShopVisibilityLink}}', 'merchantStorefront.storefrontLocaleSelector.popover.header', 'Popover header text describing what the storefront locale selector does'),{manageShopVisibilityLink:(0,_.jsx)(u.xv,{weight:"bold",size:"100",inline:!0,children:(0,_.jsx)(u.xu,{display:"inlineBlock",children:(0,_.jsx)(u.iP,{accessibilityLabel:t._('Button to open a modal to adjust which locales to show your merchant storefront in', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.accessibilityLabel', 'The accessibility label for the button to open a modal to adjust which locales to show your merchant storefront in'),onTap:j,children:t._('Manage shop visibility', 'merchantStorefront.storefrontLocaleSelector.managedVisibility.text', 'Link in popover to open settings for managing the visibility of this storefront in different locales')})})},"manage-shop-visibility-link")})})}),D.map((e=>{const{id:t,country:n,locale:i}=e,r=(0,c.Md)(i);return n&&i?(0,_.jsx)(h,{country:b[n],hidden:!(0,c.c8)(C[(0,c.u3)(e)]),language:r,productCount:(0,c.gE)(e),onClick:()=>{m(n,r,null!=t?t:""),x(!1)},selected:n===o&&r===p},t):null}))]})})}),S&&(0,_.jsx)(i.Z,{countries:b,feedProfiles:R,onDismiss:()=>I(!1),onSubmit:()=>{T(),g((new Date).getTime())},onUndo:j,settings:C,userId:E})]})}},81667:(e,t,o)=>{o.d(t,{CT:()=>r,Fl:()=>i,q3:()=>n,sy:()=>s});const n=16,i=236,r=118,s={sectionStories:["storefront_category_bubbles","storefront_category_product_groups"],exploreArticle:"explorearticle",footers:["storefront_category_footer_button","storefront_footer_button","storefront_product_group_footer_button","storefront_similar_items_footer_button"],header:"storefront_header",pin:"pin",productGroup:"productgroup",story:"story"}},384606:(e,t,o)=>{o.d(t,{LO:()=>x,N0:()=>P,t8:()=>b,tt:()=>A});var n=o(667294),i=o(300267),r=o(985310),s=o(487392),l=o(717615),a=o(86551),c=o(784590),d=o(19121),u=o(957161),_=o(231947),h=o(497020),p=o(217468),m=o(741982),g=o(645015);function f(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/catalogs/${e}/feed_profiles/`,field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count"]},dangerouslyDisableFetch:!e});return{feedProfilesResource:t,feedProfiles:(0,h.d9)(t.data||[]).filter((e=>e.country&&e.locale))}}function x(){const{merchantId:e,ownerUserId:t}=(0,s.Z)(),{countriesResource:o,countries:n}=function(){const e=(0,c.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce(((e,t)=>({...e,[t.key]:t.name.split(" (")[0]||""})),{})}}(),{feedProfilesResource:i,feedProfiles:r}=f(e),{storefrontSettingsResource:l,settings:a}=function(e){const t=(0,c.Z)({name:"ApiResource",options:{url:`/v3/business/users/${e}/storefront/settings/`},dangerouslyDisableFetch:!e});return{storefrontSettingsResource:t,settings:t.data||{}}}(t);return{countries:n,feedProfiles:r,isLoaded:o.isLoaded&&i.isLoaded&&l.isLoaded,refresh:()=>{i.refresh(),l.refresh()},settings:a,userId:t}}function y(){const{merchantId:e}=(0,s.Z)(),{feedProfilesResource:t,feedProfiles:o}=f(e),{userSettingsResource:n,userSettings:i}=function(){const e=(0,c.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}();return{feedProfiles:o,isLoaded:t.isLoaded&&n.isLoaded,userSettings:i}}function v(){const{data:e}=(0,a.Z)(),t=(0,p.t)("web_merchant_success_storefront_controls")().anyEnabled,o=(0,p.t)("web_merchant_storefront_controls_international")().anyEnabled,n=t||o,r=(0,d.Z)(),s=(0,i.Z)({user:e,viewer:r}),c=(0,l.Z)();return{isMerchantStorefrontControlsEnabled:n,isORBACProfileManager:(0,_.q6)(r,null==e?void 0:e.id,c),ownProfile:s}}function P(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t}=v();return e&&t}function b(){const{isMerchantStorefrontControlsEnabled:e,ownProfile:t,isORBACProfileManager:o}=v();return e&&(t||o)}function A(){const{feedProfiles:e,userSettings:t,isLoaded:o}=y(),{merchantStorefrontSettings:{currentViewingLocale:{country:i,language:s}},updateLocaleStorefrontSetting:l}=(0,m.S)();(0,n.useEffect)((()=>{if(o&&(!i||!s||!(0,g.Ee)(e,i,s))){const[o,i]=((0,u.qn)(r.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),{country:s,locale:a}=t,c=[...e].sort(((e,t)=>(0,g.gE)(t)-(0,g.gE)(e)))[0],d=(0,g.Ee)(e,o,i),_=(0,g.Ee)(e,s,(0,g.Md)(a)),h=d||_||c;var n;if(h)l(h.country||"",(0,g.Md)(h.locale),null!==(n=h.id)&&void 0!==n?n:"")}}))}},499385:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(81636);const i={BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}};function r({entryPoint:e,objectId:t,groupType:o}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:o},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}const s={BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:o},n){n({event_type:120,...r({entryPoint:e,objectId:t,groupType:o})})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:o},n){n({event_type:102,...r({entryPoint:e,objectId:t,groupType:o})})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},o){o({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:o,productGroupId:n},i){i({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:o,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},o){o({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}};var l=o(925491);const a={Control:i,DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:s,StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},o){o({event_type:13,view_type:(0,l.Z)(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:o,bubble:n},i){i({event_type:120,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o,...n.aux_fields}})},tapCategory:function({id:e,source:t,title:o,bubble:n},i){i({event_type:102,component:13699,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:o,...n.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},o){o({event_type:102,component:13699,element:179,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:o,componentType:n,index:i},r){r({event_type:102,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:o,grid_index:i}})},tapSeeMoreProductGroups:function({id:e,source:t},o){o({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:(0,l.Z)(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:o,componentType:n},i){i({event_type:120,component:n,object_id_str:e,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{product_group_type:o}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:o,source:n},i){i({event_type:120,component:13700,view_type:(0,l.Z)(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},o){o({event_type:102,component:0,view_type:(0,l.Z)(t),view_parameter:3512,aux_data:{...e}})}}}}},925491:(e,t,o)=>{function n(e){return"profile"===e?4:1}o.d(t,{Z:()=>n})},645015:(e,t,o)=>{o.d(t,{Ee:()=>p,LT:()=>u,Md:()=>l,Q1:()=>h,QE:()=>s,YY:()=>f,c8:()=>_,cB:()=>m,gE:()=>a,mV:()=>g,u3:()=>c,yh:()=>r,z1:()=>d});var n=o(6637),i=o(678030);const r="ALL_PRODUCTS",s=5e3,l=e=>e?e.split("-")[0].toLowerCase():"",a=e=>{var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},c=e=>[e.country||"",l(e.locale)].join("/").toUpperCase(),d=(e,t)=>e&&t?`${e} (${l(t).toUpperCase()})`:"",u=(e,t)=>{const[o,n]=t.split("/");return d(e[o.toUpperCase()],n)},_=e=>!e||void 0===e.shop_visible||e.shop_visible,h=(e,t)=>{const o=t.map(c);return Object.keys(e).map((e=>e.toUpperCase())).filter(((t,n,i)=>o.includes(t)&&!_(e[t])&&i.indexOf(t)===n))},p=(e,t,o)=>t&&o?e.find((e=>e.country===t&&l(e.locale)===o)):void 0,m=e=>{if(!e)return"";const t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(const o of t)if(e[o])return e[o].url||"";return""},g=(e,t)=>{const o=new Set(t.filter((e=>!!e.featured_position)).map((({id:e})=>e))),n=new Set(e);return{featureProductGroupsSet:new Set([...n.values()].filter((e=>!o.has(e)))),unfeatureProductGroupsSet:new Set([...o.values()].filter((e=>!n.has(e))))}},f=async(e,t,o="FEATURED")=>{const{featureProductGroupsSet:r,unfeatureProductGroupsSet:s}=t,{userId:l,feedProfileId:a,countrySetting:c,languageSetting:d,settings:u}=e,_=`${c}/${d.toUpperCase()}`,h=[...r.values()].map((e=>n.ZP.create("FeaturedProductGroupsResource",{feedProfileId:a,productGroupId:e}).callCreate())),p=[...s.values()].map((e=>n.ZP.create("FeaturedProductGroupsResource",{feedProfileId:a,productGroupId:e}).callDelete())),m=i.yK[o],g=u[_]?u[_][m]:[],f=new Set(g);s.forEach((e=>{f.delete(e)})),r.forEach((e=>{f.add(e)}));const x={...u,[_]:{...u[_]||{},[m]:[...f.values()]}},y=n.ZP.create("ApiResource",{url:`/v3/business/users/${l}/storefront/settings/`,data:{settings:JSON.stringify(x)}}).callUpdate();await Promise.all([y,...h,...p])}},357805:(e,t,o)=>{o.d(t,{G:()=>r,S:()=>s});var n=o(19121),i=o(81636);function r(e,t){const o=(0,n.Z)(),r=o.isAuth&&o.username===e;(0,i.Q)({object_id_str:o.isAuth&&r?o.id:void 0,view_type:4,view_parameter:t})}function s(e,t,o){const r=(0,n.Z)(),s=r.isAuth&&r.username===e?3106:3107;(0,i.Q)({object_id_str:t,view_type:4,view_parameter:s,component:o})}},36243:(e,t,o)=>{function n(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function i(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):t._('Description too long. Make sure description has less than 500 characters', 'Description entered is too long while editing a pin', 'Description entered is too long while editing a pin')}function r(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function s(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}o.d(t,{MM:()=>i,Y8:()=>n,bl:()=>r,qj:()=>s})},222815:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(898781),r=o(131101),s=o(883119),l=o(785893);function a({anchor:e,hideAddSectionTooltip:t}){const o=(0,i.ZP)();return(0,l.jsx)(s.mh,{children:(0,l.jsx)(s.xu,{zIndex:r.bW,position:"absolute",top:!0,children:(0,l.jsx)(s.J2,{anchor:e,color:"blue",idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,showCaret:!0,size:"sm",children:(0,l.jsx)(s.xu,{padding:4,children:(0,l.jsx)(s.xv,{color:"inverse",weight:"bold",children:o._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section')})})})})})}var c=o(217468);function d({anchor:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:r,onAddSection:a,onClose:d,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:h,surface:p,isWithinFixedContainer:m}){const g=(0,i.ZP)(),{anyEnabled:f}=(0,c.a)("web_story_pin_creator"),{anyEnabled:x}=(0,c.a)("web_sp2s"),y=(0,n.useMemo)((()=>({pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:x?g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'):g._('Story Pin', 'BoardActionsButton.LegoFlyout.StoryPin', 'Option to create a Story Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:g._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')})),[g,x]);return(0,l.jsxs)(s.Lt,{id:"board_actions",anchor:e,idealDirection:t||"down",onDismiss:d,isWithinFixedContainer:m,zIndex:new s.Ry(1),children:[(0,l.jsx)(s.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[(0,l.jsx)(s.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),d()},option:{label:y.pin,value:y.pin}},"actions-create-0"),h&&f&&(0,l.jsx)(s.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),d()},option:{label:y.rename,value:y.rename}},"actions-create-1"),"profileBoards"===p&&u&&(0,l.jsx)(s.Lt.Item,{dataTestId:"Create board",onSelect:()=>{u(),d()},option:{label:y.board,value:y.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(s.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[o&&(0,l.jsx)(s.Lt.Item,{dataTestId:"addBoardNote",onSelect:()=>{o(),d()},option:{label:y.todos,value:y.todos},badge:{text:y.new,type:"info"}},"actions-add-0"),a&&(0,l.jsx)(s.Lt.Item,{dataTestId:"addSection",onSelect:()=>{a(),d()},option:{label:y.section,value:y.section}},"actions-add-1"),!!r&&(0,l.jsx)(s.Lt.Item,{onSelect:()=>{r(),d()},option:{label:y.date,value:y.date}},"actions-add-2")].filter(Boolean)})]})}var u=o(333312),_=o(806986);function h({anchor:e}){const t=(0,_.JI)();return(0,l.jsx)(s.mh,{children:(0,l.jsx)(s.xu,{zIndex:r.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.default,{anchor:e,experienceIds:[503447],idealDirection:"down",flyoutSize:"md",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function p({anchor:e}){return(0,l.jsx)(s.mh,{children:(0,l.jsx)(s.xu,{zIndex:r.bW,position:"absolute",top:!0,children:(0,l.jsx)(u.default,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var m=o(424432);function g({children:e,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:r,onAddSection:c,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,onOpen:f=(()=>{}),surface:x,isWithinFixedContainer:y}){var v;const P=(0,i.ZP)(),{showCreateSectionTooltip:b,setShowCreateSectionTooltip:A}=null!==(v=(0,m.L)())&&void 0!==v?v:{},w=()=>A(!1),C=(0,n.useRef)(),[E,T]=(0,n.useState)(!1),S=()=>T(!1),I=()=>{E?S():(f(),b&&w(),T(!0))},j={board:P._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:P._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:P._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:P._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},z=e&&e({active:E,openFlyout:I})||(0,l.jsx)(s.hU,{accessibilityLabel:j[x],icon:"add",onClick:"section"===x?_:I,size:"lg"});let R;return E||"board"!==x||(b?R="addSectionTooltip":r&&(R="planningActionsExperience")),E||"profileBoards"!==x||(R="createBoardTooltip"),(0,l.jsxs)(s.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(s.xu,{ref:C,children:z}),E&&(0,l.jsx)(d,{anchor:C.current,idealDirection:t,onAddBoardNote:o,onAddOrEditDate:r,onAddSection:c,onClose:S,onCreateBoard:u,onCreatePin:_,onCreateStoryPin:g,surface:x,isWithinFixedContainer:!!y}),"addSectionTooltip"===R&&(0,l.jsx)(a,{anchor:C.current,hideAddSectionTooltip:w}),"planningActionsExperience"===R&&(0,l.jsx)(p,{anchor:C.current}),"createBoardTooltip"===R&&(0,l.jsx)(h,{anchor:C.current})]})}},424432:(e,t,o)=>{o.d(t,{L:()=>l,M:()=>a});var n=o(667294),i=o(425288),r=o(785893);const{Provider:s,useMaybeHook:l}=(0,i.Z)("CreateSectionTooltip");function a({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o})),[t]);return(0,r.jsx)(s,{value:i,children:e})}},131101:(e,t,o)=>{o.d(t,{Ev:()=>r,IK:()=>i,Oj:()=>s,bW:()=>l});var n=o(883119);const i=1,r=1,s=2,l=new n.Ry(5e3)},683365:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(755742),r=o(694379),s=o(6637),l=o(342877),a=o(349700),c=o(898781),d=o(883119),u=o(785893);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class h extends n.Component{constructor(...e){super(...e),_(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(this,"onDismiss",(()=>{})),_(this,"mounted",!1),_(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),_(this,"handleKeyDown",(e=>{e.keyCode===i.Z.UP?this.handlePrevHashtag(e):e.keyCode===i.Z.DOWN?this.handleNextHashtag(e):e.keyCode===i.Z.ESCAPE?this.handleClose(e):e.keyCode===i.Z.ENTER&&this.handleSubmit(e)})),_(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),_(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),_(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),_(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),_(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(s.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:o}=this.state,{anchor:n,idealDirection:i}=this.props,s=e.filter((e=>e.query)),l=i||"down",c="flyout_"+s.length;return t&&s.length>0?(0,u.jsx)(d.J2,{anchor:n,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(d.xu,{width:"100%",zIndex:new d.Ry(3),children:s.length>0?s.map(((e,t)=>(0,u.jsx)(d.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===o?"lightGray":"transparent",padding:1,children:[(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(d.xu,{flex:"none",children:(0,u.jsx)(d.xv,{inline:!0,size:"100",children:(0,a.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(r.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},c):null}}function p(e){const t=(0,c.ZP)(),o=(0,l.Z)();return(0,u.jsx)(h,{...e,makeCancelablePromise:o,i18n:t})}},837727:(e,t,o)=>{o.d(t,{d:()=>n});const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},602574:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(883119),i=o(785893);function r({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,r,s;return(0,i.jsx)(n.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,i.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(r=null==e?void 0:e.height)&&void 0!==r?r:1,naturalWidth:null!==(s=null==e?void 0:e.width)&&void 0!==s?s:1})},t)}));return(0,i.jsx)(n.kC,{justifyContent:"center",children:(0,i.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}var s=o(499128),l=o(898781),a=o(784590),c=o(50286);function d({handleHide:e,text:t,userId:o,href:d,imageUrl:u}){const _=(0,l.ZP)(),h=(0,c.HG)(),p=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),m=Array.isArray(t)?t.join(" "):t;if(0===(p.data||[]).length){const t=u?(0,i.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,i.jsx)(n.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,i.jsx)(s.ZP,{duration:5e3,onHide:e,text:m,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const g=(p.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),f=(0,i.jsx)(r,{ideaPinImages:g});return(0,i.jsx)(s.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:f,text:m,thumbnailShape:"square"})}},281216:(e,t,o)=>{o.d(t,{b:()=>n,u:()=>i});const n={SPAM:"spam",PORN:"nudity",SELF_INJURY:"self-harm",HATE_SPEECH:"hate-speech",DANGEROUS_GOODS:"dangerous-goods",HARASSMENT:"attacks",VIOLENCE:"graphic-violence",MISINFORMATION:"misinformation",MISLEADING:"misleading-promoted",OFFENSIVE:"offensive-promoted",LOW_QUALITY:"low-quality-promoted",INTELLECTUAL_PROPERTY:"intellectualProperty",PRODUCT_OFFENSIVE:"offensive-product",PRODUCT_MISLEADING:"misleading-product",PRODUCT_PROHIBITED:"prohibited-product",PRODUCT_MATURE:"mature-product",PRODUCT_WEAPONS:"weapons-product",PRODUCT_RESTRICTED_HEALTHCARE:"restricted-healthcare-product",NETZDG:"netzdg",CONSPIRACY_THEORIES:"conspiracy-theories",MEDICAL_MISINFORMATION:"medical-misinformation",POLITICAL_MISINFORMATION:"political-misinformation"},i={spam:10583,nudity:10584,"self-harm":10585,"hate-speech":10586,"dangerous-goods":11479,attacks:10587,"graphic-violence":10588,"medical-misinformation":11150,intellectualProperty:10594,"low-quality-promoted":10591,"misleading-promoted":10589,"offensive-promoted":10590,"offensive-product":11452,"misleading-product":11453,"prohibited-product":11454,"mature-product":11455,"weapons-product":11456,"restricted-healthcare-product":11457,netzdg:11683,"conspiracy-theories":11762,"political-misinformation":11760,misinformation:11790}},304515:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(81226),i=o(898781),r=o(883119),s=o(785893);function l({duration:e}){const t=(0,i.ZP)();return(0,s.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(r.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,n.Z)(e)})})]})}},572260:(e,t,o)=>{o.d(t,{ZP:()=>w});var n=o(667294),i=o(23279),r=o.n(i),s=o(722767);function l(e){const{eventData:{videoEvent:{videoDuration:t,startTime:o,endTime:n,videoStartTime:i,videoEndTime:r,isAudible:s,height:l,width:a,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}},component:m,objectId:g,view:f,viewParameter:x,...y}=e;return{component:m,object_id_str:g,view_type:f,view_parameter:x,aux_data:{...y},event_data:{videoEventData:{videoDuration:t,time:o,endTime:n,videoTime:i,endVideoTime:r,isAudible:s,height:l,width:a,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:h,viewability:p}}}}var a=o(121630),c=o(559230),d=o(407043),u=o(288273),_=o(883119),h=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const m=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",x={rootMargin:f,threshold:g},y={rootMargin:f,threshold:c.iM},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function P(){return(new Date).getTime()}function b(e){return!!e.volume&&e.volume>0}class A extends n.Component{constructor(e){super(e),p(this,"videoWrapperRef",(0,n.createRef)()),p(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:o}=this.currentInterval;e.height!==t||e.width!==o?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),p(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),p(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),p(this,"handleLoop",(()=>{this.videoTime=0})),p(this,"handleTimeChange",(e=>{const{seeking:t,ready:o}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,i=function(e,t,o,n){if(e>t)return null;if(o<=0)return null;for(const i of n){const n=i*o;if(e<=n&&t>n)return i}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof i&&this.props.playing&&!t&&o){const e=P();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*i),quartilePercentValue:i})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),p(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),p(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),p(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),p(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const o=e.slice(-1)[0],n=function(e,t){for(let o=0;o<t.length;o+=1){const n=t[o],i=t[o+1];if(null==i)return n;if(n<=e&&e<i)return n}return null}(Number.parseFloat(o.intersectionRatio.toFixed(2)),g);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:v.PAUSED}):this.startNewInterval({viewability:n}))})),p(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),p(this,"handleClose",(()=>{this.startNewInterval()})),p(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=P();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:b(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const o={};b(e)&&!b(this.props)?o.isAudible=!1:!b(e)&&b(this.props)&&(o.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(o.playbackState=n),Object.keys(o).length>0&&this.startNewInterval(o)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const o=this.videoWrapperRef.current;o.clientHeight&&o.clientWidth&&(e=o.clientHeight,t=o.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:o,contextLogData:n,logContextEvent:i}=this.props,{height:r,width:s,windowHeight:a,windowWidth:c,viewability:d,...u}=t;if(null!=r&&null!=s&&null!=a&&null!=c&&null!=d){const t={...u,height:r,width:s,windowHeight:a,windowWidth:c,viewability:o||d};i({event_type:e,...l({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=P();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=P();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:l,aspectRatio:c,backgroundColor:d,captions:p,contextLogData:m,controls:g,cropHeight:f,hlsConfig:v,inAdsDesktopVideoExperiment:P,isAutoPlay:b,loop:A,objectFit:w,onLoadedChange:C,onControlsPause:E,onControlsPlay:T,onSeek:S,onVolumeChange:I,playbackRate:j,playing:z,playsInline:R,poster:D,preload:O,rootMargin:k,src:L,surface:N,videoStartTime:M,volume:F}=this.props,{seeking:U}=this.state,B=P?y:x;return void 0!==k&&(B.rootMargin=N?(0,a.e)(N):k),(0,h.jsx)(s.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(_.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:f?{display:"flex",alignItems:"center",height:"236px"}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:o,accessibilityPauseLabel:n,accessibilityPlayLabel:i,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:l,aspectRatio:c,backgroundColor:d,captions:p,contextLogData:m,controls:g,hlsConfig:v,isAutoPlay:b,loop:A,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:C,onLoop:this.handleLoop,onControlsPause:E,onControlsPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:S,onTimeChange:this.handleTimeChange,onVolumeChange:I,playbackRate:j,playing:!U&&z,onPlay:()=>{},onPlayError:()=>{},playsInline:R,poster:D,preload:O,src:L,videoStartTime:M,visible:this.visible,volume:F})})})}}function w(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(A,{...e,logContextEvent:t})}p(A,"defaultProps",_.nk.defaultProps)},935409:(e,t,o)=>{o.d(t,{Br:()=>_,Cr:()=>C,K8:()=>x,Q_:()=>P,Tq:()=>g,YV:()=>w,ZP:()=>E,aX:()=>T,eo:()=>p,gi:()=>A,md:()=>h,oG:()=>m,oL:()=>S,of:()=>y,xH:()=>f,xQ:()=>v,xk:()=>b,yT:()=>u});var n=o(27255),i=o(31185),r=o(6637),s=o(778821),l=o(379725),a=o(875495),c=o(527885),d=o(414327);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n}}}const m=(e,t)=>o=>o((0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t}}));function g(e,t,o){return(0,l.U2)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}function f(e,t,o){return n=>r.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...o?{orbac_subject_id:o}:{}}).callUpdate().then((()=>Promise.all([n(p({boardId:e})),n(g(t,"pin_count")),n((0,a.N8)(s.DV.BOARD_SECTIONS,t))])))}function x(e){return t=>{e&&(0,c.Q)(e).forEach((e=>{t(e)}))}}const y=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),v=e=>m(e,"pin_count");function P(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function b(e,t){return o=>(o(P(e)),r.ZP.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function A(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,t){return o=>(o(A(e)),r.ZP.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const C=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),E=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function T(e,t,o){const s={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...o?{orbac_subject_id:o}:Object.freeze({})};return e=>r.ZP.create("BoardResource",s).callCreate().then((o=>{const n=o.resource_response.data;return e(t&&(0,d.jB)("BoardsResource",(0,i.Z)(t,!1))),n}))}function S(e={},t,o){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:o}}},975209:(e,t,o)=>{o.d(t,{DD:()=>d,lg:()=>u,Th:()=>h,YH:()=>l,wH:()=>s,IU:()=>_,L8:()=>c});var n=o(6637),i=o(778821),r=o(875495);function s({didItDataId:e,isLikedByMe:t}){return o=>{const i=n.ZP.create("DidItLikeResource",{didItDataId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t))}}function l({didItDataId:e,isMarkedHelpfulByMe:t}){return o=>{const i=n.ZP.create("HelpfulResource",{helpfulModelType:2,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),o(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t))}}function a(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function d({aggregatedPinDataId:e,details:t,fromUnifiedComment:o,image_signatures:s,pin_id:l,username:a,updateParentDidItCount:d}){const u={aggregatedPinDataId:e,details:t,image_signatures:s,pin_id:l};return t=>n.ZP.create("DidItActivityResource",u).callCreate().then((n=>{const s=n.resource_response.data;t({type:"PIN_DID_IT",payload:{id:l,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:s}}),t((0,r.vX)({feedId:e,feedType:o?i.DV.UNIFIED_COMMENTS:i.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),t((0,r.vX)({feedId:a,feedType:i.DV.USER_DID_IT_DATA,itemIds:[s.id],itemType:s.type})),d&&t(c(e,1))}),(()=>{}))}function u({aggregatedPinDataId:e,feedType:t,id:o,isOwnedByMe:s,pinId:l,username:d,updateParentDidItCount:u}){return _=>{n.ZP.create("DidItActivityResource",{user_did_it_data_id:o,pinId:l}).callDelete().then((n=>{s&&_(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(l)),_(a(o)),_((0,r.EX)({feedId:null!=e?e:"",feedType:t||i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,r.EX)({feedId:d,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),_((0,r.EX)({feedId:d,feedType:i.DV.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&_(c(o,-1))}),(()=>{}))}}function _({id:e,details:t,image_signatures:o,pinId:i}){const r={details:t,image_signatures:o,user_did_it_data_id:e,pin_id:i};return e=>{n.ZP.create("DidItActivityResource",r).callUpdate().then((t=>{const o=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(o))}),(()=>{}))}}function h(e,t,o,s,l){const c={reason:s,detailed_reasons:t,user_did_it_data_id:o};return t=>{n.ZP.create("DidItActivityFlagResource",c).callCreate().then((()=>{t(a(o)),e&&t((0,r.EX)({feedId:e,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"})),t((0,r.EX)({feedId:l,feedType:i.DV.USER_DID_IT_DATA,itemIds:[o],itemType:"userdiditdata"}))}),(()=>{}))}}},875495:(e,t,o)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}o.d(t,{EX:()=>s,N8:()=>i,Qv:()=>r,_f:()=>n,vX:()=>l});const r=(e,t,o=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:o,items:t}});function s(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},195139:(e,t,o)=>{function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}o.d(t,{R:()=>n})},622878:(e,t,o)=>{function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function i(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>i,m:()=>n})},5226:(e,t,o)=>{o.d(t,{KF:()=>c,ZN:()=>s,fv:()=>a,yA:()=>l});var n=o(6637),i=o(482546);function r(e,t){return n.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function s(e,t=null){return o=>{r(e,t).callCreate().catch((()=>o((0,i.P_)(e,!1)))),o((0,i.P_)(e,!0))}}function l(e,t=null){return async o=>{o((0,i.P_)(e,!0)),await r(e,t).callCreate().catch((t=>{throw o((0,i.P_)(e,!1)),t}))}}function a(e,t=null){return o=>{r(e,t).callDelete().catch((()=>o((0,i.P_)(e,!0)))),o((0,i.P_)(e,!1))}}function c(e,t=null){return async o=>{o((0,i.P_)(e,!1)),await r(e,t).callDelete().catch((t=>{throw o((0,i.P_)(e,!0)),t}))}}},482546:(e,t,o)=>{o.d(t,{Ge:()=>a,JS:()=>r,P_:()=>s,Vw:()=>i,h2:()=>c,h6:()=>d});var n=o(6637);function i(e){return{type:"USER_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),a=(e,t)=>o=>(o(l(e,!0)),n.ZP.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>o(l(e,!1))))),c=e=>t=>(t(l(e,!1)),n.ZP.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(l(e,!0)))));function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}},337234:(e,t,o)=>{o.d(t,{Z:()=>N});var n=o(667294),i=o(966338),r=o(45347),s=o(319915),l=o(580496),a=o(263116),c=o(965261),d=o(335972),u=o(497997),_=o(86551),h=o(604052),p=o(19121),m=o(424432),g=o(622878),f=o(826067),x=o(134679),y=o(276602),v=o(376451),P=o(925927),b=o(785893);const A=(0,a.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!o.m[t]},importAsync:()=>Promise.resolve().then(o.bind(o,774026)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve(){return 774026}}),w=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,821343)))),C=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,460465)))),E=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,890328)))),T=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,256883)))),S=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,410004)))),I=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,285970)))),j=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,850071)))),z=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,958754)))),R=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,117855)))),D=(0,n.lazy)((()=>Promise.resolve().then(o.bind(o,375553))));function O(e){switch(e){case"pins":return(0,b.jsx)(C,{});case"_created":return(0,b.jsx)(E,{});case"_followers":return(0,b.jsx)(T,{});case"_following":return(0,b.jsx)(S,{});case"_saved":return(0,b.jsx)(j,{});case"tried":return(0,b.jsx)(I,{});case"topics":return(0,b.jsx)(z,{});case"story_pins":return(0,b.jsx)(R,{});case"video_pins":return(0,b.jsx)(D,{});case"_shop":return(0,b.jsx)(w,{});default:return(0,b.jsx)(A,{})}}A.preload();const k=()=>{const e=(0,p.Z)(),t=(0,P.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)};function L(){var e;const t=(0,y.EV)(),o=(0,i.useDispatch)(),a=(0,P.k6)(),d=(0,P.TH)(),p=(0,P.$B)(),A=(0,i.useSelector)((({ui:e})=>e.mainComponent.locationToErrorMap)),w=(0,_.Z)(),C=(0,l.Z)(w.data);(0,h.Z)({name:"UserResource",getOptions:({routeData:{params:{username:e}}})=>({username:e,field_set_key:"board_visibility"}),checkExperiments:e=>{const{anyEnabled:t}=e.checkExperiment("web_shopping_list_controls",{dangerouslySkipActivation:!0});return t}}),(0,n.useEffect)((()=>{(0,c.Z)()}),[]),t&&C&&t.abort("business_profile");const E=(null===(e=w.data)||void 0===e?void 0:e.has_catalog)&&RegExp(/\?pin=/).test(d.search),T=p.path.split("/").filter(Boolean),S=(0,v.x)({tab:x.u.DECIDER,userData:w.data}),I=T[1]||S||x.u.DECIDER,j=C&&w.data?(0,b.jsx)(r.Z,{businessProfileTab:I}):O(I);return(0,b.jsx)(m.M,{children:(0,b.jsx)(v.Z,{history:a,minimalPartnerHeader:E,renderError:A[d.pathname],showPulsar:Boolean((0,f.mB)(d.search).showPulsar),tab:I,unsetError:()=>o((0,g.L)(d.pathname)),username:p.params.username||"",children:(0,b.jsx)(s.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:(0,b.jsx)(u.Z,{children:j})})})})}function N(){const e=k();return(0,b.jsx)(d.Z,{surface:e?"own_profile":"other_profile",customEnabledNavigationTypes:["client_route_push","client_route_replace"],measureGridVisuallyComplete:!0,children:(0,b.jsx)(L,{})})}},597897:(e,t,o)=>{o.d(t,{U:()=>r,Z:()=>s});var n=o(667294);const i=(0,n.createContext)();function r(){return(0,n.useContext)(i)}const s=i},610248:e=>{e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},e=>{e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5),e.O(0,[77429],(()=>{[97270,67228,89181,92982,47995,37903,48035,5035,43473,22347,22538,1593].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[97270,83119,67631,66113,62015,25927,21151,78821,46934,54372,96991,88273,25643,69853,34441,83046,76532,22521,4646,90543,66898,90534,33035],(()=>(t(559637),t(205418),t(992127),t(679875),t(52193),t(38101),t(907254),t(331137),t(832753),t(333905))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]-authdesktop-217ceeaaffcfc853.mjs.map